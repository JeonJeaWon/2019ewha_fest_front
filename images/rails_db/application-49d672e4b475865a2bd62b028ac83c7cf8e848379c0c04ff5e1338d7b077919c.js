function checkForDOMChange(){stickyFooter()}function getCSS(t,e){var n=document.getElementsByTagName(t)[0],i=null;return n.currentStyle?i=n.currentStyle[e]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(n,null).getPropertyValue(e)),i}function stickyFooter(){if(null!=document.getElementsByTagName("footer")[0].getAttribute("style")&&document.getElementsByTagName("footer")[0].removeAttribute("style"),window.innerHeight!=document.body.offsetHeight){var t=window.innerHeight-document.body.offsetHeight,e=getCSS("footer","margin-top");1==isNaN(e)?(document.getElementsByTagName("footer")[0].setAttribute("style","margin-top:0px;"),e=0):e=parseInt(e),e+t>parseInt(getCSS("footer","margin-top"))&&document.getElementsByTagName("footer")[0].setAttribute("style","margin-top:"+(e+t)+"px;")}}function write_column_to_cookie(t,e){column_names=get_column_names_from_cookie(t),$.cookie(t,column_names+=","+e)}function remove_column_from_cookie(t,e){column_names=get_column_names_from_cookie(t),$.cookie(t,column_names.replace(","+e,""))}function get_column_names_from_cookie(t){return cookie=$.cookie(t),cookie==undefined?"":cookie}function switch_column_visibility(t){$("th.column_"+t).toggle(),$("td.column_"+t).toggle()}function toggle_columns(){0==$(".column-name input:checked").length&&$(".column-name input[type=checkbox]").each(function(){column_name=$(this).prop("name"),$(this).prop("checked",!0),remove_column_from_cookie(table_name,column_name),switch_column_visibility(column_name)})}function expand_collapse(){$("#main_content").toggleClass("push-3"),$("#main_content").toggleClass("large-9"),$("#main_content").toggleClass("large-12"),$("#sidebar").toggle(),$(".collapse").toggle(),$(".expand").toggle()}function save_expand_collapse(){$.removeCookie("sidebar_visible"),$.cookie("sidebar_visible",$(".expand").is(":visible"),{expires:30,path:"/"})}function init_sql_editor(t,e){var n=CodeMirror.fromTextArea($("#sql").get(0),{mime:t,hint:CodeMirror.hint.sql,matchBrackets:!0,smartIndent:!0,autofocus:!0,theme:"pastel-on-dark",lineNumbers:!0,mode:"text/x-sql",tabSize:4,height:"auto",extraKeys:{Esc:"autocomplete",Ctrl:"autocomplete","Ctrl-Space":"autocomplete","Ctrl-Enter":function(){$(n.getInputField()).parents("form").submit()}},hintOptions:{tables:e}});n.setSize("100%","300"),n.focus()}function set_browser_url(t){"undefined"!=typeof history.pushState&&window.history.pushState({path:t},"",t)}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(p,t){function a(t){var e="length"in t&&t.length,n=J.type(t);return"function"!==n&&!J.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}function i(t,n,i){if(J.isFunction(n))return J.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return J.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(at.test(n))return J.filter(n,t,i);n=J.filter(n,t)}return J.grep(t,function(t){return 0<=G.call(n,t)!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t){var n=pt[t]={};return J.each(t.match(ft)||[],function(t,e){n[e]=!0}),n}function e(){Q.removeEventListener("DOMContentLoaded",e,!1),p.removeEventListener("load",e,!1),J.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+l.uid++}function c(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(bt,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:yt.test(n)?J.parseJSON(n):n)}catch(r){}vt.set(t,e,n)}else n=void 0;return n}function n(){return!0}function u(){return!1}function d(){try{return Q.activeElement}catch(p){}}function o(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function m(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n=0,i=t.length;n<i;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function f(t,e){var n,i,r,o,s,a,l,c;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),s=mt.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)J.event.add(e,r,c[r][n]);vt.hasData(t)&&(a=vt.access(t),l=J.extend({},a),vt.set(e,l))}}function y(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],n):n}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&St.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function s(t,e){var n,i=J(e.createElement(t)).appendTo(e.body),r=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:J.css(i[0],"display");return i.detach(),r}function _(t){var e=Q,n=$t[t];return n||("none"!==(n=s(t,e))&&n||((e=(Pt=(Pt||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=s(t,e),Pt.detach()),$t[t]=n),n}function x(t,e,n){var i,r,o,s,a=t.style;return(n=n||Bt(t))&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||J.contains(t.ownerDocument,t)||(s=J.style(t,e)),It.test(s)&&Rt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function w(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Yt.length;r--;)if((e=Yt[r]+n)in t)return e;return i}function k(t,e,n){var i=Gt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=J.css(t,n+Ct[o],!0,r)),i?("content"===n&&(s-=J.css(t,"padding"+Ct[o],!0,r)),"margin"!==n&&(s-=J.css(t,"border"+Ct[o]+"Width",!0,r))):(s+=J.css(t,"padding"+Ct[o],!0,r),"padding"!==n&&(s+=J.css(t,"border"+Ct[o]+"Width",!0,r)));return s}function T(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Bt(t),s="border-box"===J.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=x(t,e,o))<0||null==r)&&(r=t.style[e]),It.test(r))return r;i=s&&(Y.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(s?"border":"content"),i,o)+"px"}function L(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=mt.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(o[s]=mt.access(i,"olddisplay",_(i.nodeName)))):(r=kt(i),"none"===n&&r||mt.set(i,"olddisplay",r?n:J.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function A(t,e,n,i,r){return new A.prototype.init(t,e,n,i,r)}function M(){return setTimeout(function(){Qt=void 0}),Qt=J.now()}function N(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Ct[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function D(t,e,n){for(var i,r=(se[e]||[]).concat(se["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function E(e,t,n){var i,r,o,s,a,l,c,u=this,d={},h=e.style,f=e.nodeType&&kt(e),p=mt.get(e,"fxshow");for(i in n.queue||(null==(a=J._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,J.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=J.css(e,"display"))?mt.get(e,"olddisplay")||_(e.nodeName):c)&&"none"===J.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(r=t[i],ne.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||J.style(e,i)}else c=void 0;if(J.isEmptyObject(d))"inline"===("none"===c?_(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=mt.access(e,"fxshow",{}),o&&(p.hidden=!f),f?J(e).show():u.done(function(){J(e).hide()}),u.done(function(){var t;for(t in mt.remove(e,"fxshow"),d)J.style(e,t,d[t])}),d)s=D(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function H(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=J.camelCase(n)],o=t[n],J.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=J.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function j(o,t,e){var n,s,i=0,r=oe.length,a=J.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Qt||M(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return a.notifyWith(o,[c,n,e]),n<1&&r?e:(a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Qt||M(),duration:e.duration,tweens:[],createTween:function(t,e){var n=J.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)c.tweens[e].run(1);return t?a.resolveWith(o,[c,t]):a.rejectWith(o,[c,t]),this}}),u=c.props;for(H(u,c.opts.specialEasing);i<r;i++)if(n=oe[i].call(c,o,u,c.opts))return n;return J.map(u,D,c),J.isFunction(c.opts.start)&&c.opts.start.call(o,c),J.fx.timer(J.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(ft)||[];if(J.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function F(e,r,o,s){function a(t){var i;return l[t]=!0,J.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),a(n),!1)}),i}var l={},c=e===Ce;return a(r.dataTypes[0])||!l["*"]&&a("*")}function W(t,e){var n,i,r=J.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&J.extend(!0,t,i),t}function q(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function z(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function P(n,t,i,r){var e;if(J.isArray(t))J.each(t,function(t,e){i||Ae.test(n)?r(n,e):P(n+"["+("object"==typeof e?t:"")+"]",e,i,r)});else if(i||"object"!==J.type(t))r(n,t);else for(e in t)P(n+"["+e+"]",t[e],i,r)}function $(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var R=[],I=R.slice,B=R.concat,U=R.push,G=R.indexOf,X={},V=X.toString,K=X.hasOwnProperty,Y={},Q=p.document,Z="2.1.4",J=function(t,e){return new J.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:Z,constructor:J,selector:"",length:0,toArray:function(){return I.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:I.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(n){return this.pushStack(J.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:R.sort,splice:R.splice},J.extend=J.fn.extend=function(t){var e,n,i,r,o,s,a=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==typeof a||J.isFunction(a)||(a={}),l===c&&(a=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],a!==(r=e[n])&&(u&&r&&(J.isPlainObject(r)||(o=J.isArray(r)))?(o?(o=!1,s=i&&J.isArray(i)?i:[]):s=i&&J.isPlainObject(i)?i:{},a[n]=J.extend(u,s,r)):void 0!==r&&(a[n]=r));return a},J.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&0<=t-parseFloat(t)+1},isPlainObject:function(t){return"object"===J.type(t)&&!t.nodeType&&!J.isWindow(t)&&!(t.constructor&&!K.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[V.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=J.trim(t))&&(1===t.indexOf("use strict")?((e=Q.createElement("script")).text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,r=t.length,o=a(t);if(n){if(o)for(;i<r&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(o)for(;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?J.merge(n,"string"==typeof t?[t]:t):U.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:G.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r=0,o=t.length,s=[];if(a(t))for(;r<o;r++)null!=(i=e(t[r],r,n))&&s.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&s.push(i);return B.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),J.isFunction(t)?(i=I.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(I.call(arguments)))}).guid=t.guid=t.guid||J.guid++,r):void 0},now:Date.now,support:Y}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var rt=function(n){function _(t,e,n,i){var r,o,s,a,l,c,u,d,h,f;if((e?e.ownerDocument||e:P)!==E&&D(e),n=n||[],a=(e=e||E).nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&j){if(11!==a&&(r=yt.exec(t)))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&q(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&v.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(v.qsa&&(!O||!O.test(t))){if(d=u=z,h=e,f=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(u=e.getAttribute("id"))?d=u.replace(_t,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+g(c[l]);h=bt.test(t)&&p(e.parentNode)||e,f=c.join(",")}if(f)try{return Z.apply(n,h.querySelectorAll(f)),n}catch(x){}finally{u||e.removeAttribute("id")}}}return L(t.replace(lt,"$1"),e,n,i)}function i(){function n(t,e){return i.push(t+" ")>w.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[z]=!0,t}function r(t){var e=E.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function t(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function e(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function s(s){return l(function(o){return o=+o,l(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function p(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function a(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var a=t.dir,l=e&&"parentNode"===a,c=R++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||l)return s(t,e,n)}:function(t,e,n){var i,r,o=[$,c];if(n){for(;t=t[a];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||l){if((i=(r=t[z]||(t[z]={}))[a])&&i[0]===$&&i[1]===c)return o[2]=i[2];if((r[a]=o)[2]=s(t,e,n))return!0}}}function h(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)_(t,e[i],n);return n}function x(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),c&&e.push(a));return s}function b(f,p,g,m,v,t){return m&&!m[z]&&(m=b(m)),v&&!v[z]&&(v=b(v,t)),l(function(t,e,n,i){var r,o,s,a=[],l=[],c=e.length,u=t||y(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?u:x(u,a,f,n,i),h=g?v||(t?f:c||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(r=x(h,l),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(h[l[o]]=!(d[l[o]]=s));if(t){if(v||f){if(v){for(r=[],o=h.length;o--;)(s=h[o])&&r.push(d[o]=s);v(null,h=[],r,i)}for(o=h.length;o--;)(s=h[o])&&-1<(r=v?tt(t,s):a[o])&&(t[r]=!(e[r]=s))}}else h=x(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):Z.apply(e,h)})}function f(t){for(var r,e,n,i=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=d(function(t){return t===r},s,!0),c=d(function(t){return-1<tt(r,t)},s,!0),u=[function(t,e,n){var i=!o&&(n||e!==A)||((r=e).nodeType?l(t,e,n):c(t,e,n));return r=null,i}];a<i;a++)if(e=w.relative[t[a].type])u=[d(h(u),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[z]){for(n=++a;n<i&&!w.relative[t[n].type];n++);return b(1<a&&h(u),1<a&&g(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),e,a<n&&f(t.slice(a,n)),n<i&&f(t=t.slice(n)),n<i&&g(t))}u.push(e)}return h(u)}function u(m,v){var y=0<v.length,b=0<m.length,t=function(t,e,n,i,r){var o,s,a,l=0,c="0",u=t&&[],d=[],h=A,f=t||b&&w.find.TAG("*",r),p=$+=null==h?1:Math.random()||.1,g=f.length;for(r&&(A=e!==E&&e);c!==g&&null!=(o=f[c]);c++){if(b&&o){for(s=0;a=m[s++];)if(a(o,e,n)){i.push(o);break}r&&($=p)}y&&((o=!a&&o)&&l--,t&&u.push(o))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=Y.call(i));d=x(d)}Z.apply(i,d),r&&!t&&0<d.length&&1<l+v.length&&_.uniqueSort(i)}return r&&($=p,A=h),u};return y?l(t):t}var m,v,w,C,k,S,T,L,A,M,N,D,E,H,j,O,F,W,q,z="sizzle"+1*new Date,P=n.document,$=0,R=0,I=i(),B=i(),U=i(),G=function(t,e){return t===e&&(N=!0),0},X=1<<31,V={}.hasOwnProperty,K=[],Y=K.pop,Q=K.push,Z=K.push,J=K.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(st),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){D()};try{Z.apply(K=J.call(P.childNodes),P.childNodes),K[P.childNodes.length].nodeType}catch(St){Z={apply:K.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(m in v=_.support={},k=_.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=_.setDocument=function(t){var e,n,l=t?t.ownerDocument||t:P;return l!==E&&9===l.nodeType&&l.documentElement?(H=(E=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),j=!k(l),v.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=r(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=vt.test(l.getElementsByClassName),v.getById=r(function(t){return H.appendChild(t).id=z,!l.getElementsByName||!l.getElementsByName(z).length}),v.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(xt,wt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=v.getElementsByClassName&&function(t,e){return j?e.getElementsByClassName(t):void 0},F=[],O=[],(v.qsa=vt.test(l.querySelectorAll))&&(r(function(t){H.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(v.matchesSelector=vt.test(W=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&r(function(t){v.disconnectedMatch=W.call(t,"div"),W.call(t,"[s!='']:x"),F.push("!=",st)}),O=O.length&&new RegExp(O.join("|")),F=F.length&&new RegExp(F.join("|")),e=vt.test(H.compareDocumentPosition),q=e||vt.test(H.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===P&&q(P,t)?-1:e===l||e.ownerDocument===P&&q(P,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===l?-1:e===l?1:r?-1:o?1:M?tt(M,t)-tt(M,e):0;if(r===o)return c(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?c(s[i],a[i]):s[i]===P?-1:a[i]===P?1:0},l):E},_.matches=function(t,e){return _(t,null,null,e)},_.matchesSelector=function(t,e){if((t.ownerDocument||t)!==E&&D(t),e=e.replace(dt,"='$1']"),v.matchesSelector&&j&&(!F||!F.test(e))&&(!O||!O.test(e)))try{var n=W.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return 0<_(e,E,null,[t]).length},_.contains=function(t,e){return(t.ownerDocument||t)!==E&&D(t),q(t,e)},_.attr=function(t,e){(t.ownerDocument||t)!==E&&D(t);var n=w.attrHandle[e.toLowerCase()],i=n&&V.call(w.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==i?i:v.attributes||!j?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},_.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},_.uniqueSort=function(t){var e,n=[],i=0,r=0;if(N=!v.detectDuplicates,M=!v.sortStable&&t.slice(0),t.sort(G),N){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return M=null,t},C=_.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},(w=_.selectors={cacheLength:50,createPseudo:l,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||_.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&_.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=I[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&I(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=_.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,l,c=m!==v?"nextSibling":"previousSibling",u=t.parentNode,d=y&&t.nodeName.toLowerCase(),h=!n&&!y;if(u){if(m){for(;c;){for(o=t;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(a=(i=(r=u[z]||(u[z]={}))[f]||[])[0]===$&&i[1],s=i[0]===$&&i[2],o=a&&u.childNodes[a];o=++a&&o&&o[c]||(s=a=0)||l.pop();)if(1===o.nodeType&&++s&&o===t){r[f]=[$,a,s];break}}else if(h&&(i=(t[z]||(t[z]={}))[f])&&i[0]===$)s=i[1];else for(;(o=++a&&o&&o[c]||(s=a=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++s||(h&&((o[z]||(o[z]={}))[f]=[$,s]),o!==t)););return(s-=g)===p||s%p==0&&0<=s/p}}},PSEUDO:function(t,o){var e,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||_.error("unsupported pseudo: "+t);return s[z]?s(o):1<s.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:l(function(t){var i=[],r=[],a=T(t.replace(lt,"$1"));return a[z]?l(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(e){return function(t){return 0<_(e,t).length}}),contains:l(function(e){return e=e.replace(xt,wt),function(t){return-1<(t.textContent||t.innerText||C(t)).indexOf(e)}}),lang:l(function(n){return ft.test(n||"")||_.error("unsupported lang: "+n),n=n.replace(xt,wt).toLowerCase(),function(t){var e;do{if(e=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===H},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[m]=e(m);for(m in{submit:!0,reset:!0})w.pseudos[m]=o(m);return a.prototype=w.filters=w.pseudos,w.setFilters=new a,S=_.tokenize=function(t,e){var n,i,r,o,s,a,l,c=B[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],l=w.preFilter;s;){for(o in(!n||(i=ct.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=ut.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(lt," ")}),s=s.slice(n.length)),w.filter)!(i=pt[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?_.error(t):B(t,a).slice(0)},T=_.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=f(e[n]))[z]?i.push(o):r.push(o);(o=U(t,u(r,i))).selector=t}return o},L=_.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,u=!i&&S(t=c.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&v.getById&&9===e.nodeType&&j&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(xt,wt),e)||[])[0]))return n;c&&(e=e.parentNode),
t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((l=w.find[a])&&(i=l(s.matches[0].replace(xt,wt),bt.test(o[0].type)&&p(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&g(o)))return Z.apply(n,i),n;break}}return(c||T(t,u))(i,e,!j,n,bt.test(t)&&p(e.parentNode)||e),n},v.sortStable=z.split("").sort(G).join("")===z,v.detectDuplicates=!!N,D(),v.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||t("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||t("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||t(et,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),_}(p);J.find=rt,J.expr=rt.selectors,J.expr[":"]=J.expr.pseudos,J.unique=rt.uniqueSort,J.text=rt.getText,J.isXMLDoc=rt.isXML,J.contains=rt.contains;var ot=J.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;J.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?J.find.matchesSelector(i,t)?[i]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;e<n;e++)if(J.contains(r[e],this))return!0}));for(e=0;e<n;e++)J.find(t,r[e],i);return(i=this.pushStack(1<n?J.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ot.test(t)?J(t):t||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(J.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:ct.exec(t))||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),st.test(n[1])&&J.isPlainObject(e))for(n in e)J.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=Q.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))}).prototype=J.fn,lt=J(Q);var ut=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&J(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),J.fn.extend({has:function(t){var e=J(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ot.test(t)||"string"!=typeof t?J(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&J.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?J.unique(o):o)},index:function(t){return t?"string"==typeof t?G.call(J(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,n){return J.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,n){return J.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return J.dir(t,"previousSibling",n)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(i,r){J.fn[i]=function(t,e){var n=J.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=J.filter(e,n)),1<this.length&&(dt[i]||J.unique(n),ut.test(i)&&n.reverse()),this.pushStack(n)}});var ht,ft=/\S+/g,pt={};J.Callbacks=function(r){r="string"==typeof r?pt[r]||h(r):J.extend({},r);var e,n,o,s,a,i,l=[],c=!r.once&&[],u=function(t){for(e=r.memory&&t,n=!0,i=s||0,s=0,a=l.length,o=!0;l&&i<a;i++)if(!1===l[i].apply(t[0],t[1])&&r.stopOnFalse){e=!1;break}o=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;!function i(t){J.each(t,function(t,e){var n=J.type(e);"function"===n?r.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),o?a=l.length:e&&(s=t,u(e))}return this},remove:function(){return l&&J.each(arguments,function(t,e){for(var n;-1<(n=J.inArray(e,l,n));)l.splice(n,1),o&&(n<=a&&a--,n<=i&&i--)}),this},has:function(t){return t?-1<J.inArray(t,l):!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||n&&!c||(e=[t,(e=e||[]).slice?e.slice():e],o?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(t){var o=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return J.Deferred(function(i){J.each(o,function(t,e){var n=J.isFunction(r[t])&&r[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===s?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?J.extend(t,s):s}},a={};return s.pipe=s.then,J.each(o,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var r,e,n,i=0,o=I.call(arguments),s=o.length,a=1!==s||t&&J.isFunction(t.promise)?s:0,l=1===a?t:J.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?I.call(arguments):t,i===r?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<s)for(r=new Array(s),e=new Array(s),n=new Array(s);i<s;i++)o[i]&&J.isFunction(o[i].promise)?o[i].promise().done(c(i,n,o)).fail(l.reject).progress(c(i,e,r)):--a;return a||l.resolveWith(n,o),l.promise()}}),J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(!0===t?--J.readyWait:J.isReady)||((J.isReady=!0)!==t&&0<--J.readyWait||(ht.resolveWith(Q,[J]),J.fn.triggerHandler&&(J(Q).triggerHandler("ready"),J(Q).off("ready"))))}}),J.ready.promise=function(t){return ht||(ht=J.Deferred(),"complete"===Q.readyState?setTimeout(J.ready):(Q.addEventListener("DOMContentLoaded",e,!1),p.addEventListener("load",e,!1))),ht.promise(t)},J.ready.promise();var gt=J.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===J.type(n))for(a in r=!0,n)J.access(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,J.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(J(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},l.uid=1,l.accepts=J.acceptData,l.prototype={key:function(t){if(!l.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=l.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,J.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(J.isEmptyObject(o))J.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,J.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{J.isArray(e)?i=e.concat(e.map(J.camelCase)):(r=J.camelCase(e),e in s?i=[e,r]:i=(i=r)in s?[i]:i.match(ft)||[]),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new l,vt=new l,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;J.extend({hasData:function(t){return vt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return vt.access(t,e,n)},removeData:function(t,e){vt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),J.fn.extend({data:function(i,t){var e,n,r,o=this[0],s=o&&o.attributes;if(void 0===i){if(this.length&&(r=vt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&(0===(n=s[e].name).indexOf("data-")&&(n=J.camelCase(n.slice(5)),c(o,n,r[n])));mt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof i?this.each(function(){vt.set(this,i)}):gt(this,function(e){var t,n=J.camelCase(i);if(o&&void 0===e){if(void 0!==(t=vt.get(o,i)))return t;if(void 0!==(t=vt.get(o,n)))return t;if(void 0!==(t=c(o,n,void 0)))return t}else this.each(function(){var t=vt.get(this,n);vt.set(this,n,e),-1!==i.indexOf("-")&&void 0!==t&&vt.set(this,i,e)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){vt.remove(this,t)})}}),J.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=mt.get(t,e),n&&(!i||J.isArray(n)?i=mt.access(t,e,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=J.queue(t,e),i=n.length,r=n.shift(),o=J._queueHooks(t,e),s=function(){J.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:J.Callbacks("once memory").add(function(){mt.remove(t,[e+"queue",n])})})}}),J.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?J.queue(this[0],e):void 0===n?this:this.each(function(){var t=J.queue(this,e,n);J._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&J.dequeue(this,e)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=J.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=mt.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var _t,xt,wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},St=/^(?:checkbox|radio)$/i;_t=Q.createDocumentFragment().appendChild(Q.createElement("div")),(xt=Q.createElement("input")).setAttribute("type","radio"),xt.setAttribute("checked","checked"),xt.setAttribute("name","t"),_t.appendChild(xt),Y.checkClone=_t.cloneNode(!0).cloneNode(!0).lastChild.checked,_t.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!_t.cloneNode(!0).lastChild.defaultValue;var Tt="undefined";Y.focusinBubbles="onfocusin"in p;var Lt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,f,p,g,m=mt.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=J.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof J!==Tt&&J.event.triggered!==t.type?J.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(ft)||[""]).length;c--;)f=g=(a=Nt.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=J.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=J.event.special[f]||{},u=J.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&J.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),J.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,d,h,f,p,g,m=mt.hasData(t)&&mt.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(ft)||[""]).length;c--;)if(f=g=(a=Nt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=J.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||J.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)J.event.remove(t,f+e[c],n,i,!0);J.isEmptyObject(l)&&(delete m.handle,mt.remove(t,"events"))}},trigger:function(t,e,n,i){var r,o,s,a,l,c,u,d=[n||Q],h=K.call(t,"type")?t.type:t,f=K.call(t,"namespace")?t.namespace.split("."):[];if(o=s=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!Mt.test(h+J.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,(t=t[J.expando]?t:new J.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:J.makeArray(e,[t]),u=J.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!J.isWindow(n)){for(a=u.delegateType||h,Mt.test(a+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(n.ownerDocument||Q)&&d.push(s.defaultView||s.parentWindow||p)}for(r=0;(o=d[r++])&&!t.isPropagationStopped();)t.type=1<r?a:u.bindType||h,(c=(mt.get(o,"events")||{})[t.type]&&mt.get(o,"handle"))&&c.apply(o,e),(c=l&&o[l])&&c.apply&&J.acceptData(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),e)||!J.acceptData(n)||l&&J.isFunction(n[h])&&!J.isWindow(n)&&((s=n[l])&&(n[l]=null),n[J.event.triggered=h](),J.event.triggered=void 0,s&&(n[l]=s)),t.result}},dispatch:function(t){t=J.event.fix(t);var e,n,i,r,o,s=[],a=I.call(arguments),l=(mt.get(this,"events")||{})[t.type]||[],c=J.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=J.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,void 0!==(i=((J.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(i=[],n=0;n<a;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?0<=J(r,this).index(l):J.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||Q).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=At.test(r)?this.mouseHooks:Lt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new J.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=J.extend(new J.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?J.event.trigger(r,null,e):J.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?n:u):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=n,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=n,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=n,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){J.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return(!i||i!==n&&!J.contains(n,i))&&(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),Y.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){J.event.simulate(i,t.target,J.event.fix(t),!0)};J.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=mt.access(t,i);e||t.addEventListener(n,r,!0),mt.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=mt.access(t,i)-1;e?mt.access(t,i,e):(t.removeEventListener(n,r,!0),mt.remove(t,i))}}}),J.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){for(s in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(s,e,n,t[s],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=u;else if(!i)return this;return 1===r&&(o=i,(i=function(t){return J().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,J(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=u),this.each(function(){J.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?J.event.trigger(t,e,n,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Et=/<([\w:]+)/,Ht=/<|&#?\w+;/,jt=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Wt=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,J.extend({clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=J.contains(t.ownerDocument,t);if(!(Y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(s=y(a),i=0,r=(o=y(t)).length;i<r;i++)b(o[i],s[i]);if(e)if(n)for(o=o||y(t),s=s||y(a),i=0,r=o.length;i<r;i++)f(o[i],s[i]);else f(t,a);return 0<(s=y(a,"script")).length&&v(s,!l&&y(t,"script")),a},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u=e.createDocumentFragment(),d=[],h=0,f=t.length;h<f;h++)if((r=t[h])||0===r)if("object"===J.type(r))J.merge(d,r.nodeType?[r]:r);else if(Ht.test(r)){for(o=o||u.appendChild(e.createElement("div")),s=(Et.exec(r)||["",""])[1].toLowerCase(),a=zt[s]||zt._default,o.innerHTML=a[1]+r.replace(Dt,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;J.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(e.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!i||-1===J.inArray(r,i))&&(l=J.contains(r.ownerDocument,r),o=y(u.appendChild(r),"script"),l&&v(o),n))for(c=0;r=o[c++];)Ft.test(r.type||"")&&n.push(r);return u},cleanData:function(t){for(var e,n,i,r,o=J.event.special,s=0;void 0!==(n=t[s]);s++){if(J.acceptData(n)&&((r=n[mt.expando])&&(e=mt.cache[r]))){if(e.events)for(i in e.events)o[i]?J.event.remove(n,i):J.removeEvent(n,i,e.handle);mt.cache[r]&&delete mt.cache[r]}delete vt.cache[n[vt.expando]]}}}),J.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||o(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=o(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?J.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||J.cleanData(y(n)),n.parentNode&&(e&&J.contains(n.ownerDocument,n)&&v(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!jt.test(t)&&!zt[(Et.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Dt,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(J.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=t;return this.domManip(arguments,function(t){e=this.parentNode,J.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=B.apply([],n);var t,e,r,o,s,a,l=0,c=this.length,u=this,d=c-1,h=n[0],f=J.isFunction(h);if(f||1<c&&"string"==typeof h&&!Y.checkClone&&Ot.test(h))return this.each(function(t){var e=u.eq(t);f&&(n[0]=h.call(this,t,e.html())),e.domManip(n,i)});if(c&&(e=(t=J.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===t.childNodes.length&&(t=e),e)){for(o=(r=J.map(y(t,"script"),g)).length;l<c;l++)s=t,l!==d&&(s=J.clone(s,!0,!0),o&&J.merge(r,y(s,"script"))),i.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,J.map(r,m),l=0;l<o;l++)s=r[l],Ft.test(s.type||"")&&!mt.access(s,"globalEval")&&J.contains(a,s)&&(s.src?J._evalUrl&&J._evalUrl(s.src):J.globalEval(s.textContent.replace(qt,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){J.fn[t]=function(t){for(var e,n=[],i=J(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),J(i[o])[s](e),U.apply(n,e.get());return this.pushStack(n)}});var Pt,$t={},Rt=/^margin/,It=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Bt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):p.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(r);var t=p.getComputedStyle(o,null);e="1%"!==t.top,n="4px"===t.width,i.removeChild(r)}var e,n,i=Q.documentElement,r=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),p.getComputedStyle&&J.extend(Y,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,e=o.appendChild(Q.createElement("div"));return e.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",o.style.width="1px",i.appendChild(r),t=!parseFloat(p.getComputedStyle(e,null).marginRight),i.removeChild(r),o.removeChild(e),t}}))}(),J.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};var Ut=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+wt+")(.*)$","i"),Xt=new RegExp("^([+-])=("+wt+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=J.camelCase(e),l=t.style;return e=J.cssProps[a]||(J.cssProps[a]=w(l,a)),s=J.cssHooks[e]||J.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:("string"===(o=typeof n)&&(r=Xt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(J.css(t,e)),o="number"),void(null!=n&&n==n&&("number"!==o||J.cssNumber[a]||(n+="px"),Y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=J.camelCase(e);return e=J.cssProps[a]||(J.cssProps[a]=w(t.style,a)),(s=J.cssHooks[e]||J.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=x(t,e,i)),"normal"===r&&e in Kt&&(r=Kt[e]),""===n||n?(o=parseFloat(r),!0===n||J.isNumeric(o)?o||0:r):r}}),J.each(["height","width"],function(t,r){J.cssHooks[r]={get:function(t,e,n){return e?Ut.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Vt,function(){return T(t,r,n)}):T(t,r,n):void 0},set:function(t,e,n){var i=n&&Bt(t);return k(t,e,n?S(t,r,n,"border-box"===J.css(t,"boxSizing",!1,i),i):0)}}}),J.cssHooks.marginRight=C(Y.reliableMarginRight,function(t,e){return e?J.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(r,o){J.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Ct[e]+o]=i[e]||i[e-2]||i[0];return n}},Rt.test(r)||(J.cssHooks[r+o].set=k)}),J.fn.extend({css:function(t,e){return gt(this,function(t,e,n){var i,r,o={},s=0;if(J.isArray(e)){for(i=Bt(t),r=e.length;s<r;s++)o[e[s]]=J.css(t,e[s],!1,i);return o}return void 0!==n?J.style(t,e,n):J.css(t,e)},t,e,1<arguments.length)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?J(this).show():J(this).hide()})}}),(J.Tween=A).prototype={constructor:A,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,n=A.propHooks[this.prop];return this.options.duration?this.pos=e=J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=A.prototype.init,J.fx.step={};var Qt,Zt,Jt,te,ee,ne=/^(?:toggle|show|hide)$/,ie=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),re=/queueHooks$/,oe=[E],se={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=ie.exec(e),o=r&&r[3]||(J.cssNumber[t]?"":"px"),s=(J.cssNumber[t]||"px"!==o&&+i)&&ie.exec(J.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o)for(o=o||s[3],r=r||[],s=+i||1;s/=a=a||".5",J.style(n.elem,t,s+o),a!==(a=n.cur()/i)&&1!==a&&--l;);return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};J.Animation=J.extend(j,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;i<r;i++)n=t[i],se[n]=se[n]||[],se[n].unshift(e)},prefilter:function(t,e){e?oe.unshift(t):oe.push(t)}}),J.speed=function(t,e,n){var i=t&&"object"==typeof t?J.extend({},t):{complete:n||!n&&e||J.isFunction(t)&&t,duration:t,easing:n&&e||e&&!J.isFunction(e)&&e};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=J.isEmptyObject(e),o=J.speed(t,n,i),s=function(){
var t=j(this,J.extend({},e),o);(r||mt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,t,o){var s=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=J.timers,i=mt.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&re.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));(t||!o)&&J.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=mt.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=J.timers,o=n?n.length:0;for(e.finish=!0,J.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),J.each(["toggle","show","hide"],function(t,i){var r=J.fn[i];J.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(N(i,!0),t,e,n)}}),J.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){J.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),J.timers=[],J.fx.tick=function(){var t,e=0,n=J.timers;for(Qt=J.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||J.fx.stop(),Qt=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Zt||(Zt=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Zt),Zt=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(i,t){return i=J.fx&&J.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},Jt=Q.createElement("input"),te=Q.createElement("select"),ee=te.appendChild(Q.createElement("option")),Jt.type="checkbox",Y.checkOn=""!==Jt.value,Y.optSelected=ee.selected,te.disabled=!0,Y.optDisabled=!ee.disabled,(Jt=Q.createElement("input")).value="t",Jt.type="radio",Y.radioValue="t"===Jt.value;var ae,le,ce=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return gt(this,J.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Tt?J.prop(t,e,n):(1===o&&J.isXMLDoc(t)||(e=e.toLowerCase(),i=J.attrHooks[e]||(J.expr.match.bool.test(e)?le:ae)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=J.find.attr(t,e))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void J.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(ft);if(o&&1===t.nodeType)for(;n=o[r++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Y.radioValue&&"radio"===e&&J.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),le={set:function(t,e,n){return!1===e?J.removeAttr(t,n):t.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ce[e]||J.find.attr;ce[e]=function(t,e,n){var i,r;return n||(r=ce[e],ce[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,ce[e]=r),i}});var ue=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return gt(this,J.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!J.isXMLDoc(t))&&(e=J.propFix[e]||e,r=J.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ue.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Y.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var de=/[\t\r\n\f]/g;J.fn.extend({addClass:function(e){var t,n,i,r,o,s,a="string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(ft)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(de," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=J.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(ft)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(de," "):"")){for(o=0;r=t[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");s=e?J.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):J.isFunction(r)?this.each(function(t){J(this).toggleClass(r.call(this,t,this.className,e),e)}):this.each(function(){if("string"===o)for(var t,e=0,n=J(this),i=r.match(ft)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(o===Tt||"boolean"===o)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||!1===r?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(de," ").indexOf(e))return!0;return!1}});var he=/\r/g;J.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=J.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,J(this).val()):n)?e="":"number"==typeof e?e+="":J.isArray(e)&&(e=J.map(e,function(t){return null==t?"":t+""})),(i=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=J.valHooks[e.type]||J.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(he,""):null==t?"":t:void 0}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&(Y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!J.nodeName(n.parentNode,"optgroup"))){if(e=J(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=J.makeArray(e),s=r.length;s--;)((i=r[s]).selected=0<=J.inArray(i.value,o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){return J.isArray(e)?t.checked=0<=J.inArray(J(t).val(),e):void 0}},Y.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){J.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var fe=J.now(),pe=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+t),e};var ge=/#.*$/,me=/([?&])_=[^&]*/,ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,be=/^(?:GET|HEAD)$/,_e=/^\/\//,xe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,we={},Ce={},ke="*/".concat("*"),Se=p.location.href,Te=xe.exec(Se.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se,type:"GET",isLocal:ye.test(Te[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,J.ajaxSettings),e):W(J.ajaxSettings,t)},ajaxPrefilter:O(we),ajaxTransport:O(Ce),ajax:function(t,e){function n(t,e,n,i){var r,o,s,a,l,c=e;2!==x&&(x=2,f&&clearTimeout(f),u=void 0,h=i||"",w.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=q(g,w,n)),a=z(g,a,w,r),r?(g.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(J.lastModified[d]=l),(l=w.getResponseHeader("etag"))&&(J.etag[d]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=a.state,o=a.data,r=!(s=a.error))):(s=c,(t||!c)&&(c="error",t<0&&(t=0))),w.status=t,w.statusText=(e||c)+"",r?y.resolveWith(m,[o,c,w]):y.rejectWith(m,[w,c,s]),w.statusCode(_),_=void 0,p&&v.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?o:s]),b.fireWith(m,[w,c]),p&&(v.trigger("ajaxComplete",[w,g]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var u,d,h,i,f,r,p,o,g=J.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?J(m):J.event,y=J.Deferred(),b=J.Callbacks("once memory"),_=g.statusCode||{},s={},a={},x=0,l="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!i)for(i={};e=ve.exec(h);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=a[n]=a[n]||t,s[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||l;return u&&u.abort(e),n(0,e),this}};if(y.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||Se)+"").replace(ge,"").replace(_e,Te[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=J.trim(g.dataType||"*").toLowerCase().match(ft)||[""],null==g.crossDomain&&(r=xe.exec(g.url.toLowerCase()),g.crossDomain=!(!r||r[1]===Te[1]&&r[2]===Te[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Te[3]||("http:"===Te[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=J.param(g.data,g.traditional)),F(we,g,e,w),2===x)return w;for(o in(p=J.event&&g.global)&&0==J.active++&&J.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!be.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(pe.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=me.test(d)?d.replace(me,"$1_="+fe++):d+(pe.test(d)?"&":"?")+"_="+fe++)),g.ifModified&&(J.lastModified[d]&&w.setRequestHeader("If-Modified-Since",J.lastModified[d]),J.etag[d]&&w.setRequestHeader("If-None-Match",J.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ke+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(m,w,g)||2===x))return w.abort();for(o in l="abort",{success:1,error:1,complete:1})w[o](g[o]);if(u=F(Ce,g,e,w)){w.readyState=1,p&&v.trigger("ajaxSend",[w,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){w.abort("timeout")},g.timeout));try{x=1,u.send(s,n)}catch(C){if(!(x<2))throw C;n(-1,C)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return J.get(t,e,n,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,r){J[r]=function(t,e,n,i){return J.isFunction(e)&&(i=i||n,n=e,e=void 0),J.ajax({url:t,type:r,dataType:i,data:e,success:n})}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(e){var t;return J.isFunction(e)?this.each(function(t){J(this).wrapAll(e.call(this,t))}):(this[0]&&(t=J(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return J.isFunction(n)?this.each(function(t){J(this).wrapInner(n.call(this,t))}):this.each(function(){var t=J(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=J.isFunction(e);return this.each(function(t){J(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var Le=/%20/g,Ae=/\[\]$/,Me=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var n,i=[],r=function(t,e){e=J.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){r(this.name,this.value)});else for(n in t)P(n,t[n],e,r);return i.join("&").replace(Le,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&De.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!St.test(t))}).map(function(t,e){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(p){}};var Ee=0,He={},je={0:200,1223:204},Oe=J.ajaxSettings.xhr();p.attachEvent&&p.attachEvent("onunload",function(){for(var t in He)He[t]()}),Y.cors=!!Oe&&"withCredentials"in Oe,Y.ajax=Oe=!!Oe,J.ajaxTransport(function(o){var s;return Y.cors||Oe&&!o.crossDomain?{send:function(t,e){var n,i=o.xhr(),r=++Ee;if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);s=function(t){return function(){s&&(delete He[r],s=i.onload=i.onerror=null,"abort"===t?i.abort():"error"===t?e(i.status,i.statusText):e(je[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=s(),i.onerror=s("error"),s=He[r]=s("abort");try{i.send(o.hasContent&&o.data||null)}catch(l){if(s)throw l}},abort:function(){s&&s()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=J("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),Q.head.appendChild(i[0])},abort:function(){r&&r()}}});var Fe=[],We=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Fe.pop()||J.expando+"_"+fe++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(We.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=J.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(We,"$1"+i):!1!==t.jsonp&&(t.url+=(pe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||J.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Fe.push(i)),o&&J.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),J.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=st.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=J.buildFragment([t],e,r),r&&r.length&&J(r).remove(),J.merge([],i.childNodes))};var qe=J.fn.load;J.fn.load=function(t,e,n){if("string"!=typeof t&&qe)return qe.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return 0<=a&&(i=J.trim(t.slice(a)),t=t.slice(0,a)),J.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&J.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?J("<div>").append(J.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length};var ze=p.document.documentElement;J.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=J.css(t,"position"),u=J(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=J.css(t,"top"),l=J.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),J.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},J.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){J.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,J.contains(t,i)?(typeof i.getBoundingClientRect!==Tt&&(r=i.getBoundingClientRect()),n=$(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(i=t.offset()),i.top+=J.css(t[0],"borderTopWidth",!0),i.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-J.css(n,"marginTop",!0),left:e.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ze;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||ze})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;J.fn[e]=function(t){return gt(this,function(t,e,n){var i=$(t);return void 0===n?i?i[r]:t[e]:void(i?i.scrollTo(o?p.pageXOffset:n,o?n:p.pageYOffset):t[e]=n)},e,t,arguments.length,null)}}),J.each(["top","left"],function(t,n){J.cssHooks[n]=C(Y.pixelPosition,function(t,e){return e?(e=x(t,n),It.test(e)?J(t).position()[n]+"px":e):void 0})}),J.each({Height:"height",Width:"width"},function(o,s){J.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,t){J.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return gt(this,function(t,e,n){var i;return J.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?J.css(t,e,r):J.style(t,e,n,r)},s,n?t:void 0,n,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Pe=p.jQuery,$e=p.$;return J.noConflict=function(t){return p.$===J&&(p.$=$e),t&&p.jQuery===J&&(p.jQuery=Pe),J},typeof t===Tt&&(p.jQuery=p.$=J),J}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(h){function f(t){return v.raw?t:encodeURIComponent(t)}function p(t){return v.raw?t:decodeURIComponent(t)}function g(t){return f(v.json?JSON.stringify(t):String(t))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(n," ")),v.json?JSON.parse(t):t}catch(e){}}function m(t,e){var n=v.raw?t:i(t);return h.isFunction(e)?e(n):n}var n=/\+/g,v=h.cookie=function(t,e,n){if(1<arguments.length&&!h.isFunction(e)){if("number"==typeof(n=h.extend({},v.defaults,n)).expires){var i=n.expires,r=n.expires=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*i)}return document.cookie=[f(t),"=",g(e),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var o=t?undefined:{},s=document.cookie?document.cookie.split("; "):[],a=0,l=s.length;a<l;a++){var c=s[a].split("="),u=p(c.shift()),d=c.join("=");if(t===u){o=m(d,e);break}t||(d=m(d))===undefined||(o[u]=d)}return o};v.defaults={},h.removeCookie=function(t,e){return h.cookie(t,"",h.extend({},e,{expires:-1})),!h.cookie(t)}}),function(){(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(this);var y=this.Rails;(function(){(function(){var i,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,y.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},i="_ujsData",y.getData=function(t,e){var n;return null!=(n=t[i])?n[e]:void 0},y.setData=function(t,e,n){return null==t[i]&&(t[i]={}),t[i][e]=n},y.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}).call(this),function(){var n,i,r;n=y.$,r=y.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},i=y.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},y.CSRFProtection=function(t){var e;if(null!=(e=r()))return t.setRequestHeader("X-CSRF-Token",e)},y.refreshCSRFTokens=function(){var t,e;if(e=r(),t=i(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var r,e,o;o=y.matches,"function"!=typeof(r=window.CustomEvent)&&((r=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype),e=y.fire=function(t,e,n){var i;return i=new r(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(i),!i.defaultPrevented},y.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},y.delegate=function(t,n,e,i){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!o(e,n);)e=e.parentNode;if(e instanceof Element&&!1===i.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,i,t,r,o,s;i=y.CSRFProtection,r=y.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},y.ajax=function(e){var n;return e=o(e),n=t(e,function(){var t;return t=s(n.response,n.getResponseHeader("Content-Type")),2===Math.floor(n.status/100)?"function"==typeof e.success&&e.success(t,n.statusText,n):"function"==typeof e.error&&e.error(t,n.statusText,n),"function"==typeof e.complete?e.complete(n,n.statusText):void 0}),"function"==typeof e.beforeSend&&e.beforeSend(n,e),n.readyState===XMLHttpRequest.OPENED?n.send(e.data):r(document,"ajaxStop")},o=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},s=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(r){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(r){}}return t},y.href=function(t){return t.href},y.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var r,o;r=y.matches,o=function(t){return Array.prototype.slice.call(t)},y.serializeElement=function(t,e){var n,i;return n=[t],r(t,"form")&&(n=o(t.elements)),i=[],n.forEach(function(e){if(e.name)return r(e,"select")?o(e.options).forEach(function(t){if(t.selected)return i.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?i.push({name:e.name,value:e.value}):void 0}),e&&i.push(e),i.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},y.formElements=function(t,e){return r(t,"form")?o(t.elements).filter(function(t){return r(t,e)}):o(t.querySelectorAll(e))}}.call(this),function(){var e,o,n;o=y.fire,n=y.stopEverything,y.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(e=!1,o(t,"confirm")){try{e=confirm(i)}catch(r){}n=o(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,i,r,o,s,a,e,l,c,u,d;c=y.matches,l=y.getData,u=y.setData,d=y.stopEverything,e=y.formElements,y.handleDisabledElement=function(t){if(this.disabled)return d(t)},y.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,y.linkDisableSelector)?a(e):c(e,y.buttonDisableSelector)||c(e,y.formEnableSelector)?o(e):c(e,y.formSubmitSelector)?s(e):void 0},y.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,y.linkDisableSelector)?r(e):c(e,y.buttonDisableSelector)||c(e,y.formDisableSelector)?n(e):c(e,y.formSubmitSelector)?i(e):void 0},r=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",d),u(t,"ujs:disabled",!0)},a=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(t.innerHTML=e,u(t,"ujs:enable-with",null)),t.removeEventListener("click",d),u(t,"ujs:disabled",null)},i=function(t){return e(t,y.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"button")?(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(u(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,u(t,"ujs:disabled",!0)},s=function(t){return e(t,y.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(c(t,"button")?t.innerHTML=e:t.value=e,u(t,"ujs:enable-with",null)),t.disabled=!1,u(t,"ujs:disabled",null)}}.call(this),function(){var l;l=y.stopEverything,y.handleMethod=function(t){var e,n,i,r,o,s,a;if(a=(s=this).getAttribute("data-method"))return o=y.href(s),n=y.csrfToken(),e=y.csrfParam(),i=document.createElement("form"),r="<input name='_method' value='"+a+"' type='hidden' />",null==e||null==n||y.isCrossDomain(o)||(r+="<input name='"+e+"' value='"+n+"' type='hidden' />"),r+='<input type="submit" />',i.method="post",i.action=o,i.target=s.target,i.innerHTML=r,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),l(t)}}.call(this),function(){var l,c,u,d,h,f,p,g,m,v=[].slice;f=y.matches,u=y.getData,g=y.setData,c=y.fire,m=y.stopEverything,l=y.ajax,d=y.isCrossDomain,p=y.serializeElement,h=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},y.handleRemote=function(t){var e,n,i,r,o,s,a;return!h(r=this)||(c(r,"ajax:before")?(a=r.getAttribute("data-with-credentials"),i=r.getAttribute("data-type")||"script",f(r,y.formSubmitSelector)?(e=u(r,"ujs:submit-button"),o=u(r,"ujs:submit-button-formmethod")||r.method,s=u(r,"ujs:submit-button-formaction")||r.getAttribute("action")||location.href,"GET"===o.toUpperCase()&&(s=s.replace(/\?.*$/,"")),"multipart/form-data"===r.enctype?(n=new FormData(r),null!=e&&n.append(e.name,e.value)):n=p(r,e),g(r,"ujs:submit-button",null),g(r,"ujs:submit-button-formmethod",null),g(r,"ujs:submit-button-formaction",null)):f(r,y.buttonClickSelector)||f(r,y.inputChangeSelector)?(o=r.getAttribute("data-method"),s=r.getAttribute("data-url"),n=p(r,r.getAttribute("data-params"))):(o=r.getAttribute("data-method"),s=y.href(r),n=r.getAttribute("data-params")),l({type:o||"GET",url:s,data:n,dataType:i,beforeSend:function(t,e){return c(r,"ajax:beforeSend",[t,e])?c(r,"ajax:send",[t]):(c(r,"ajax:stopped"),t.abort())},success:function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],c(r,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],c(r,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],c(r,"ajax:complete",t)},crossDomain:d(s),withCredentials:null!=a&&"false"!==a}),m(t)):(c(r,"ajax:stopped"),!1))},y.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&g(e,"ujs:submit-button",{name:t.name,value:t.value}),g(e,"ujs:formnovalidate-button",t.formNoValidate),g(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),g(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},y.handleMetaClick=function(t){var e,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===i&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,i,e,n,r,o,s,a,l,c,u,d,h,f;o=y.fire,e=y.delegate,a=y.getData,t=y.$,f=y.refreshCSRFTokens,
i=y.CSRFProtection,r=y.enableElement,n=y.disableElement,c=y.handleDisabledElement,l=y.handleConfirm,h=y.handleRemote,s=y.formSubmitButtonClick,u=y.handleMetaClick,d=y.handleMethod,"undefined"==typeof jQuery||null===jQuery||jQuery.rails||(jQuery.rails=y,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return i(n)})),y.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(y.formEnableSelector).forEach(function(t){if(a(t,"ujs:disabled"))return r(t)}),t(y.linkDisableSelector).forEach(function(t){if(a(t,"ujs:disabled"))return r(t)})}),e(document,y.linkDisableSelector,"ajax:complete",r),e(document,y.linkDisableSelector,"ajax:stopped",r),e(document,y.buttonDisableSelector,"ajax:complete",r),e(document,y.buttonDisableSelector,"ajax:stopped",r),e(document,y.linkClickSelector,"click",c),e(document,y.linkClickSelector,"click",l),e(document,y.linkClickSelector,"click",u),e(document,y.linkClickSelector,"click",n),e(document,y.linkClickSelector,"click",h),e(document,y.linkClickSelector,"click",d),e(document,y.buttonClickSelector,"click",c),e(document,y.buttonClickSelector,"click",l),e(document,y.buttonClickSelector,"click",n),e(document,y.buttonClickSelector,"click",h),e(document,y.inputChangeSelector,"change",c),e(document,y.inputChangeSelector,"change",l),e(document,y.inputChangeSelector,"change",h),e(document,y.formSubmitSelector,"submit",c),e(document,y.formSubmitSelector,"submit",l),e(document,y.formSubmitSelector,"submit",h),e(document,y.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,y.formSubmitSelector,"ajax:send",n),e(document,y.formSubmitSelector,"ajax:complete",r),e(document,y.formInputClickSelector,"click",c),e(document,y.formInputClickSelector,"click",l),e(document,y.formInputClickSelector,"click",s),document.addEventListener("DOMContentLoaded",f),window._rails_loaded=!0},window.Rails===y&&o(document,"rails:attachBindings")&&y.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=y:"function"==typeof define&&define.amd&&define(y)}.call(this),function(c,l,r,o){"use strict";function n(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}function t(t){this.selector=t,this.query=""}(function(t){var e=c("head");e.prepend(c.map(t,function(t){return 0===e.has("."+t).length?'<meta class="'+t+'" />':void 0}))})(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),c(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof r.body&&FastClick.attach(r.body)});var u=function(t,e){if("string"==typeof t){if(e){var n;if(e.jquery){if(!(n=e[0]))return e}else n=e;return c(n.querySelectorAll(t))}return c(r.querySelectorAll(t))}return c(t,e)},e=function(t){var e=[];return t||e.push("data"),0<this.namespace.length&&e.push(this.namespace),e.push(this.name),e.join("-")},i=function(t){for(var e=t.split("-"),n=e.length,i=[];n--;)0!==n?i.push(e[n]):0<this.namespace.length?i.push(this.namespace,e[n]):i.push(e[n]);return i.reverse().join("-")},s=function(n,i){var r=this,t=function(){var t=u(this),e=!t.data(r.attr_name(!0)+"-init");t.data(r.attr_name(!0)+"-init",c.extend({},r.settings,i||n,r.data_options(t))),e&&r.events(this)};return u(this.scope).is("["+this.attr_name()+"]")?t.call(this.scope):u("["+this.attr_name()+"]",this.scope).each(t),"string"==typeof n?this[n].call(this,i):void 0},a=function(t,e){function n(){e(t[0])}function i(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?n():i.call(t)):void n()};l.matchMedia||(l.matchMedia=function(){var e=l.styleMedia||l.media;if(!e){var n=r.createElement("style"),t=r.getElementsByTagName("script")[0],i=null;n.type="text/css",n.id="matchmediajs-test",t.parentNode.insertBefore(n,t),i="getComputedStyle"in l&&l.getComputedStyle(n,null)||n.currentStyle,e={matchMedium:function(t){var e="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=e:n.textContent=e,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e){function n(){i&&(o(n),a&&e.fx.tick())}for(var i,r=0,t=["webkit","moz"],o=l.requestAnimationFrame,s=l.cancelAnimationFrame,a="undefined"!=typeof e.fx;r<t.length&&!o;r++)o=l[t[r]+"RequestAnimationFrame"],s=s||l[t[r]+"CancelAnimationFrame"]||l[t[r]+"CancelRequestAnimationFrame"];o?(l.requestAnimationFrame=o,l.cancelAnimationFrame=s,a&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!i&&(i=!0,n())},e.fx.stop=function(){i=!1})):(l.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),i=l.setTimeout(function(){t(e+n)},n);return r=e+n,i},l.cancelAnimationFrame=function(t){clearTimeout(t)})}(c),t.prototype.toString=function(){return this.query||(this.query=u(this.selector).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""))},l.Foundation={name:"Foundation",version:"5.5.3",media_queries:{small:new t(".foundation-mq-small"),"small-only":new t(".foundation-mq-small-only"),medium:new t(".foundation-mq-medium"),"medium-only":new t(".foundation-mq-medium-only"),large:new t(".foundation-mq-large"),"large-only":new t(".foundation-mq-large-only"),xlarge:new t(".foundation-mq-xlarge"),"xlarge-only":new t(".foundation-mq-xlarge-only"),xxlarge:new t(".foundation-mq-xxlarge")},stylesheet:c("<style></style>").appendTo("head")[0].sheet,global:{namespace:o},init:function(t,e,n,i,r){var o=[t,n,i,r],s=[];if(this.rtl=/rtl/i.test(u("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),e&&"string"==typeof e&&!/reflow/i.test(e))this.libs.hasOwnProperty(e)&&s.push(this.init_lib(e,o));else for(var a in this.libs)s.push(this.init_lib(a,e));return u(l).load(function(){u(l).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),t},init_lib:function(t,e){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),e&&e.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?c.extend(!0,this.libs[t].settings,e[t]):"undefined"!=typeof this.libs[t].defaults&&c.extend(!0,this.libs[t].defaults,e[t]),this.libs[t].init.apply(this.libs[t],[this.scope,e[t]])):(e=e instanceof Array?e:new Array(e),this.libs[t].init.apply(this.libs[t],e))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=e,t.add_namespace=i,t.bindings=s,t.S=this.utils.S},inherit:function(t,e){for(var n=e.split(" "),i=n.length;i--;)this.utils.hasOwnProperty(n[i])&&(t[n[i]]=this.utils[n[i]])},set_namespace:function(){var t=this.global.namespace===o?c(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===o||/false/i.test(t)?"":t},libs:{},utils:{S:u,throttle:function(n,i){var r=null;return function(){var t=this,e=arguments;null==r&&(r=setTimeout(function(){n.apply(t,e),r=null},i))}},debounce:function(r,o,s){var a,l;return function(){var t=this,e=arguments,n=function(){a=null,s||(l=r.apply(t,e))},i=s&&!a;return clearTimeout(a),a=setTimeout(n,o),i&&(l=r.apply(t,e)),l}},data_options:function(t,n){function e(t){return!isNaN(t-0)&&null!==t&&""!==t&&!1!==t&&!0!==t}function i(t){return"string"==typeof t?c.trim(t):t}n=n||"options";var r,o,s,a={},l=function(t){var e=Foundation.global.namespace;return t.data(0<e.length?e+"-"+n:n)}(t);if("object"==typeof l)return l;for(r=(s=(l||":").split(";")).length;r--;)o=[(o=s[r].split(":"))[0],o.slice(1).join(":")],/true/i.test(o[1])&&(o[1]=!0),/false/i.test(o[1])&&(o[1]=!1),e(o[1])&&(o[1]=-1===o[1].indexOf(".")?parseInt(o[1],10):parseFloat(o[1])),2===o.length&&0<o[0].length&&(a[i(o[0])]=i(o[1]));return a},register_media:function(t,e){Foundation.media_queries[t]===o&&(c("head").append('<meta class="'+e+'"/>'),Foundation.media_queries[t]=n(c("."+e).css("font-family")))},add_custom_rule:function(t,e){e===o&&Foundation.stylesheet?Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length):Foundation.media_queries[e]!==o&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }",Foundation.stylesheet.cssRules.length)},image_loaded:function(t,e){function n(t){for(var e=t.length-1;0<=e;e--)if(t.attr("height")===o)return!1;return!0}var i=this,r=t.length;(0===r||n(t))&&e(t),t.each(function(){a(i.S(this),function(){0===(r-=1)&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(t){return l.matchMedia(t).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},c.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document),function(u,r){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.3",settings:{start:0,end:100,step:1,precision:2,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(t,e,n){Foundation.inherit(this,"throttle"),this.bindings(e,n),this.reflow()},events:function(){var i=this;u(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+i.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(t){i.cache.active||(t.preventDefault(),i.set_active_slider(u(t.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(t){if(i.cache.active)if(t.preventDefault(),u.data(i.cache.active[0],"settings").vertical){var e=0;t.pageY||(e=r.scrollY),i.calculate_position(i.cache.active,i.get_cursor_position(t,"y")+e)}else i.calculate_position(i.cache.active,i.get_cursor_position(t,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(t){if(!i.cache.active){var e="slider"===u(t.target).attr("role")?u(t.target):u(t.target).closest(".range-slider").find("[role='slider']");if(e.length&&!e.parent().hasClass("disabled")&&!e.parent().attr("disabled"))if(i.set_active_slider(e),u.data(i.cache.active[0],"settings").vertical){var n=0;t.pageY||(n=r.scrollY),i.calculate_position(i.cache.active,i.get_cursor_position(t,"y")+n)}else i.calculate_position(i.cache.active,i.get_cursor_position(t,"x"))}i.remove_active_slider()}).on("change.fndtn.slider",function(){i.settings.on_change()}),i.S(r).on("resize.fndtn.slider",i.throttle(function(){i.reflow()},300)),this.S("["+this.attr_name()+"]").each(function(){var t=u(this),e=t.children(".range-slider-handle")[0],n=i.initialize_settings(e);""!=n.display_selector&&u(n.display_selector).each(function(){u(this).attr("value")&&u(this).off("change").on("change",function(){t.foundation("slider","set_value",u(this).val())})})})},get_cursor_position:function(t,e){var n,i="page"+e.toUpperCase(),r="client"+e.toUpperCase();return"undefined"!=typeof t[i]?n=t[i]:"undefined"!=typeof t.originalEvent[r]?n=t.originalEvent[r]:t.originalEvent.touches&&t.originalEvent.touches[0]&&"undefined"!=typeof t.originalEvent.touches[0][r]?n=t.originalEvent.touches[0][r]:t.currentPoint&&"undefined"!=typeof t.currentPoint[e]&&(n=t.currentPoint[e]),n},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(n,i){var r=this,o=u.data(n[0],"settings"),s=(u.data(n[0],"handle_l"),u.data(n[0],"handle_o"),u.data(n[0],"bar_l")),a=u.data(n[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!o.vertical?r.limit_to((a+s-i)/s,0,1):r.limit_to((i-a)/s,0,1),t=o.vertical?1-t:t;var e=r.normalized_value(t,o.start,o.end,o.step,o.precision);r.set_ui(n,e)})},set_ui:function(t,e){var n=u.data(t[0],"settings"),i=u.data(t[0],"handle_l"),r=u.data(t[0],"bar_l"),o=this.normalized_percentage(e,n.start,n.end),s=o*(r-i)-1,a=100*o,l=t.parent(),c=t.parent().children("input[type=hidden]");Foundation.rtl&&!n.vertical&&(s=-s),s=n.vertical?-s+r-i+1:s,this.set_translate(t,s,n.vertical),n.vertical?t.siblings(".range-slider-active-segment").css("height",a+"%"):t.siblings(".range-slider-active-segment").css("width",a+"%"),l.attr(this.attr_name(),e).trigger("change.fndtn.slider"),c.val(e),n.trigger_input_change&&c.trigger("change.fndtn.slider"),t[0].hasAttribute("aria-valuemin")||t.attr({"aria-valuemin":n.start,"aria-valuemax":n.end}),t.attr("aria-valuenow",e),""!=n.display_selector&&u(n.display_selector).each(function(){this.hasAttribute("value")?u(this).val(e):u(this).text(e)})},normalized_percentage:function(t,e,n){return Math.min(1,(t-e)/(n-e))},normalized_value:function(t,e,n,i,r){var o=t*(n-e);return((o-o%i)/i*i+(.5*i<=o%i?i:0)+e).toFixed(r)},set_translate:function(t,e,n){n?u(t).css("-webkit-transform","translateY("+e+"px)").css("-moz-transform","translateY("+e+"px)").css("-ms-transform","translateY("+e+"px)").css("-o-transform","translateY("+e+"px)").css("transform","translateY("+e+"px)"):u(t).css("-webkit-transform","translateX("+e+"px)").css("-moz-transform","translateX("+e+"px)").css("-ms-transform","translateX("+e+"px)").css("-o-transform","translateX("+e+"px)").css("transform","translateX("+e+"px)")},limit_to:function(t,e,n){return Math.min(Math.max(t,e),n)},initialize_settings:function(t){var e,n=u.extend({},this.settings,this.data_options(u(t).parent()));return null===n.precision&&(e=(""+n.step).match(/\.([\d]*)/),n.precision=e&&e[1]?e[1].length:0),n.vertical?(u.data(t,"bar_o",u(t).parent().offset().top),u.data(t,"bar_l",u(t).parent().outerHeight()),u.data(t,"handle_o",u(t).offset().top),u.data(t,"handle_l",u(t).outerHeight())):(u.data(t,"bar_o",u(t).parent().offset().left),u.data(t,"bar_l",u(t).parent().outerWidth()),u.data(t,"handle_o",u(t).offset().left),u.data(t,"handle_l",u(t).outerWidth())),u.data(t,"bar",u(t).parent()),u.data(t,"settings",n)},set_initial_position:function(t){var e=u.data(t.children(".range-slider-handle")[0],"settings"),n="number"!=typeof e.initial||isNaN(e.initial)?Math.floor(.5*(e.end-e.start)/e.step)*e.step+e.start:e.initial,i=t.children(".range-slider-handle");this.set_ui(i,n)},set_value:function(t){var e=this;u("["+e.attr_name()+"]",this.scope).each(function(){u(this).attr(e.attr_name(),t)}),u(this.scope).attr(e.attr_name())&&u(this.scope).attr(e.attr_name(),t),e.reflow()},reflow:function(){var n=this;n.S("["+this.attr_name()+"]").each(function(){var t=u(this).children(".range-slider-handle")[0],e=u(this).attr(n.attr_name());n.initialize_settings(t),e?n.set_ui(u(t),parseFloat(e)):n.set_initial_position(u(this))})}}}(jQuery,window,window.document),function(l,c,i,r){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.5.3",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(t,e,n){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||l.extend({},this.defaults,n||e),this.bindings(e,n)},go_next:function(){this.settings.$li.next().length<1?this.end():0<this.settings.timer?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(0<this.settings.timer?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var e=this;l(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(t){t.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(t){if(this.settings.keyboard&&this.settings.riding)switch(t.which){case 39:t.preventDefault(),this.go_next();break;case 37:t.preventDefault(),this.go_prev();break;case 27:t.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),l(c).off(".joyride").on("resize.fndtn.joyride",e.throttle(function(){if(0<l("["+e.attr_name()+"]").length&&e.settings.$next_tip&&e.settings.riding){if(0<e.settings.exposed.length)l(e.settings.exposed).each(function(){var t=l(this);e.un_expose(t),e.expose(t)});e.is_phone()?e.pos_phone():e.pos_default(!1)}},100))},start:function(){var i=this,t=l("["+this.attr_name()+"]",this.scope),r=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],o=r.length;0<!t.length||(this.settings.init||this.events(),this.settings=t.data(this.attr_name(!0)+"-init"),this.settings.$content_el=t,this.settings.$body=l(this.settings.tip_container),this.settings.body_offset=l(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof l.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!l.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(t){var e=l(this);this.settings=l.extend({},i.defaults,i.data_options(e));for(var n=o;n--;)i.settings[r[n]]=parseInt(i.settings[r[n]],10);i.create({$li:e,index:t})}),!this.settings.start_timer_on_click&&0<this.settings.timer?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(t){var e,n;return t.tip_class=t.tip_class||"",e=l(this.settings.template.tip).addClass(t.tip_class),n=l.trim(l(t.li).html())+this.prev_button_text(t.prev_button_text,t.index)+this.button_text(t.button_text)+this.settings.template.link+this.timer_instance(t.index),e.append(l(this.settings.template.wrapper)),e.first().attr(this.add_namespace("data-index"),t.index),l(".joyride-content-wrapper",e).append(n),e[0]},timer_instance:function(t){return 0===t&&this.settings.start_timer_on_click&&0<this.settings.timer||0===this.settings.timer?"":l(this.settings.template.timer)[0].outerHTML},button_text:function(t){return this.settings.tip_settings.next_button?(t=l.trim(t)||"Next",t=l(this.settings.template.button).append(t)[0].outerHTML):t="",t},prev_button_text:function(t,e){return this.settings.tip_settings.prev_button?(t=l.trim(t)||"Previous",t=0==e?l(this.settings.template.prev_button).append(t).addClass("disabled")[0].outerHTML:l(this.settings.template.prev_button).append(t)[0].outerHTML):t="",t},create:function(t){this.settings.tip_settings=l.extend({},this.settings,this.data_options(t.$li));var e=t.$li.attr(this.add_namespace("data-button"))||t.$li.attr(this.add_namespace("data-text")),n=t.$li.attr(this.add_namespace("data-button-prev"))||t.$li.attr(this.add_namespace("data-prev-text")),i=t.$li.attr("class"),r=l(this.tip_template({tip_class:i,index:t.index,button_text:e,prev_button_text:n,li:t.$li}));l(this.settings.tip_container).append(r)},show:function(t,e){var n=null;if(this.settings.$li===r||-1===l.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(t,e),this.settings.attempts=0,this.settings.$li.length&&0<this.settings.$target.length){if(t&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=l.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)&&!this.settings.expose){var i=l(".joyride-modal-bg");/pop/i.test(this.settings.tipAnimation)?i.hide():i.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),n=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(n.width(0),0<this.settings.timer?(this.settings.$next_tip.show(),setTimeout(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(n.width(0),0<this.settings.timer?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){n.animate({width:n.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(t,e):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||l(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(l.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(t,e){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=e?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=l(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var t=this.settings.$li.attr(this.add_namespace("data-class")),e=this.settings.$li.attr(this.add_namespace("data-id")),n=function(){return e?l(i.getElementById(e)):t?l("."+t).first():l("body")};this.settings.$target=n()},scroll_to:function(){var t,e;t=l(c).height()/2,0!=(e=Math.ceil(this.settings.$target.offset().top-t+this.settings.$next_tip.outerHeight()))&&l("html, body").stop().animate({scrollTop:e},this.settings.scroll_speed,"swing")},paused:function(){return-1===l.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=r,this.show("init")},pos_default:function(t){var e=this.settings.$next_tip.find(".joyride-nub"),n=Math.ceil(e.outerWidth()/2),i=Math.ceil(e.outerHeight()/2),r=t||!1;if(r&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(e);else{var o=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,s=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+i+this.settings.$target.outerHeight()+o,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+s}:{top:this.settings.$target.offset().top+i+this.settings.$target.outerHeight()+o,left:this.settings.$target.offset().left+s}),this.nub_position(e,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-i+o,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-i+o,left:this.settings.$target.offset().left+s}),this.nub_position(e,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+o,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+n+s}),this.nub_position(e,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+o,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-n+s}),this.nub_position(e,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}r&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(t){var e=this.settings.$next_tip.outerHeight(),n=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),i=l(".joyride-nub",this.settings.$next_tip),r=Math.ceil(i.outerHeight()/2),o=t||!1;i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),o&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(i):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-e-r}),i.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+n+r}),i.addClass("top")),o&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var t;if((t=l(".joyride-modal-bg")).length<1)(t=l(this.settings.template.modal)).appendTo("body");/pop/i.test(this.settings.tip_animation)?t.show():t.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(t){var e,n,i,r,o,s="expose-"+this.random_str(6);if(0<arguments.length&&t instanceof l)i=t;else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}return i.length<1?(c.console&&console.error("element not valid",i),!1):(e=l(this.settings.template.expose),this.settings.$body.append(e),e.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),n=l(this.settings.template.expose_cover),r={zIndex:i.css("z-index"),position:i.css("position")},o=null==i.attr("class")?"":i.attr("class"),i.css("z-index",parseInt(e.css("z-index"))+1),"static"==r.position&&i.css("position","relative"),i.data("expose-css",r),i.data("orig-class",o),i.attr("class",o+" "+this.settings.expose_add_class),n.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(n),e.addClass(s),n.addClass(s),i.data("expose",s),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,i),void this.add_exposed(i))},un_expose:function(t,e){var n,i,r,o,s,a=!1;if(0<arguments.length&&t instanceof l)i=t;else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}return i.length<1?(c.console&&console.error("element not valid",i),!1):(n=i.data("expose"),r=l("."+n),1<arguments.length&&(a=e),!0===a?l(".joyride-expose-wrapper,.joyride-expose-cover").remove():r.remove(),"auto"==(o=i.data("expose-css")).zIndex?i.css("z-index",""):i.css("z-index",o.zIndex),o.position!=i.css("position")&&("static"==o.position?i.css("position",""):i.css("position",o.position)),s=i.data("orig-class"),i.attr("class",s),i.removeData("orig-classes"),i.removeData("expose"),i.removeData("expose-z-index"),void this.remove_exposed(i))},add_exposed:function(t){this.settings.exposed=this.settings.exposed||[],t instanceof l||"object"==typeof t?this.settings.exposed.push(t[0]):"string"==typeof t&&this.settings.exposed.push(t)},remove_exposed:function(t){var e,n;for(t instanceof l?e=t[0]:"string"==typeof t&&(e=t),this.settings.exposed=this.settings.exposed||[],n=this.settings.exposed.length;n--;)if(this.settings.exposed[n]==e)return void this.settings.exposed.splice(n,1)},center:function(){var t=l(c);return this.settings.$next_tip.css({top:(t.height()-this.settings.$next_tip.outerHeight())/2+t.scrollTop(),left:(t.width()-this.settings.$next_tip.outerWidth())/2+t.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(t){if(0===t.length)return[!1,!1,!1,!1];var e=l(c),n=e.height()/2,i=Math.ceil(this.settings.$target.offset().top-n+this.settings.$next_tip.outerHeight()),r=e.width()+e.scrollLeft(),o=e.height()+i,s=e.height()+e.scrollTop(),a=e.scrollTop();return i<a&&(a=i<0?0:i),s<o&&(s=o),[t.offset().top<a,r<t.offset().left+t.outerWidth(),s<t.offset().top+t.outerHeight(),e.scrollLeft()>t.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,n){t.addClass("auto"===e?n:e)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(t){this.settings.cookie_monster&&l.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),0<this.settings.timer&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),l(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,l(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),(void 0===t||!1===t)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),l(".joyride-tip-guide").remove()},
off:function(){l(this.scope).off(".joyride"),l(c).off(".joyride"),l(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),l(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate)},reflow:function(){}}}(jQuery,window,window.document),function(c,t){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.3",settings:{use_tallest:!0,before_height_change:c.noop,after_height_change:c.noop,equalize_on_stack:!1,act_on_hidden_el:!1},init:function(t,e,n){Foundation.inherit(this,"image_loaded"),this.bindings(e,n),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(t){var e,n,i=!1,r=t.data("equalizer"),o=t.data(this.attr_name(!0)+"-init")||this.settings;if(0!==(e=t.find(o.act_on_hidden_el?r?"["+this.attr_name()+'-watch="'+r+'"]':"["+this.attr_name()+"-watch]":r?"["+this.attr_name()+'-watch="'+r+'"]:visible':"["+this.attr_name()+"-watch]:visible")).length&&(o.before_height_change(),t.trigger("before-height-change.fndth.equalizer"),e.height("inherit"),!1!==o.equalize_on_stack||(n=e.first().offset().top,e.each(function(){return c(this).offset().top!==n?!(i=!0):void 0}),!i))){var s=e.map(function(){return c(this).outerHeight(!1)}).get();if(o.use_tallest){var a=Math.max.apply(null,s);e.css("height",a)}else{var l=Math.min.apply(null,s);e.css("height",l)}o.after_height_change(),t.trigger("after-height-change.fndtn.equalizer")}},reflow:function(){var i=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var t=c(this),e=t.data("equalizer-mq"),n=!0;e&&(e="is_"+e.replace(/-/g,"_"),Foundation.utils.hasOwnProperty(e)&&(n=!1)),i.image_loaded(i.S("img",this),function(){n||Foundation.utils[e]()?i.equalize(t):t.find("["+i.attr_name()+"-watch]:visible").css("height","auto")})})}}}(jQuery,window,window.document),function(r,l,c){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.3",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(t,e,n){Foundation.inherit(this,"throttle"),r.extend(!0,this.settings,e,n),this.bindings(e,n)},events:function(){var o=this,s=o.S;s(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){(!(s(this).data(o.attr_name(!0)+"-init")||o.settings).is_hover||Modernizr.touch)&&(t.preventDefault(),s(this).parent("[data-reveal-id]").length&&t.stopPropagation(),o.toggle(r(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(t){var e,n,i=s(this);clearTimeout(o.timeout),i.data(o.data_attr())?(e=s("#"+i.data(o.data_attr())),n=i):(e=i,n=s("["+o.attr_name()+'="'+e.attr("id")+'"]'));var r=n.data(o.attr_name(!0)+"-init")||o.settings;s(t.currentTarget).data(o.data_attr())&&r.is_hover&&o.closeall.call(o),r.is_hover&&o.open.apply(o,[e,n])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var t=s(this);if(t.data(o.data_attr()))e=t.data(o.data_attr(!0)+"-init")||o.settings;else var e=s("["+o.attr_name()+'="'+s(this).attr("id")+'"]').data(o.attr_name(!0)+"-init")||o.settings;o.timeout=setTimeout(function(){t.data(o.data_attr())?e.is_hover&&o.close.call(o,s("#"+t.data(o.data_attr()))):e.is_hover&&o.close.call(o,t)}.bind(this),e.hover_timeout)}).on("click.fndtn.dropdown",function(t){var e=s(t.target).closest("["+o.attr_name()+"-content]");return 0<e.find("a").length&&"false"!==e.attr("aria-autoclose")&&o.close.call(o,s("["+o.attr_name()+"-content]")),t.target!==c&&!r.contains(c.documentElement,t.target)||0<s(t.target).closest("["+o.attr_name()+"]").length?void 0:!s(t.target).data("revealId")&&0<e.length&&(s(t.target).is("["+o.attr_name()+"-content]")||r.contains(e.first()[0],t.target))?void t.stopPropagation():void o.close.call(o,s("["+o.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+o.attr_name()+"-content]",function(){o.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+o.attr_name()+"-content]",function(){o.settings.closed.call(this)}),s(l).off(".dropdown").on("resize.fndtn.dropdown",o.throttle(function(){o.resize.call(o)},50)),this.resize()},close:function(e){var n=this;e.each(function(t){(r("["+n.attr_name()+"="+e[t].id+"]")||r("aria-controls="+e[t].id+"]")).attr("aria-expanded","false"),n.S(this).hasClass(n.settings.active_class)&&(n.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(n.settings.active_class).prev("["+n.attr_name()+"]").removeClass(n.settings.active_class).removeData("target"),n.S(this).trigger("closed.fndtn.dropdown",[e]))}),e.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var t=this;r.each(t.S(".f-open-"+this.attr_name(!0)),function(){t.close.call(t,t.S(this))})},open:function(t,e){this.css(t.addClass(this.settings.active_class),e),t.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),t.data("target",e.get(0)).trigger("opened.fndtn.dropdown",[t,e]),t.attr("aria-hidden","false"),e.attr("aria-expanded","true"),t.focus(),t.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return 0<this.namespace.length?this.namespace+"-"+this.name:this.name},toggle:function(t){if(!t.hasClass(this.settings.disabled_class)){var e=this.S("#"+t.data(this.data_attr()));0!==e.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(e)),e.hasClass(this.settings.active_class)?(this.close.call(this,e),e.data("target")!==t.get(0)&&this.open.call(this,e,t)):this.open.call(this,e,t))}},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),e=r(t.data("target"));t.length&&e.length&&this.css(t,e)},css:function(t,e){var n=Math.max((e.width()-t.width())/2,8),i=e.data(this.attr_name(!0)+"-init")||this.settings,r=t.parent().css("overflow-y")||t.parent().css("overflow");if(this.clear_idx(),this.small()){var o=this.dirs.bottom.call(t,e,i);t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:o.top}),t.css(Foundation.rtl?"right":"left",n)}else if("visible"!==r){var s=e[0].offsetTop+e[0].offsetHeight;t.attr("style","").css({position:"absolute",top:s}),t.css(Foundation.rtl?"right":"left",n)}else this.style(t,e,i);return t},style:function(t,e,n){var i=r.extend({position:"absolute"},this.dirs[n.align].call(t,e,n));t.attr("style","").css(i)},dirs:{_base:function(t,e){var n=this.offsetParent().offset(),i=t.offset();i.top-=n.top,i.left-=n.left,i.missRight=!1,i.missTop=!1,i.missLeft=!1,i.leftRightFlag=!1;var r=l.innerWidth,o=(r-(c.getElementsByClassName("row")[0]?c.getElementsByClassName("row")[0].clientWidth:r))/2;if(!this.hasClass("mega")&&!e.ignore_repositioning){var s=this.outerWidth(),a=t.offset().left;t.offset().top<=this.outerHeight()&&(i.missTop=!0,r-o,i.leftRightFlag=!0),a+o<a+s&&s<a-o&&(i.missRight=!0,i.missLeft=!1),a-s<=0&&(i.missLeft=!0,i.missRight=!1)}return i},top:function(t,e){var n=Foundation.libs.dropdown,i=n.dirs._base.call(this,t,e);return this.addClass("drop-top"),1==i.missTop&&(i.top=i.top+t.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==i.missRight&&(i.left=i.left-this.outerWidth()+t.outerWidth()),(t.outerWidth()<this.outerWidth()||n.small()||this.hasClass(e.mega_menu))&&n.adjust_pip(this,t,e,i),Foundation.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(t,e){var n=Foundation.libs.dropdown,i=n.dirs._base.call(this,t,e);return 1==i.missRight&&(i.left=i.left-this.outerWidth()+t.outerWidth()),(t.outerWidth()<this.outerWidth()||n.small()||this.hasClass(e.mega_menu))&&n.adjust_pip(this,t,e,i),n.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top+t.outerHeight()}:{left:i.left,top:i.top+t.outerHeight()}},left:function(t,e){var n=Foundation.libs.dropdown.dirs._base.call(this,t,e);return this.addClass("drop-left"),1==n.missLeft&&(n.left=n.left+this.outerWidth(),n.top=n.top+t.outerHeight(),this.removeClass("drop-left")),{left:n.left-this.outerWidth(),top:n.top}},right:function(t,e){var n=Foundation.libs.dropdown.dirs._base.call(this,t,e);this.addClass("drop-right"),1==n.missRight?(n.left=n.left-this.outerWidth(),n.top=n.top+t.outerHeight(),this.removeClass("drop-right")):n.triggeredRight=!0;var i=Foundation.libs.dropdown;return(t.outerWidth()<this.outerWidth()||i.small()||this.hasClass(e.mega_menu))&&i.adjust_pip(this,t,e,n),{left:n.left+t.outerWidth(),top:n.top}}},adjust_pip:function(t,e,n,i){var r=Foundation.stylesheet,o=8;t.hasClass(n.mega_class)?o=i.left+e.outerWidth()/2-8:this.small()&&(o+=i.left-8),this.rule_idx=r.cssRules.length;var s=".f-dropdown.open:before",a=".f-dropdown.open:after",l="left: "+o+"px;",c="left: "+(o-1)+"px;";1==i.missRight&&(s=".f-dropdown.open:before",a=".f-dropdown.open:after",l="left: "+(o=t.outerWidth()-23)+"px;",c="left: "+(o-1)+"px;"),1==i.triggeredRight&&(s=".f-dropdown.open:before",a=".f-dropdown.open:after",l="left:-12px;",c="left:-14px;"),r.insertRule?(r.insertRule([s,"{",l,"}"].join(" "),this.rule_idx),r.insertRule([a,"{",c,"}"].join(" "),this.rule_idx+1)):(r.addRule(s,l,this.rule_idx),r.addRule(a,c,this.rule_idx+1))},clear_idx:function(){var t=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(l).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(p,n,g,o){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.5.3",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div><img class="clearing-preload-next" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><img class="clearing-preload-prev" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(t,e,n){var i=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(e,n),i.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(i.S("li",this.scope)):i.S("["+this.attr_name()+"]",this.scope).each(function(){i.assemble(i.S("li",this))})},events:function(t){var s=this,a=s.S,e=p(".scroll-container");0<e.length&&(this.scope=e),a(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(t,e,n){e=e||a(this),n=n||e;var i=e.next("li"),r=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init"),o=a(t.target);t.preventDefault(),r||(s.init(),r=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init")),n.hasClass("visible")&&e[0]===n[0]&&0<i.length&&s.is_open(e)&&(o=a("img",n=i)),s.open(o,e,n),s.update_paddles(n)}).on("click.fndtn.clearing",".clearing-main-next",function(t){s.nav(t,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(t){s.nav(t,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}),p(g).on("keydown.fndtn.clearing",function(t){s.keydown(t)}),a(n).off(".clearing").on("resize.fndtn.clearing",function(){s.resize()}),this.swipe_events(t)},swipe_events:function(){var i=this,r=i.S;r(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:o};r(this).data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(t){if(t.touches||(t=t.originalEvent),!(1<t.touches.length||t.scale&&1!==t.scale)){var e=r(this).data("swipe-transition");if(void 0===e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,Foundation.rtl&&(e.delta_x=-e.delta_x),"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var n=e.delta_x<0?"next":"prev";e.active=!0,i.nav(t,n)}}}).on("touchend.fndtn.clearing",".visible-img",function(t){r(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(t){var e=t.parent();if(!e.parent().hasClass("carousel")){e.after('<div id="foundationClearingHolder"></div>');var n=e.detach(),i="";if(null!=n[0]){i=n[0].outerHTML;var r=this.S("#foundationClearingHolder"),o={grid:'<div class="carousel">'+i+"</div>",viewing:e.data(this.attr_name(!0)+"-init").templates.viewing},s='<div class="clearing-assembled"><div>'+o.viewing+o.grid+"</div></div>",a=this.settings.touch_label;Modernizr.touch&&(s=p(s).find(".clearing-touch-label").html(a).end()),r.after(s).remove()}}},open:function(t,n,i){function e(){setTimeout(function(){this.image_loaded(u,function(){1!==u.outerWidth()||h?r.call(this,u):e.call(this)}.bind(this))}.bind(this),100)}function r(t){var e=p(t);e.css("visibility","visible"),e.trigger("imageVisible"),s.css("overflow","hidden"),a.addClass("clearing-blackout"),l.addClass("clearing-container"),c.show(),this.fix_height(i).caption(o.S(".clearing-caption",c),o.S("img",i)).center_and_label(t,d).shift(n,i,function(){i.closest("li").siblings().removeClass("visible"),i.closest("li").addClass("visible")}),c.trigger("opened.fndtn.clearing")}var o=this,s=p(g.body),a=i.closest(".clearing-assembled"),l=o.S("div",a).first(),c=o.S(".visible-img",l),u=o.S("img",c).not(t),d=o.S(".clearing-touch-label",l),h=!1,f={};p("body").on("touchmove",function(t){t.preventDefault()}),u.error(function(){h=!0}),this.locked()||(c.trigger("open.fndtn.clearing"),(f=this.load(t)).interchange?u.attr("data-interchange",f.interchange).foundation("interchange","reflow"):u.attr("src",f.src).attr("data-interchange",""),u.css("visibility","hidden"),e.call(this))},close:function(t,e){t.preventDefault();var n,i,r,o=(r=p(e),/blackout/.test(r.selector)?r:r.closest(".clearing-blackout")),s=p(g.body);return e===t.target&&o&&(s.css("overflow",""),n=p("div",o).first(),(i=p(".visible-img",n)).trigger("close.fndtn.clearing"),this.settings.prev_index=0,p("ul["+this.attr_name()+"]",o).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),n.removeClass("clearing-container"),i.hide(),i.trigger("closed.fndtn.clearing")),p("body").off("touchmove"),!1},is_open:function(t){return 0<t.parent().prop("style").length},keydown:function(t){var e=p(".clearing-blackout ul["+this.attr_name()+"]"),n=this.rtl?37:39,i=this.rtl?39:37,r=27;t.which===n&&this.go(e,"next"),t.which===i&&this.go(e,"prev"),t.which===r&&this.S("a.clearing-close").trigger("click.fndtn.clearing")},nav:function(t,e){var n=p("ul["+this.attr_name()+"]",".clearing-blackout");t.preventDefault(),this.go(n,e)},resize:function(){var t=p("img",".clearing-blackout .visible-img"),e=p(".clearing-touch-label",".clearing-blackout");t.length&&(this.center_and_label(t,e),t.trigger("resized.fndtn.clearing"))},fix_height:function(t){var e=t.parent().children(),n=this;return e.each(function(){var t=n.S(this),e=t.find("img");t.height()>e.outerHeight()&&t.addClass("fix-height")}).closest("ul").width(100*e.length+"%"),this},update_paddles:function(t){var e=(t=t.closest("li")).closest(".carousel").siblings(".visible-img");0<t.next().length?this.S(".clearing-main-next",e).removeClass("disabled"):this.S(".clearing-main-next",e).addClass("disabled"),0<t.prev().length?this.S(".clearing-main-prev",e).removeClass("disabled"):this.S(".clearing-main-prev",e).addClass("disabled")},center_and_label:function(t,e){return e.css(!this.rtl&&0<e.length?{marginLeft:-e.outerWidth()/2,marginTop:-t.outerHeight()/2-e.outerHeight()-10}:{marginRight:-e.outerWidth()/2,marginTop:-t.outerHeight()/2-e.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(t){var e,n,i;return"A"===t[0].nodeName?(e=t.attr("href"),n=t.data("clearing-interchange")):(e=(i=t.closest("a")).attr("href"),n=i.data("clearing-interchange")),this.preload(t),{src:e||t.attr("src"),interchange:e?n:t.data("clearing-interchange")}},preload:function(t){this.img(t.closest("li").next(),"next").img(t.closest("li").prev(),"prev")},img:function(t,e){if(t.length){var n,i,r,o=p(".clearing-preload-"+e),s=this.S("a",t);s.length?(n=s.attr("href"),i=s.data("clearing-interchange")):(n=(r=this.S("img",t)).attr("src"),i=r.data("clearing-interchange")),i?o.attr("data-interchange",i):(o.attr("src",n),o.attr("data-interchange",""))}return this},caption:function(t,e){var n=e.attr("data-caption");n?(t.get(0).innerHTML=n,t.show()):t.text("").hide();return this},go:function(t,e){var n=this.S(".visible",t),i=n[e]();this.settings.skip_selector&&0!=i.find(this.settings.skip_selector).length&&(i=i[e]()),i.length&&this.S("img",i).trigger("click.fndtn.clearing",[n,i]).trigger("change.fndtn.clearing")},shift:function(t,e,n){var i,r=e.parent(),o=this.settings.prev_index||e.index(),s=this.direction(r,t,e),a=this.rtl?"right":"left",l=parseInt(r.css("left"),10),c=e.outerWidth(),u={};e.index()===o||/skip/.test(s)?/skip/.test(s)&&(i=e.index()-this.settings.up_count,this.lock(),u[a]=0<i?-i*c:0,r.animate(u,300,this.unlock())):/left/.test(s)?(this.lock(),u[a]=l+c,r.animate(u,300,this.unlock())):/right/.test(s)&&(this.lock(),u[a]=l-c,r.animate(u,300,this.unlock())),n()},direction:function(t,e,n){var i,r=this.S("li",t),o=r.outerWidth()+r.outerWidth()/4,s=Math.floor(this.S(".clearing-container").outerWidth()/o)-1,a=r.index(n);return this.settings.up_count=s,i=this.adjacent(this.settings.prev_index,a)?s<a&&a>this.settings.prev_index?"right":s-1<a&&a<=this.settings.prev_index&&"left":"skip",this.settings.prev_index=a,i},adjacent:function(t,e){for(var n=e+1;e-1<=n;n--)if(n===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(n).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(p,o,s,a){"use strict";var t=function(){},n=function(t,l){if(t.hasClass(l.slides_container_class))return this;var i,e,n,r,c,u,d=this,h=t,f=0;d.slides=function(){return h.children(l.slide_selector)},d.slides().first().addClass(l.active_slide_class),d.update_slide_number=function(t){l.slide_number&&(e.find("span:first").text(parseInt(t)+1),e.find("span:last").text(d.slides().length)),l.bullets&&(n.children().removeClass(l.bullets_active_class),p(n.children().get(t)).addClass(l.bullets_active_class))},d.update_active_link=function(t){var e=p('[data-orbit-link="'+d.slides().eq(t).attr("data-orbit-slide")+'"]');e.siblings().removeClass(l.bullets_active_class),e.addClass(l.bullets_active_class)},d.build_markup=function(){h.wrap('<div class="'+l.container_class+'"></div>'),i=h.parent(),h.addClass(l.slides_container_class),l.stack_on_small&&i.addClass(l.stack_on_small_class),l.navigation_arrows&&(i.append(p('<a href="#"><span></span></a>').addClass(l.prev_class)),i.append(p('<a href="#"><span></span></a>').addClass(l.next_class))),l.timer&&((r=p("<div>").addClass(l.timer_container_class)).append("<span>"),r.append(p("<div>").addClass(l.timer_progress_class)),r.addClass(l.timer_paused_class),i.append(r)),l.slide_number&&((e=p("<div>").addClass(l.slide_number_class)).append("<span></span> "+l.slide_number_text+" <span></span>"),i.append(e)),l.bullets&&(n=p("<ol>").addClass(l.bullets_container_class),i.append(n),n.wrap('<div class="orbit-bullets-container"></div>'),d.slides().each(function(t){var e=p("<li>").attr("data-orbit-slide",t).on("click",d.link_bullet);n.append(e)}))},d._goto=function(e,n){if(e===f)return!1;"object"==typeof u&&u.restart();var i=d.slides(),t="next";if(!0,e<f&&(t="prev"),e>=i.length){if(!l.circular)return!1;e=0}else if(e<0){if(!l.circular)return!1;e=i.length-1}var r=p(i.get(f)),o=p(i.get(e));r.css("zIndex",2),r.removeClass(l.active_slide_class),o.css("zIndex",4).addClass(l.active_slide_class),h.trigger("before-slide-change.fndtn.orbit"),l.before_slide_change(),d.update_active_link(e);var s=function(){var t=function(){f=e,!!1===n&&(u=d.create_timer()).start(),d.update_slide_number(f),h.trigger("after-slide-change.fndtn.orbit",[{slide_number:f,total_slides:i.length}]),l.after_slide_change(f,i.length)};h.outerHeight()!=o.outerHeight()&&l.variable_height?h.animate({height:o.outerHeight()},250,"linear",t):t()};if(1===i.length)return s(),!1;var a=function(){"next"===t&&c.next(r,o,s),"prev"===t&&c.prev(r,o,s)};o.outerHeight()>h.outerHeight()&&l.variable_height?h.animate({height:o.outerHeight()},250,"linear",a):a()},d.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),d._goto(f+1)},d.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),d._goto(f-1)},d.link_custom=function(t){t.preventDefault();var e=p(this).attr("data-orbit-link");if("string"==typeof e&&""!=(e=p.trim(e))){var n=i.find("[data-orbit-slide="+e+"]");-1!=n.index()&&d._goto(n.index())}},d.link_bullet=function(){var t=p(this).attr("data-orbit-slide");if("string"==typeof t&&""!=(t=p.trim(t)))if(isNaN(parseInt(t))){var e=i.find("[data-orbit-slide="+t+"]");-1!=e.index()&&d._goto(e.index()+1)}else d._goto(parseInt(t))},d.timer_callback=function(){d._goto(f+1,!0)},d.compute_dimensions=function(){var t=p(d.slides().get(f)).outerHeight();l.variable_height||d.slides().each(function(){p(this).outerHeight()>t&&(t=p(this).outerHeight())}),h.height(t)},d.create_timer=function(){return new g(i.find("."+l.timer_container_class),l,d.timer_callback)},d.stop_timer=function(){"object"==typeof u&&u.stop()},d.toggle_timer=function(){i.find("."+l.timer_container_class).hasClass(l.timer_paused_class)?(void 0===u&&(u=d.create_timer()),u.start()):"object"==typeof u&&u.stop()},d.init=function(){d.build_markup(),l.timer&&(u=d.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),u.start)),c=new v(l,h),"slide"===l.animation&&(c=new m(l,h)),i.on("click","."+l.next_class,d.next),i.on("click","."+l.prev_class,d.prev),l.next_on_click&&i.on("click","."+l.slides_container_class+" [data-orbit-slide]",d.link_bullet),i.on("click",d.toggle_timer),l.swipe&&i.on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:a};i.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(1<t.touches.length||t.scale&&1!==t.scale)){var e=i.data("swipe-transition");if(void 0===e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var n=e.delta_x<0?f+1:f-1;e.active=!0,d._goto(n)}}}).on("touchend.fndtn.orbit",function(t){i.data("swipe-transition",{}),t.stopPropagation()}),i.on("mouseenter.fndtn.orbit",function(){l.timer&&l.pause_on_hover&&d.stop_timer()}).on("mouseleave.fndtn.orbit",function(){l.timer&&l.resume_on_mouseout&&u.start()}),p(s).on("click","[data-orbit-link]",d.link_custom),p(o).on("load resize",d.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),d.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){i.prev("."+l.preloader_class).css("display","none"),d.update_slide_number(0),d.update_active_link(0),h.trigger("ready.fndtn.orbit")})},d.init()},g=function(n,i,t){var r,o,s=this,a=i.timer_speed,l=n.find("."+i.timer_progress_class),c=-1;this.update_progress=function(t){var e=l.clone();e.attr("style",""),e.css("width",t+"%"),l.replaceWith(e),l=e},this.restart=function(){clearTimeout(o),n.addClass(i.timer_paused_class),c=-1,s.update_progress(0)},this.start=function(){return!n.hasClass(i.timer_paused_class)||(c=-1===c?a:c,n.removeClass(i.timer_paused_class),r=(new Date).getTime(),l.animate({width:"100%"},c,"linear"),o=setTimeout(function(){s.restart(),t()},c),void n.trigger("timer-started.fndtn.orbit"))},this.stop=function(){if(n.hasClass(i.timer_paused_class))return!0;clearTimeout(o),n.addClass(i.timer_paused_class);var t=(new Date).getTime(),e=100-(c-=t-r)/a*100;s.update_progress(e),n.trigger("timer-stopped.fndtn.orbit")}},m=function(t){var i=t.animation_speed,r=1===p("html[dir=rtl]").length?"marginRight":"marginLeft",o={};o[r]="0%",this.next=function(t,e,n){t.animate({marginLeft:"-100%"},i),e.animate(o,i,function(){t.css(r,"100%"),n()})},this.prev=function(t,e,n){t.animate({marginLeft:"100%"},i),e.css(r,"-100%"),e.animate(o,i,function(){t.css(r,"100%"),n()})}},v=function(t){var i=t.animation_speed;p("html[dir=rtl]").length,this.next=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})},this.prev=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.3",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:t,after_slide_change:t},init:function(t,e,n){this.bindings(e,n)},events:function(t){var e=new n(this.S(t),this.S(t).data("orbit-init"));this.S(t).data(this.name+"-instance",e)},reflow:function(){var i=this;i.S(i.scope).is("[data-orbit]")?i.S(i.scope).data(i.name+"-instance").compute_dimensions():i.S("[data-orbit]",i.scope).each(function(t,e){var n=i.S(e);(i.data_options(n),n.data(i.name+"-instance")).compute_dimensions()})}}}(jQuery,window,window.document),function(u){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.3",settings:{open_method:"move",close_on_click:!1},init:function(t,e,n){this.bindings(e,n)},events:function(){var i=this,r=i.S,o="",s="",a="",l="",c="";"move"===this.settings.open_method?(o="move-",s="right",a="left",l="top",c="bottom"):"overlap_single"===this.settings.open_method?(o="offcanvas-overlap-",s="right",a="left",l="top",c="bottom"):"overlap"===this.settings.open_method&&(o="offcanvas-overlap"),r(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(t){i.click_toggle_class(t,o+s),"overlap"!==i.settings.open_method&&r(".left-submenu").removeClass(o+s),u(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(t){var e=i.get_settings(t),n=r(this).parent();!e.close_on_click||n.hasClass("has-submenu")||n.hasClass("back")?r(this).parent().hasClass("has-submenu")?(t.preventDefault(),r(this).siblings(".left-submenu").toggleClass(o+s)):n.hasClass("back")&&(t.preventDefault(),n.parent().removeClass(o+s)):(i.hide.call(i,o+s,i.get_wrapper(t)),n.parent().removeClass(o+s)),u(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(t){i.click_toggle_class(t,o+a),"overlap"!==i.settings.open_method&&r(".right-submenu").removeClass(o+a),u(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(t){var e=i.get_settings(t),n=r(this).parent();!e.close_on_click||n.hasClass("has-submenu")||n.hasClass("back")?r(this).parent().hasClass("has-submenu")?(t.preventDefault(),r(this).siblings(".right-submenu").toggleClass(o+a)):n.hasClass("back")&&(t.preventDefault(),n.parent().removeClass(o+a)):(i.hide.call(i,o+a,i.get_wrapper(t)),n.parent().removeClass(o+a)),u(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".top-off-canvas-toggle",function(t){i.click_toggle_class(t,o+c),"overlap"!==i.settings.open_method&&r(".top-submenu").removeClass(o+c),u(".top-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".top-off-canvas-menu a",function(t){var e=i.get_settings(t),n=r(this).parent();!e.close_on_click||n.hasClass("has-submenu")||n.hasClass("back")?r(this).parent().hasClass("has-submenu")?(t.preventDefault(),r(this).siblings(".top-submenu").toggleClass(o+c)):n.hasClass("back")&&(t.preventDefault(),n.parent().removeClass(o+c)):(i.hide.call(i,o+c,i.get_wrapper(t)),n.parent().removeClass(o+c)),u(".top-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".bottom-off-canvas-toggle",function(t){i.click_toggle_class(t,o+l),"overlap"!==i.settings.open_method&&r(".bottom-submenu").removeClass(o+l),u(".bottom-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".bottom-off-canvas-menu a",function(t){var e=i.get_settings(t),n=r(this).parent();!e.close_on_click||n.hasClass("has-submenu")||n.hasClass("back")?r(this).parent().hasClass("has-submenu")?(t.preventDefault(),r(this).siblings(".bottom-submenu").toggleClass(o+l)):n.hasClass("back")&&(t.preventDefault(),n.parent().removeClass(o+l)):(i.hide.call(i,o+l,i.get_wrapper(t)),n.parent().removeClass(o+l)),u(".bottom-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){i.click_remove_class(t,o+a),r(".right-submenu").removeClass(o+a),s&&(i.click_remove_class(t,o+s),r(".left-submenu").removeClass(o+a)),u(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){i.click_remove_class(t,o+a),u(".left-off-canvas-toggle").attr("aria-expanded","false"),s&&(i.click_remove_class(t,o+s),u(".right-off-canvas-toggle").attr("aria-expanded","false"))}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){i.click_remove_class(t,o+l),r(".bottom-submenu").removeClass(o+l),c&&(i.click_remove_class(t,o+c),r(".top-submenu").removeClass(o+l)),u(".bottom-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){i.click_remove_class(t,o+l),u(".top-off-canvas-toggle").attr("aria-expanded","false"),c&&(i.click_remove_class(t,o+c),u(".bottom-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(t,e){(e=e||this.get_wrapper()).is("."+t)?this.hide(t,e):this.show(t,e)},show:function(t,e){(e=e||this.get_wrapper()).trigger("open.fndtn.offcanvas"),e.addClass(t)},hide:function(t,e){(e=e||this.get_wrapper()).trigger("close.fndtn.offcanvas"),e.removeClass(t)},click_toggle_class:function(t,e){t.preventDefault();var n=this.get_wrapper(t);this.toggle(e,n)},click_remove_class:function(t,e){t.preventDefault();var n=this.get_wrapper(t);this.hide(e,n)},get_settings:function(t){return this.S(t.target).closest("["+this.attr_name()+"]").data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(t){var e=this.S(t?t.target:this.scope).closest(".off-canvas-wrap");return 0===e.length&&(e=this.S(".off-canvas-wrap")),e},reflow:function(){}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.alert={name:"alert",version:"5.5.3",settings:{callback:function(){}},init:function(t,e,n){this.bindings(e,n)},events:function(){var i=this,r=this.S;t(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(t){var e=r(this).closest("["+i.attr_name()+"]"),n=e.data(i.attr_name(!0)+"-init")||i.settings;t.preventDefault(),Modernizr.csstransitions?(e.addClass("alert-close"),e.on("transitionend webkitTransitionEnd oTransitionEnd",function(){r(this).trigger("close.fndtn.alert").remove(),n.callback()})):e.fadeOut(300,function(){r(this).trigger("close.fndtn.alert").remove(),n.callback()})})},reflow:function(){}}
}(jQuery,window,window.document),function(l,c,t,u){"use strict";function d(t){var e=/fade/i.test(t),n=/pop/i.test(t);return{animate:e||n,pop:n,fade:e}}var h=[];Foundation.libs.reveal={name:"reveal",version:"5.5.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:l.noop,bg:l(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,e,n){l.extend(!0,this.settings,e,n),this.bindings(e,n)},events:function(){var o=this,s=o.S;return s(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(t){if(t.preventDefault(),!o.locked){var e=s(this),n=e.data(o.data_attr("reveal-ajax")),i=e.data(o.data_attr("reveal-replace-content"));if(o.locked=!0,void 0===n)o.open.call(o,e);else{var r=!0===n?e.attr("href"):n;o.open.call(o,e,{url:r},{replaceContentSel:i})}}}),s(t).on("click.fndtn.reveal",this.close_targets(),function(t){if(t.preventDefault(),!o.locked){var e=s("["+o.attr_name()+"].open").data(o.attr_name(!0)+"-init")||o.settings,n=s(t.target)[0]===s("."+e.bg_class)[0];if(n){if(!e.close_on_background_click)return;t.stopPropagation()}o.locked=!0,o.close.call(o,n?s("["+o.attr_name()+"].open:not(.toback)"):s(this).closest("["+o.attr_name()+"]"))}}),0<s("["+o.attr_name()+"]",this.scope).length?s(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):s(this.scope).on("open.fndtn.reveal","["+o.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+o.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+o.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+o.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+o.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+o.attr_name()+"]",this.close_video),!0},key_up_on:function(){var i=this;return i.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var e=i.S("["+i.attr_name()+"].open"),n=e.data(i.attr_name(!0)+"-init")||i.settings;n&&27===t.which&&n.close_on_esc&&!i.locked&&i.close.call(i,e)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,e){var r,o=this;t?"undefined"!=typeof t.selector?r=o.S("#"+t.data(o.data_attr("reveal-id"))).first():(r=o.S(this.scope),e=t):r=o.S(this.scope);var n=r.data(o.attr_name(!0)+"-init");if(n=n||this.settings,r.hasClass("open")&&t!==u&&t.attr("data-reveal-id")==r.attr("id"))return o.close(r);if(!r.hasClass("open")){var i=o.S("["+o.attr_name()+"].open");void 0===r.data("css-top")&&r.data("css-top",parseInt(r.css("top"),10)).data("offset",this.cache_offset(r)),r.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(r),r.on("open.fndtn.reveal",function(t){t.namespace}),r.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),i.length<1&&this.toggle_bg(r,!0),"string"==typeof e&&(e={url:e});var s=function(){0<i.length&&(n.multiple_opened?o.to_back(i):o.hide(i,n.css.close)),n.multiple_opened&&h.push(r),o.show(r,n.css.open)};if(void 0!==e&&e.url){var a="undefined"!=typeof e.success?e.success:null;l.extend(e,{success:function(t,e,n){if(l.isFunction(a)){var i=a(t,e,n);"string"==typeof i&&(t=i)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?r.find(options.replaceContentSel).html(t):r.html(t),o.S(r).foundation("section","reflow"),o.S(r).children().foundation(),s()}}),n.on_ajax_error!==l.noop&&l.extend(e,{error:n.on_ajax_error}),l.ajax(e)}else s()}o.S(c).trigger("resize")},close:function(n){n=n&&n.length?n:this.S(this.scope);var t=this.S("["+this.attr_name()+"].open"),e=n.data(this.attr_name(!0)+"-init")||this.settings,i=this;if(0<t.length)if(n.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(n),n.trigger("close.fndtn.reveal"),(e.multiple_opened&&1===t.length||!e.multiple_opened||1<n.length)&&(i.toggle_bg(n,!1),i.to_front(n)),e.multiple_opened){var r=n.is(":not(.toback)");i.hide(n,e.css.close,e),r?h.pop():h=l.grep(h,function(t){var e=t[0]===n[0];return e&&i.to_front(n),!e}),0<h.length&&i.to_front(h[h.length-1])}else i.hide(t,e.css.close,e)},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(t,e){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=l("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var n=0<this.settings.bg.filter(":visible").length;e!=n&&((e==u?n:!e)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(t,e){if(e){var n=(a=t.data(this.attr_name(!0)+"-init")||this.settings).root_element,i=this;if(0===t.parent(n).length){var r=t.wrap('<div style="display: none;" />').parent();t.on("closed.fndtn.reveal.wrapped",function(){t.detach().appendTo(r),t.unwrap().unbind("closed.fndtn.reveal.wrapped")}),t.detach().appendTo(n)}var o=d(a.animation);if(o.animate||(this.locked=!1),o.pop){e.top=l(c).scrollTop()-t.data("offset")+"px";var s={top:l(c).scrollTop()+t.data("css-top")+"px",opacity:1};return setTimeout(function(){return t.css(e).animate(s,a.animation_speed,"linear",function(){i.locked=!1,t.trigger("opened.fndtn.reveal")}).addClass("open")},a.animation_speed/2)}if(e.top=l(c).scrollTop()+t.data("css-top")+"px",o.fade){s={opacity:1};return setTimeout(function(){return t.css(e).animate(s,a.animation_speed,"linear",function(){i.locked=!1,t.trigger("opened.fndtn.reveal")}).addClass("open")},a.animation_speed/2)}return t.css(e).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var a;return d((a=this.settings).animation).fade?t.fadeIn(a.animation_speed/2):(this.locked=!1,t.show())},to_back:function(t){t.addClass("toback")},to_front:function(t){t.removeClass("toback")},hide:function(t,e){if(e){var n=t.data(this.attr_name(!0)+"-init"),i=this,r=d((n=n||this.settings).animation);if(r.animate||(this.locked=!1),r.pop){var o={top:-l(c).scrollTop()-t.data("offset")+"px",opacity:0};return setTimeout(function(){return t.animate(o,n.animation_speed,"linear",function(){i.locked=!1,t.css(e).trigger("closed.fndtn.reveal")}).removeClass("open")},n.animation_speed/2)}if(r.fade){o={opacity:0};return setTimeout(function(){return t.animate(o,n.animation_speed,"linear",function(){i.locked=!1,t.css(e).trigger("closed.fndtn.reveal")}).removeClass("open")},n.animation_speed/2)}return t.hide().css(e).removeClass("open").trigger("closed.fndtn.reveal")}return d((n=this.settings).animation).fade?t.fadeOut(n.animation_speed/2):t.hide()},close_video:function(t){var e=l(".flex-video",t.target),n=l("iframe",e);0<n.length&&(n.attr("data-src",n[0].src),n.attr("src",n.attr("src")),e.hide())},open_video:function(t){var e=l(".flex-video",t.target),n=e.find("iframe");if(0<n.length){if("string"==typeof n.attr("data-src"))n[0].src=n.attr("data-src");else{var i=n[0].src;n[0].src=u,n[0].src=i}e.show()}},data_attr:function(t){return 0<this.namespace.length?this.namespace+"-"+t:t},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10)+t.scrollY;return t.hide(),e},off:function(){l(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(s,i){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.3",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(e,n,i){if(null!==e&&/IMG/.test(e[0].nodeName)){var t=s.each(e,function(){this.src=n});if(new RegExp(n,"i").test(t))return;return e.attr("src",n),i(e[0].src)}var r=e.data(this.data_attr+"-last-path"),o=this;if(r!=n)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(n)?(s(e).css("background-image","url("+n+")"),e.data("interchange-last-path",n),i(n)):s.get(n,function(t){e.html(t),e.data(o.data_attr+"-last-path",n),i()})}}},init:function(t,e,n){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),s.extend(!0,this.settings,e,n),this.bindings(e,n),this.reflow()},get_media_hash:function(){var t="";for(var e in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[e]).matches.toString();return t},events:function(){var e,n=this;return s(i).off(".interchange").on("resize.fndtn.interchange",n.throttle(function(){var t=n.get_media_hash();t!==e&&n.resize(),e=t},50)),this},resize:function(){var t=this.cache;if(this.images_loaded&&this.nodes_loaded){for(var e in t)if(t.hasOwnProperty(e)){var n=this.results(e,t[e]);n&&this.settings.directives[n.scenario[1]].call(this,n.el,n.scenario[0],function(t){if(t instanceof Array)var e=t;else e=Array.prototype.slice.call(arguments,0);return function(){t.el.trigger(t.scenario[1],e)}}(n))}}else setTimeout(s.proxy(this.resize,this),50)},results:function(t,e){var n=e.length;if(0<n)for(var i=this.S("["+this.add_namespace("data-uuid")+'="'+t+'"]');n--;){var r=e[n][2];if(matchMedia(this.settings.named_queries.hasOwnProperty(r)?this.settings.named_queries[r]:r).matches)return{el:i,scenario:e[n]}}return!1},load:function(t,e){return("undefined"==typeof this["cached_"+t]||e)&&this["update_"+t](),this["cached_"+t]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),e=t.length,n=e,i=0,r=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===e;n--;){if(i++,t[n])0<(t[n].getAttribute(r)||"").length&&this.cached_images.push(t[n]);i===e&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var t=this.S("["+this.data_attr+"]").not("img"),e=t.length,n=e,i=0,r=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===e;n--;){i++,0<(t[n].getAttribute(r)||"").length&&this.cached_nodes.push(t[n]),i===e&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(t){for(var e=this["cached_"+t].length;e--;)this.object(s(this["cached_"+t][e]));return s(i).trigger("resize.fndtn.interchange")},convert_directive:function(t){var e=this.trim(t);return 0<e.length?e:"replace"},parse_scenario:function(t){var e=t[0].match(/(.+),\s*(\w+)\s*$/),n=t[1].match(/(.*)\)/);if(e)var i=e[1],r=e[2];else i=t[0].split(/,\s*$/)[0],r="";return[this.trim(i),this.convert_directive(r),this.trim(n[1])]},object:function(t){var e=this.parse_data_attr(t),n=[],i=e.length;if(0<i)for(;i--;){var r=e[i].split(/,\s?\(/);if(1<r.length){var o=this.parse_scenario(r);n.push(o)}}return this.store(t,n)},store:function(t,e){var n=this.random_str(),i=t.data(this.add_namespace("uuid",!0));return this.cache[i]?this.cache[i]:(t.attr(this.add_namespace("data-uuid"),n),this.cache[n]=e)},trim:function(t){return"string"==typeof t?s.trim(t):t},set_data_attr:function(t){return t?0<this.namespace.length?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:0<this.namespace.length?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(t){for(var e=t.attr(this.attr_name()).split(/\[(.*?)\]/),n=e.length,i=[];n--;)4<e[n].replace(/[\W\d]+/,"").length&&i.push(e[n]);return i},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(d,t){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.3",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(t,e,n){Foundation.inherit(this,"throttle"),this.bindings(e,n)},events:function(){var u=this,t=u.S,e=u.settings;u.set_expedition_position(),t(u.scope).off(".magellan").on("click.fndtn.magellan","["+u.add_namespace("data-magellan-arrival")+"] a[href*=#]",function(t){var e=this.hostname===location.hostname||!this.hostname,n=u.filterPathname(location.pathname)===u.filterPathname(this.pathname),i=this.hash.replace(/(:|\.|\/)/g,"\\$1"),r=this;if(e&&n&&i){t.preventDefault();var o=d(this).closest("["+u.attr_name()+"]"),s=o.data("magellan-expedition-init"),a=this.hash.split("#").join(""),l=d('a[name="'+a+'"]');0===l.length&&(l=d("#"+a));var c=l.offset().top-s.destination_threshold+1;s.offset_by_height&&(c-=o.outerHeight()),d("html, body").stop().animate({scrollTop:c},s.duration,s.easing,function(){history.pushState?history.pushState(null,null,r.pathname+r.search+"#"+a):location.hash=r.pathname+r.search+"#"+a})}}).on("scroll.fndtn.magellan",u.throttle(this.check_for_arrivals.bind(this),e.throttle_delay))},check_for_arrivals:function(){var t=this;t.update_arrivals(),t.update_expedition_positions()},set_expedition_position:function(){var o=this;d("["+this.attr_name()+"=fixed]",o.scope).each(function(){var t,e,n=d(this),i=n.data("magellan-expedition-init"),r=n.attr("styles");n.attr("style",""),t=n.offset().top+i.threshold,e=parseInt(n.data("magellan-fixed-top")),isNaN(e)||(o.settings.fixed_top=e),n.data(o.data_attr("magellan-top-offset"),t),n.attr("style",r)})},update_expedition_positions:function(){var o=this,s=d(t).scrollTop();d("["+this.attr_name()+"=fixed]",o.scope).each(function(){var t=d(this),e=t.data("magellan-expedition-init"),n=t.attr("style"),i=t.data("magellan-top-offset");if(s+o.settings.fixed_top>=i){var r=t.prev("["+o.add_namespace("data-magellan-expedition-clone")+"]");0===r.length&&((r=t.clone()).removeAttr(o.attr_name()),r.attr(o.add_namespace("data-magellan-expedition-clone"),""),t.before(r)),t.css({position:"fixed",top:e.fixed_top}).addClass("fixed")}else t.prev("["+o.add_namespace("data-magellan-expedition-clone")+"]").remove(),t.attr("style",n).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var o=this,s=d(t).scrollTop();d("["+this.attr_name()+"]",o.scope).each(function(){var n=d(this),i=n.data(o.attr_name(!0)+"-init"),t=o.offsets(n,s),e=n.find("["+o.add_namespace("data-magellan-arrival")+"]"),r=!1;t.each(function(t,e){if(e.viewport_offset>=e.top_offset)return n.find("["+o.add_namespace("data-magellan-arrival")+"]").not(e.arrival).removeClass(i.active_class),e.arrival.addClass(i.active_class),r=!0}),r||e.removeClass(i.active_class)})},offsets:function(i,t){var r=this,o=i.data(r.attr_name(!0)+"-init"),s=t;return i.find("["+r.add_namespace("data-magellan-arrival")+"]").map(function(){var t=d(this).data(r.data_attr("magellan-arrival")),e=d("["+r.add_namespace("data-magellan-destination")+"="+t+"]");if(0<e.length){var n=e.offset().top-o.destination_threshold;return o.offset_by_height&&(n-=i.outerHeight()),n=Math.floor(n),{destination:e,arrival:d(this),top_offset:n,viewport_offset:s}}}).sort(function(t,e){return t.top_offset<e.top_offset?-1:t.top_offset>e.top_offset?1:0})},data_attr:function(t){return 0<this.namespace.length?this.namespace+"-"+t:t},off:function(){this.S(this.scope).off(".magellan"),this.S(t).off(".magellan")},filterPathname:function(t){return(t=t||"").replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},reflow:function(){var t=this;d("["+t.add_namespace("data-magellan-expedition-clone")+"]",t.scope).remove()}}}(jQuery,window,window.document),function(u,s){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.5.3",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(t,e,n){this.bindings(e,n)},events:function(t){var l=this,c=this.S;l.create(this.S(t)),c(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a, ["+this.attr_name()+"] > li > a",function(t){var e=c(this).closest("["+l.attr_name()+"]"),n=l.attr_name()+"="+e.attr(l.attr_name()),i=e.data(l.attr_name(!0)+"-init")||l.settings,r=c("#"+this.href.split("#")[1]),o=u("> dd, > li",e),s=o.children("."+i.content_class),a=s.filter("."+i.active_class);return t.preventDefault(),e.attr(l.attr_name())&&(s=s.add("["+n+"] dd > ."+i.content_class+", ["+n+"] li > ."+i.content_class),o=o.add("["+n+"] dd, ["+n+"] li")),i.toggleable&&r.is(a)?(r.parent("dd, li").toggleClass(i.active_class,!1),r.toggleClass(i.active_class,!1),c(this).attr("aria-expanded",function(t,e){return"true"===e?"false":"true"}),i.callback(r),r.triggerHandler("toggled",[e]),void e.triggerHandler("toggled",[r])):(i.multi_expand||(s.removeClass(i.active_class),o.removeClass(i.active_class),o.children("a").attr("aria-expanded","false")),r.addClass(i.active_class).parent().addClass(i.active_class),i.callback(r),r.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[r]),void c(this).attr("aria-expanded","true"))})},create:function(t){var e=this,n=t,i=u("> .accordion-navigation",n),r=n.data(e.attr_name(!0)+"-init")||e.settings;i.children("a").attr("aria-expanded","false"),i.has("."+r.content_class+"."+r.active_class).addClass(r.active_class).children("a").attr("aria-expanded","true"),r.multi_expand&&t.attr("aria-multiselectable","true")},toggle:function(t){var e="undefined"!=typeof(t=void 0!==t?t:{}).selector?t.selector:"",n="undefined"!=typeof t.toggle_state?t.toggle_state:"",i=("undefined"!=typeof t.$accordion?t.$accordion:this.S(this.scope).closest("["+this.attr_name()+"]")).find("> dd"+e+", > li"+e);if(i.length<1)return s.console&&console.error("Selection not found.",e),!1;var r=this.S,o=this.settings.active_class;i.each(function(){var t=r(this),e=t.hasClass(o);(e&&"close"===n||!e&&"open"===n||""===n)&&t.find("> a").trigger("click.fndtn.accordion")})},open:function(t){(t=void 0!==t?t:{}).toggle_state="open",this.toggle(t)},close:function(t){(t=void 0!==t?t:{}).toggle_state="close",this.toggle(t)},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(l,o,s){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.3",settings:{index:0,start_offset:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all",dropdown_autoclose:!0},init:function(t,e,n){Foundation.inherit(this,"add_custom_rule register_media throttle");var i=this;i.register_media("topbar","foundation-mq-topbar"),this.bindings(e,n),i.S("["+this.attr_name()+"]",this.scope).each(function(){var t=l(this),e=t.data(i.attr_name(!0)+"-init");i.S("section, .top-bar-section",this),t.data("index",0);var n=t.parent();n.hasClass("fixed")||i.is_sticky(t,n,e)?(i.settings.sticky_class=e.sticky_class,(i.settings.sticky_topbar=t).data("height",n.outerHeight()),t.data("stickyoffset",n.offset().top)):t.data("height",t.outerHeight()),e.assembled||i.assemble(t),e.is_hover?i.S(".has-dropdown",t).addClass("not-click"):i.S(".has-dropdown",t).removeClass("not-click"),i.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),n.hasClass("fixed")&&i.S("body").addClass("f-topbar-fixed")})},is_sticky:function(t,e,n){var i=e.hasClass(n.sticky_class),r=matchMedia(Foundation.media_queries.small).matches,o=matchMedia(Foundation.media_queries.medium).matches,s=matchMedia(Foundation.media_queries.large).matches;return!(!i||"all"!==n.sticky_on)||(!(!(i&&this.small()&&-1!==n.sticky_on.indexOf("small")&&r)||o||s)||(!(!(i&&this.medium()&&-1!==n.sticky_on.indexOf("medium")&&r&&o)||s)||!!(i&&this.large()&&-1!==n.sticky_on.indexOf("large")&&r&&o&&s)))},toggle:function(t){var e,n=this,i=(e=t?n.S(t).closest("["+this.attr_name()+"]"):n.S("["+this.attr_name()+"]")).data(this.attr_name(!0)+"-init"),r=n.S("section, .top-bar-section",e);n.breakpoint()&&(n.rtl?(r.css({right:"0%"}),l(">.name",r).css({right:"100%"})):(r.css({left:"0%"}),l(">.name",r).css({left:"100%"})),n.S("li.moved",r).removeClass("moved"),e.data("index",0),e.toggleClass("expanded").css("height","")),i.scrolltop?e.hasClass("expanded")?e.parent().hasClass("fixed")&&(i.scrolltop?(e.parent().removeClass("fixed"),e.addClass("fixed"),n.S("body").removeClass("f-topbar-fixed"),o.scrollTo(0,0)):e.parent().removeClass("expanded")):e.hasClass("fixed")&&(e.parent().addClass("fixed"),e.removeClass("fixed"),n.S("body").addClass("f-topbar-fixed")):(n.is_sticky(e,e.parent(),i)&&e.parent().addClass("fixed"),e.parent().hasClass("fixed")&&(e.hasClass("expanded")?(e.addClass("fixed"),e.parent().addClass("expanded"),n.S("body").addClass("f-topbar-fixed")):(e.removeClass("fixed"),e.parent().removeClass("expanded"),n.update_sticky_positioning())))},timer:null,events:function(){var s=this,a=this.S;a(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),s.toggle(this)}).on("click.fndtn.topbar contextmenu.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var t=l(this).closest("li"),e=t.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init");e.dropdown_autoclose&&e.is_hover&&l(this).closest(".hover").removeClass("hover");!s.breakpoint()||t.hasClass("back")||t.hasClass("has-dropdown")||s.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var e=a(this),n=a(t.target),i=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init");return n.data("revealId")?void s.toggle():void(s.breakpoint()||(!i.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),e.hasClass("hover")?(e.removeClass("hover").find("li").removeClass("hover"),e.parents("li.hover").removeClass("hover")):(e.addClass("hover"),l(e).siblings().removeClass("hover"),"A"===n[0].nodeName&&n.parent().hasClass("has-dropdown")&&t.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(s.breakpoint()){t.preventDefault();var e=a(this),n=e.closest("["+s.attr_name()+"]"),i=n.find("section, .top-bar-section"),r=(e.next(".dropdown").outerHeight(),e.closest("li"));n.data("index",n.data("index")+1),r.addClass("moved"),s.rtl?(i.css({right:-100*n.data("index")+"%"}),i.find(">.name").css({right:100*n.data("index")+"%"})):(i.css({left:-100*n.data("index")+"%"}),i.find(">.name").css({left:100*n.data("index")+"%"})),n.css("height",e.siblings("ul").outerHeight(!0)+n.data("height"))}}),a(o).off(".topbar").on("resize.fndtn.topbar",s.throttle(function(){s.resize.call(s)},50)).trigger("resize.fndtn.topbar").load(function(){a(this).trigger("resize.fndtn.topbar")}),a("body").off(".topbar").on("click.fndtn.topbar",function(t){0<a(t.target).closest("li").closest("li.hover").length||a("["+s.attr_name()+"] li.hover").removeClass("hover")}),a(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var e=a(this),n=e.closest("["+s.attr_name()+"]"),i=n.find("section, .top-bar-section"),r=(n.data(s.attr_name(!0)+"-init"),e.closest("li.moved")),o=r.parent();n.data("index",n.data("index")-1),s.rtl?(i.css({right:-100*n.data("index")+"%"}),i.find(">.name").css({right:100*n.data("index")+"%"})):(i.css({left:-100*n.data("index")+"%"}),i.find(">.name").css({left:100*n.data("index")+"%"})),0===n.data("index")?n.css("height",""):n.css("height",o.outerHeight(!0)+n.data("height")),setTimeout(function(){r.removeClass("moved")},300)}),a(this.scope).find(".dropdown a").focus(function(){l(this).parents(".has-dropdown").addClass("hover")}).blur(function(){l(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var o=this;o.S("["+this.attr_name()+"]").each(function(){var t,e=o.S(this),n=e.data(o.attr_name(!0)+"-init"),i=e.parent("."+o.settings.sticky_class);if(!o.breakpoint()){var r=e.hasClass("expanded");e.css("height","").removeClass("expanded").find("li").removeClass("hover"),r&&o.toggle(e)}o.is_sticky(e,i,n)&&(i.hasClass("fixed")?(i.removeClass("fixed"),t=i.offset().top,o.S(s.body).hasClass("f-topbar-fixed")&&(t-=e.data("height")),e.data("stickyoffset",t),i.addClass("fixed")):(t=i.offset().top,e.data("stickyoffset",t)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var r=this,o=t.data(this.attr_name(!0)+"-init"),e=r.S("section, .top-bar-section",t);e.detach(),r.S(".has-dropdown>a",e).each(function(){var t,e=r.S(this),n=e.siblings(".dropdown"),i=e.attr("href");n.find(".title.back").length||(t=l(1==o.mobile_show_parent_link&&i?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="'+i+'">'+e.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),l("h5>a",t).html(1==o.custom_back_text?o.back_text:"&laquo; "+e.html()),n.prepend(t))}),e.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),l.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var e=0,n=this;return l("> li",t).each(function(){e+=n.S(this).outerHeight(!0)}),e},sticky:function(){var t=this;this.S(o).on("scroll",function(){t.update_sticky_positioning()})},update_sticky_positioning:function(){var t="."+this.settings.sticky_class,e=this.S(o),n=this;if(n.settings.sticky_topbar&&n.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var i=this.settings.sticky_topbar.data("stickyoffset")+this.settings.start_offset;n.S(t).hasClass("expanded")||(e.scrollTop()>i?n.S(t).hasClass("fixed")||(n.S(t).addClass("fixed"),n.S("body").addClass("f-topbar-fixed")):e.scrollTop()<=i&&n.S(t).hasClass("fixed")&&(n.S(t).removeClass("fixed"),n.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(o).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function(f,p,g,m){"use strict";Foundation.libs.tab={name:"tab",version:"5.5.3",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(t,e,n){var i=this;(0,this.S)("["+this.attr_name()+"] > .active > a",this.scope).each(function(){i.default_tab_hashes.push(this.hash)}),this.bindings(e,n),this.handle_location_hash_change()},events:function(){var n=this,i=this.S,r=function(t,e){i(e).closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init").is_hover&&!Modernizr.touch||(9!==(t.keyCode||t.which)&&(t.preventDefault(),t.stopPropagation()),n.toggle_active_tab(i(e).parent()))};i(this.scope).off(".tab").on("keydown.fndtn.tab","["+this.attr_name()+"] > * > a",function(t){var e=t.keyCode||t.which;13!==e&&32!==e||r(t,this)}).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(t){r(t,this)}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){i(this).closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init").is_hover&&n.toggle_active_tab(i(this).parent())}),i(p).on("hashchange.fndtn.tab",function(t){t.preventDefault(),n.handle_location_hash_change()})},handle_location_hash_change:function(){var o=this,s=this.S;s("["+this.attr_name()+"]",this.scope).each(function(){var t,e=s(this).data(o.attr_name(!0)+"-init");if(e.deep_linking)if(""!=(t=e.scroll_to_content?o.scope.location.hash:o.scope.location.hash.replace("fndtn-",""))){var n=s(t);if(n.hasClass("content")&&n.parent().hasClass("tabs-content"))o.toggle_active_tab(f("["+o.attr_name()+"] > * > a[href="+t+"]").parent());else{var i=n.closest(".content").attr("id");i!=m&&o.toggle_active_tab(f("["+o.attr_name()+"] > * > a[href=#"+i+"]").parent(),t)}}else for(var r=0;r<o.default_tab_hashes.length;r++)o.toggle_active_tab(f("["+o.attr_name()+"] > * > a[href="+o.default_tab_hashes[r]+"]").parent())})},toggle_active_tab:function(t,e){var n=this,i=n.S,r=t.closest("["+this.attr_name()+"]"),o=t.find("a"),s=t.children("a").first(),a="#"+s.attr("href").split("#")[1],l=i(a),c=t.siblings(),u=r.data(this.attr_name(!0)+"-init"),d=function(t){var e,n=f(this),i=f(this).parents("li").prev().children('[role="tab"]'),r=f(this).parents("li").next().children('[role="tab"]');switch(t.keyCode){case 37:e=i;break;case 39:e=r;break;default:e=!1}e.length&&(n.attr({tabindex:"-1","aria-selected":null}),e.attr({tabindex:"0","aria-selected":!0}).focus()),f('[role="tabpanel"]').attr("aria-hidden","true"),f("#"+f(g.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},h=function(t){(t!==(u.scroll_to_content?n.default_tab_hashes[0]:"fndtn-"+n.default_tab_hashes[0].replace("#",""))||p.location.hash)&&(p.location.hash=t)};s.data("tab-content")&&(l=i(a="#"+s.data("tab-content").split("#")[1])),u.deep_linking&&(u.scroll_to_content?(h(e||a),e==m||e==a?t.parent()[0].scrollIntoView():i(a)[0].scrollIntoView()):h(e!=m?"fndtn-"+e.replace("#",""):"fndtn-"+a.replace("#",""))),t.addClass(u.active_class).triggerHandler("opened"),o.attr({"aria-selected":"true",tabindex:0}),c.removeClass(u.active_class),c.find("a").attr({"aria-selected":"false"}),l.siblings().removeClass(u.active_class).attr({"aria-hidden":"true"}),l.addClass(u.active_class).attr("aria-hidden","false").removeAttr("tabindex"),u.callback(t),l.triggerHandler("toggled",[l]),r.triggerHandler("toggled",[t]),o.off("keydown").on("keydown",d)},data_attr:function(t){return 0<this.namespace.length?this.namespace+"-"+t:t},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(x,t,r){"use strict";Foundation.libs.abide={name:"abide",version:"5.5.3",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t){return r.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value===t.value}}},timer:null,init:function(t,e,n){this.bindings(e,n)},events:function(t){function i(t,e){clearTimeout(n.timer),n.timer=setTimeout(function(){n.validate([t],e)}.bind(t),o.timeout)}var n=this,r=n.S(t).attr("novalidate","novalidate"),o=r.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),r.off(".abide").on("submit.fndtn.abide",function(t){var e=/ajax/i.test(n.S(this).attr(n.attr_name()));return n.validate(n.S(this).find("input, textarea, select").not(":hidden, [data-abide-ignore]").get(),t,e)}).on("validate.fndtn.abide",function(t){"manual"===o.validate_on&&n.validate([t.target],t)}).on("reset",function(t){return n.reset(x(this),t)}).find("input, textarea, select").not(":hidden, [data-abide-ignore]").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(t){var e=this.getAttribute("id"),n=r.find('[data-equalto="'+e+'"]');o.validate_on_blur&&!0===o.validate_on_blur&&i(this,t),
void 0!==n.get(0)&&n.val().length&&i(n.get(0),t),"change"===o.validate_on&&i(this,t)}).on("keydown.fndtn.abide",function(t){var e=this.getAttribute("id"),n=r.find('[data-equalto="'+e+'"]');o.live_validate&&!0===o.live_validate&&9!=t.which&&i(this,t),void 0!==n.get(0)&&n.val().length&&i(n.get(0),t),"tab"===o.validate_on&&9===t.which?i(this,t):"change"===o.validate_on&&i(this,t)}).on("focus",function(t){navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Windows Phone|webOS/i)&&x("html, body").animate({scrollTop:x(t.target).offset().top},100)})},reset:function(t){var e=this;t.removeAttr(e.invalid_attr),x("["+e.invalid_attr+"]",t).removeAttr(e.invalid_attr),x("."+e.settings.error_class,t).not("small").removeClass(e.settings.error_class),x(":input",t).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr(e.invalid_attr)},validate:function(t,e,n){for(var i=this.parse_patterns(t),r=i.length,o=this.S(t[0]).closest("form"),s=/submit/.test(e.type),a=0;a<r;a++)if(!i[a]&&(s||n))return this.settings.focus_on_invalid&&t[a].focus(),o.trigger("invalid.fndtn.abide"),this.S(t[a]).closest("form").attr(this.invalid_attr,""),!1;return(s||n)&&o.trigger("valid.fndtn.abide"),o.removeAttr(this.invalid_attr),!n},parse_patterns:function(t){for(var e=t.length,n=[];e--;)n.push(this.pattern(t[e]));return this.check_validation_and_apply_styles(n)},pattern:function(t){var e=t.getAttribute("type"),n="string"==typeof t.getAttribute("required"),i=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(i)&&0<i.length?[t,this.settings.patterns[i],n]:0<i.length?[t,new RegExp(i),n]:this.settings.patterns.hasOwnProperty(e)?[t,this.settings.patterns[e],n]:[t,i=/.*/,n]},check_validation_and_apply_styles:function(t){var e=t.length,n=[];if(0==e)return n;for(this.S(t[0][0]).closest("[data-"+this.attr_name(!0)+"]").data(this.attr_name(!0)+"-init");e--;){var i,r,o=t[e][0],s=t[e][2],a=o.value.trim(),l=this.S(o).parent(),c=o.getAttribute(this.add_namespace("data-abide-validator")),u="radio"===o.type,d="checkbox"===o.type,h=this.S('label[for="'+o.getAttribute("id")+'"]'),f=!s||0<o.value.length,p=[];if(o.getAttribute(this.add_namespace("data-equalto"))&&(c="equalTo"),i=l.is("label")?l.parent():l,u&&s)p.push(this.valid_radio(o,s));else if(d&&s)p.push(this.valid_checkbox(o,s));else if(c){for(var g=c.split(" "),m=!0,v=!0,y=0;y<g.length;y++)r=this.settings.validators[g[y]].apply(this,[o,s,i]),p.push(r),v=r&&m,m=r;v?(this.S(o).removeAttr(this.invalid_attr),i.removeClass("error"),0<h.length&&this.settings.error_labels&&h.removeClass(this.settings.error_class).removeAttr("role"),x(o).triggerHandler("valid")):(this.S(o).attr(this.invalid_attr,""),i.addClass("error"),0<h.length&&this.settings.error_labels&&h.addClass(this.settings.error_class).attr("role","alert"),x(o).triggerHandler("invalid"))}else if(p.push(!!(t[e][1].test(a)&&f||!s&&o.value.length<1||x(o).attr("disabled"))),(p=[p.every(function(t){return t})])[0])this.S(o).removeAttr(this.invalid_attr),o.setAttribute("aria-invalid","false"),o.removeAttribute("aria-describedby"),i.removeClass(this.settings.error_class),0<h.length&&this.settings.error_labels&&h.removeClass(this.settings.error_class).removeAttr("role"),x(o).triggerHandler("valid");else{this.S(o).attr(this.invalid_attr,""),o.setAttribute("aria-invalid","true");var b=i.find("small."+this.settings.error_class,"span."+this.settings.error_class),_=0<b.length?b[0].id:"";0<_.length&&o.setAttribute("aria-describedby",_),i.addClass(this.settings.error_class),0<h.length&&this.settings.error_labels&&h.addClass(this.settings.error_class).attr("role","alert"),x(o).triggerHandler("invalid")}n=n.concat(p)}return n},valid_checkbox:function(t,e){var n=(t=this.S(t)).is(":checked")||!e||t.get(0).getAttribute("disabled");return n?(t.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class),x(t).triggerHandler("valid")):(t.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),x(t).triggerHandler("invalid")),n},valid_radio:function(t){for(var e=t.getAttribute("name"),n=this.S(t).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+e+"']"),i=n.length,r=!1,o=!1,s=0;s<i;s++)n[s].getAttribute("disabled")?r=o=!0:n[s].checked?r=!0:o&&(r=!1);for(s=0;s<i;s++)r?(this.S(n[s]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class),x(n[s]).triggerHandler("valid")):(this.S(n[s]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),x(n[s]).triggerHandler("invalid"));return r},valid_equal:function(t,e,n){var i=r.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value===t.value;return i?(this.S(t).removeAttr(this.invalid_attr),n.removeClass(this.settings.error_class),0<label.length&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(t).attr(this.invalid_attr,""),n.addClass(this.settings.error_class),0<label.length&&settings.error_labels&&label.addClass(this.settings.error_class)),i},valid_oneof:function(t,e,n,i){t=this.S(t);var r=this.S("["+this.add_namespace("data-oneof")+"]"),o=0<r.filter(":checked").length;if(o?t.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):t.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!i){var s=this;r.each(function(){s.valid_oneof.call(s,this,null,null,!0)})}return o},reflow:function(){var n=this,t=n.S("["+this.attr_name()+"]").attr("novalidate","novalidate");n.S(t).each(function(t,e){n.events(e)})}}}(jQuery,window,window.document),function(d,s){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.3",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,fade_in_duration:150,fade_out_duration:150,show_on:"all",tip_template:function(t,e){return'<span data-selector="'+t+'" id="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(t,e,n){Foundation.inherit(this,"random_str"),this.bindings(e,n)},should_show:function(t){var e=d.extend({},this.settings,this.data_options(t));return"all"===e.show_on||(!(!this.small()||"small"!==e.show_on)||(!(!this.medium()||"medium"!==e.show_on)||!(!this.large()||"large"!==e.show_on)))},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){function r(t,e,n){t.timer||(n?(t.timer=null,s.showTip(e)):t.timer=setTimeout(function(){t.timer=null,s.showTip(e)}.bind(t),s.settings.hover_delay))}function o(t,e){t.timer&&(clearTimeout(t.timer),t.timer=null),s.hide(e)}var s=this,a=s.S;s.create(this.S(t)),d(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var e=a(this),n=d.extend({},s.settings,s.data_options(e));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&a(t.target).is("a"))return!1;if(/mouse/i.test(t.type)&&s.ie_touch(t))return!1;if(e.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),s.hide(e);else{if(n.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;if(!n.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),a(n.tooltip_class+".open").hide(),!0,0<d(".open["+s.attr_name()+"]").length)){var i=a(d(".open["+s.attr_name()+"]")[0]);s.hide(i)}/enter|over/i.test(t.type)?r(this,e):"mouseout"===t.type||"mouseleave"===t.type?o(this,e):r(this,e,!0)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){return(!/mouse/i.test(t.type)||!s.ie_touch(t))&&void(("touch"!=d(this).data("tooltip-open-event-type")||"mouseleave"!=t.type)&&("mouse"==d(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(t.type)?s.convert_to_touch(d(this)):o(this,d(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){o(this,a(this))})},ie_touch:function(){return!1},showTip:function(t){var e=this.getTip(t);return this.should_show(t,e)?this.show(t):void 0},getTip:function(t){var e=this.selector(t),n=d.extend({},this.settings,this.data_options(t)),i=null;return e&&(i=this.S('span[data-selector="'+e+'"]'+n.tooltip_class)),"object"==typeof i&&i},selector:function(t){var e=t.attr(this.attr_name())||t.attr("data-selector");return"string"!=typeof e&&(e=this.random_str(6),t.attr("data-selector",e).attr("aria-describedby",e)),e},create:function(t){var e=this,n=d.extend({},this.settings,this.data_options(t)),i=this.settings.tip_template;"string"==typeof n.tip_template&&s.hasOwnProperty(n.tip_template)&&(i=s[n.tip_template]);var r=d(i(this.selector(t),d("<div></div>").html(t.attr("title")).html())),o=this.inheritable_classes(t);r.addClass(o).appendTo(n.append_to),Modernizr.touch&&(r.append('<span class="tap-to-close">'+n.touch_close_text+"</span>"),r.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){e.hide(t)})),t.removeAttr("title").attr("title","")},reposition:function(t,e,n){var i,r,o,s;e.css("visibility","hidden").show(),i=t.data("width"),o=(r=e.children(".nub")).outerHeight(),r.outerWidth(),e.css(this.small()?{width:"100%"}:{width:i||"auto"}),s=function(t,e,n,i,r){return t.css({top:e||"auto",bottom:i||"auto",left:r||"auto",right:n||"auto"}).end()};var a=t.offset().top,l=t.offset().left,c=t.outerHeight();if(s(e,a+c+10,"auto","auto",l),this.small())s(e,a+c+10,"auto","auto",12.5,d(this.scope).width()),e.addClass("tip-override"),s(r,-o,"auto","auto",l);else{Foundation.rtl&&(r.addClass("rtl"),l=l+t.outerWidth()-e.outerWidth()),s(e,a+c+10,"auto","auto",l),r.attr("style")&&r.removeAttr("style"),e.removeClass("tip-override");var u=e.outerHeight();n&&-1<n.indexOf("tip-top")?(Foundation.rtl&&r.addClass("rtl"),s(e,a-u,"auto","auto",l).removeClass("tip-override")):n&&-1<n.indexOf("tip-left")?(s(e,a+c/2-u/2,"auto","auto",l-e.outerWidth()-o).removeClass("tip-override"),r.removeClass("rtl")):n&&-1<n.indexOf("tip-right")&&(s(e,a+c/2-u/2,"auto","auto",l+t.outerWidth()+o).removeClass("tip-override"),r.removeClass("rtl"))}e.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var e=d.extend({},this.settings,this.data_options(t)),n=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(e.additional_inheritable_classes),i=t.attr("class"),r=i?d.map(i.split(" "),function(t){return-1!==d.inArray(t,n)?t:void 0}).join(" "):"";return d.trim(r)},convert_to_touch:function(t){var e=this,n=e.getTip(t),i=d.extend({},e.settings,e.data_options(t));0===n.find(".tap-to-close").length&&(n.append('<span class="tap-to-close">'+i.touch_close_text+"</span>"),n.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){e.hide(t)})),t.data("tooltip-open-event-type","touch")},show:function(t){var e=this.getTip(t);"touch"==t.data("tooltip-open-event-type")&&this.convert_to_touch(t),this.reposition(t,e,t.attr("class")),t.addClass("open"),e.fadeIn(this.settings.fade_in_duration)},hide:function(t){var e=this.getTip(t);e.fadeOut(this.settings.fade_out_duration,function(){e.find(".tap-to-close").remove(),e.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),t.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(t){d("["+e.attr_name()+"]").eq(t).attr("title",d(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),window.onload=function(){stickyFooter()},window.onresize=function(){stickyFooter()},$(function(){$("body").on("click",".settings-link",function(){return $(".rails-db-settings").toggle(),!1}),$("body").on("click",".column-name input",function(){table_name="Table: "+$("a[table_name]").attr("table_name"),column_name=$(this).prop("name"),0==$(this).prop("checked")?write_column_to_cookie(table_name,column_name):remove_column_from_cookie(table_name,column_name),switch_column_visibility(column_name),toggle_columns()})}),$(function(){$("body").on("click",".remove_fields",function(t){return $(this).closest(".field").remove(),t.preventDefault()}),$("body").on("click",".add_fields",function(t){var e,n;return n=(new Date).getTime(),e=new RegExp($(this).data("id"),"g"),$(this).before($(this).data("fields").replace(e,n)),t.preventDefault()}),$("body").on("click",".search-link",function(){return $("#search_form").toggle(),!1})}),function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);(this||window).CodeMirror=t()}}(function(){"use strict";function c(t,e){if(!(this instanceof c))return new c(t,e);this.options=e=e?Wr(e):{},Wr(ts,e,!1),h(e);var n=e.value;"string"==typeof n&&(n=new ks(n,e.mode,null,e.lineSeparator)),this.doc=n;var i=new c.inputStyles[e.inputStyle](this),r=this.display=new l(t,n,i);d(r.wrapper.CodeMirror=this),u(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),e.autofocus&&!Mo&&r.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Nr,keySeq:null,specialChars:null};var o=this;for(var s in bo&&_o<11&&setTimeout(function(){o.display.input.reset(!0)},20),Re(this),Kr(),_e(this),this.curOp.forceUpdate=!0,Yi(this,n),e.autofocus&&!Mo||o.hasFocus()?setTimeout(qr(vn,this),20):yn(this),es)es.hasOwnProperty(s)&&es[s](this,e[s],ns);x(this),e.finishInit&&e.finishInit(this);for(var a=0;a<ss.length;++a)ss[a](this);we(this),xo&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function l(t,e,n){var i=this;this.input=n,i.scrollbarFiller=Rr("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Rr("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Rr("div",null,"CodeMirror-code"),i.selectionDiv=Rr("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Rr("div",null,"CodeMirror-cursors"),i.measure=Rr("div",null,"CodeMirror-measure"),i.lineMeasure=Rr("div",null,"CodeMirror-measure"),i.lineSpace=Rr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Rr("div",[Rr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Rr("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Rr("div",null,null,"position: absolute; height: "+Os+"px; width: 1px;"),i.gutters=Rr("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Rr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Rr("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),bo&&_o<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),xo||mo&&Mo||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=c.getMode(t.options,t.doc.modeOption),e(t)}function e(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,zt(t,100),t.state.modeGen++,t.curOp&&Oe(t)}function t(t){t.options.lineWrapping?(ta(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Js(t.display.wrapper,"CodeMirror-wrap"),o(t)),i(t),Oe(t),ae(t),setTimeout(function(){y(t)},100)}function f(i){var r=ye(i.display),o=i.options.lineWrapping,s=o&&Math.max(5,i.display.scroller.clientWidth/be(i.display)-3);return function(t){if(wi(i.doc,t))return 0;var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;n++)t.widgets[n].height&&(e+=t.widgets[n].height);return o?e+(Math.ceil(t.text.length/s)||1)*r:e+r}}function i(t){var e=t.doc,n=f(t);e.iter(function(t){var e=n(t);e!=t.height&&tr(t,e)})}function u(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ae(t)}function r(t){d(t),Oe(t),setTimeout(function(){_(t)},20)}function d(t){var e=t.display.gutters,n=t.options.gutters;Ir(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(Rr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&((t.display.lineGutter=o).style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",a(t)}function a(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function p(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=gi(i);){i=(r=e.find(0,!0)).from.line,n+=r.from.ch-r.to.ch}for(i=t;e=mi(i);){var r=e.find(0,!0);n-=i.text.length-r.from.ch,n+=(i=r.to.line).text.length-r.to.ch}return n}function o(t){var n=t.display,e=t.doc;n.maxLine=Qi(e,e.first),n.maxLineLength=p(n.maxLine),n.maxLineChanged=!0,e.iter(function(t){var e=p(t);e>n.maxLineLength&&(n.maxLineLength=e,n.maxLine=t)})}function h(t){var e=Hr(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):-1<e&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function s(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Bt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Gt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function g(t,e,n){this.cm=n;var i=this.vert=Rr("div",[Rr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Rr("div",[Rr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(r),Ns(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),Ns(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&_o<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&Js(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new c.scrollbarModel[n.options.scrollbarStyle](function(t){n.display.wrapper.insertBefore(t,n.display.scrollbarFiller),Ns(t,"mousedown",function(){n.state.focused&&setTimeout(function(){n.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,e){"horizontal"==e?on(n,t):rn(n,t)},n),n.display.scrollbars.addClass&&ta(n.display.wrapper,n.display.scrollbars.addClass)}function y(t,e){e||(e=s(t));var n=t.display.barWidth,i=t.display.barHeight;b(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&D(t),b(t,s(t)),n=t.display.barWidth,i=t.display.barHeight}function b(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function C(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-It(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=nr(e,i),s=nr(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?s=nr(e,ir(Qi(e,o=a))+t.wrapper.clientHeight):Math.min(l,e.lastLine())>=s&&(o=nr(e,ir(Qi(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function _(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=k(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function x(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=w(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Rr("div",[Rr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",a(t),!0}return!1}function w(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function k(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,n){var i=t.display;this.viewport=e,this.visible=C(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Xt(t),this.force=n,this.dims=H(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Gt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Gt(t)+"px",e.scrollbarsClipped=!0)}function L(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return We(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==$e(t))return!1;x(t)&&(We(t),e.dims=H(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Wo&&(o=_i(t.doc,o),s=xi(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Pe(t,o,s),n.viewOffset=ir(Qi(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=$e(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Ur();return 4<l&&(n.lineDiv.style.display="none"),j(t,n.updateLineNumbers,e.dims),4<l&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Ur()!=c&&c.offsetHeight&&c.focus(),Ir(n.cursorDiv),Ir(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,zt(t,400)),!(n.updateLineNumbers=null)}function A(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Xt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Bt(t.display)-Vt(t),n.top)}),e.visible=C(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&L(t,e);i=!1){D(t);var r=s(t);jt(t),y(t,r),N(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function M(t,e){var n=new S(t,e);if(L(t,n)){D(t),A(t,n);var i=s(t);jt(t),y(t,i),N(t,i),n.finish()}}function N(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Gt(t)+"px"}function D(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r,o=e.view[i];if(!o.hidden){if(bo&&_o<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(r<2&&(r=ye(e)),(.001<l||l<-.001)&&(tr(o.line,r),E(o.line),o.rest))for(var c=0;c<o.rest.length;c++)E(o.rest[c])}}}function E(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function H(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[t.options.gutters[s]]=o.clientWidth;return{fixedPos:k(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function j(n,t,e){function i(t){var e=t.nextSibling;return xo&&No&&n.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),e}for(var r=n.display,o=n.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var h=o&&null!=t&&t<=c&&d.lineNumber;d.changes&&(-1<Hr(d.changes,"gutter")&&(h=!1),O(n,d,c,e)),h&&(Ir(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(w(n.options,c)))),a=d.node.nextSibling}else{var f=I(n,d,c,e);s.insertBefore(f,a)}c+=d.size}for(;a;)a=i(a)}function O(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?z(t,e):"gutter"==o?$(t,e,n,i):"class"==o?P(e):"widget"==o&&R(t,e,i)}e.changes=null}function F(t){return t.node==t.text&&(t.node=Rr("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),bo&&_o<8&&(t.node.style.zIndex=2)),t.node}function W(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=F(t);t.background=n.insertBefore(Rr("div",null,e),n.firstChild)}}function q(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):qi(t,e)}function z(t,e){var n=e.text.className,i=q(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,P(e)):n&&(e.text.className=n)}function P(t){W(t),t.line.wrapClass?F(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function $(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=F(e);e.gutterBackground=Rr("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){r=F(e);var s=e.gutter=Rr("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),r.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Rr("div",w(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(Rr("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function R(t,e,n){e.alignable&&(e.alignable=null);for(var i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}B(t,e,n)}function I(t,e,n,i){var r=q(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),P(e),$(t,e,n,i),B(t,e,i),e.node}function B(t,e,n){if(U(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)U(t,e.rest[i],e,n,!1)}function U(t,e,n,i,r){if(e.widgets)for(var o=F(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=Rr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),G(l,c,n,i),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),kr(l,"redraw")}}function G(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function X(t){return qo(t.line,t.ch)}function V(t,e){return zo(t,e)<0?e:t}function K(t,e){return zo(t,e)<0?t:e}function Y(t){t.state.focused||(t.display.input.focus(),vn(t))}function Q(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=o.splitLines(e),l=null;if(s&&1<i.ranges.length)if(Po&&Po.text.join("\n")==e){if(i.ranges.length%Po.text.length==0){l=[];for(var c=0;c<Po.text.length;c++)l.push(o.splitLines(Po.text[c]))}}else a.length==i.ranges.length&&(l=jr(a,function(t){return[t]}));for(c=i.ranges.length-1;0<=c;c--){var u=i.ranges[c],d=u.from(),h=u.to();u.empty()&&(n&&0<n?d=qo(d.line,d.ch-n):t.state.overwrite&&!s?h=qo(h.line,Math.min(Qi(o,h.line).text.length,h.ch+Er(a).length)):Po&&Po.lineWise&&Po.text.join("\n")==e&&(d=h=qo(d.line,0)));var f=t.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};Tn(t.doc,p),kr(t,"inputRead",t,p)}e&&!s&&J(t,e),qn(t),t.curOp.updateInput=f,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Z(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Me(e,function(){Q(e,n,0,null,"paste")}),!0}function J(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;0<=i;i--){var r=n.ranges[i];if(!(100<r.head.ch||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(-1<e.indexOf(o.electricChars.charAt(a))){s=Pn(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qi(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Pn(t,r.head.line,"smart"));s&&kr(t,"electricInput",t,r.head.line)}}}function tt(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:qo(r,0),head:qo(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Nr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var t=Rr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Rr("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xo?t.style.width="1000px":t.setAttribute("wrap","off"),Ao&&(t.style.border="1px solid black"),et(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Nr,this.gracePeriod=!1}function ot(t,e){var n=Jt(t,e.line);if(!n||n.hidden)return null;var i=Qi(t.doc,e.line),r=Yt(n,i,e.line),o=rr(i),s="left";o&&(s=co(o,e.ch)%2?"right":"left");var a=ne(r.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function st(t,e){return e&&(t.bad=!0),t}function at(t,e,n){var i;if(e==t.display.lineDiv){
if(!(i=t.display.lineDiv.childNodes[n]))return st(t.clipPos(qo(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return lt(o,e,n)}}function lt(c,t,e){function n(t,e,n){for(var i=-1;i<(d?d.length:0);i++)for(var r=i<0?u.map:d[i],o=0;o<r.length;o+=3){var s=r[o+2];if(s==t||s==e){var a=er(i<0?c.line:c.rest[i]),l=r[o]+n;return(n<0||s!=t)&&(l=r[o+(n?1:0)]),qo(a,l)}}}var i=c.text.firstChild,r=!1;if(!t||!Vs(i,t))return st(qo(er(c.line),0),!0);if(t==i&&(r=!0,t=i.childNodes[e],e=0,!t)){var o=c.rest?Er(c.rest):c.line;return st(qo(er(o),o.text.length),r)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,e&&(e=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var u=c.measure,d=u.maps,l=n(s,a,e);if(l)return st(l,r);for(var h=a.nextSibling,f=s?s.nodeValue.length-e:0;h;h=h.nextSibling){if(l=n(h,h.firstChild,0))return st(qo(l.line,l.ch-f),r);f+=h.textContent.length}var p=a.previousSibling;for(f=e;p;p=p.previousSibling){if(l=n(p,p.firstChild,-1))return st(qo(l.line,l.ch+f),r);f+=h.textContent.length}}function ct(a,t,e,l,c){function u(e){return function(t){return t.id==e}}function d(t){if(1==t.nodeType){var e=t.getAttribute("cm-text");if(null!=e)return""==e&&(e=t.textContent.replace(/\u200b/g,"")),void(h+=e);var n,i=t.getAttribute("cm-marker");if(i){var r=a.findMarks(qo(l,0),qo(c+1,0),u(+i));return void(r.length&&(n=r[0].find())&&(h+=Zi(a.doc,n.from,n.to).join(p)))}if("false"==t.getAttribute("contenteditable"))return;for(var o=0;o<t.childNodes.length;o++)d(t.childNodes[o]);/^(pre|div|p)$/i.test(t.nodeName)&&(f=!0)}else if(3==t.nodeType){var s=t.nodeValue;if(!s)return;f&&(h+=p,f=!1),h+=s}}for(var h="",f=!1,p=a.doc.lineSeparator();d(t),t!=e;)t=t.nextSibling;return h}function ut(t,e){this.ranges=t,this.primIndex=e}function dt(t,e){this.anchor=t,this.head=e}function ht(t,e){var n=t[e];t.sort(function(t,e){return zo(t.from(),e.from())}),e=Hr(t,n);for(var i=1;i<t.length;i++){var r=t[i],o=t[i-1];if(0<=zo(o.to(),r.from())){var s=K(o.from(),r.from()),a=V(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=e&&--e,t.splice(--i,2,new dt(l?a:s,l?s:a))}}return new ut(t,e)}function ft(t,e){return new ut([new dt(t,e||t)],0)}function pt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function gt(t,e){if(e.line<t.first)return qo(t.first,0);var n=t.first+t.size-1;return e.line>n?qo(n,Qi(t,n).text.length):mt(e,Qi(t,e.line).text.length)}function mt(t,e){var n=t.ch;return null==n||e<n?qo(t.line,e):n<0?qo(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function yt(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=gt(t,e[i]);return n}function bt(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(i){var o=zo(n,r)<0;o!=zo(i,r)<0?(r=n,n=i):o!=zo(n,i)<0&&(n=i)}return new dt(r,n)}return new dt(i||n,n)}function _t(t,e,n,i){Tt(t,new ut([bt(t,t.sel.primary(),e,n)],0),i)}function xt(t,e,n){for(var i=[],r=0;r<t.sel.ranges.length;r++)i[r]=bt(t,t.sel.ranges[r],e[r],null);Tt(t,ht(i,t.sel.primIndex),n)}function wt(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Tt(t,ht(r,t.sel.primIndex),i)}function Ct(t,e,n,i){Tt(t,ft(e,n),i)}function kt(n,t,e){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var e=0;e<t.length;e++)this.ranges[e]=new dt(gt(n,t[e].anchor),gt(n,t[e].head))},origin:e&&e.origin};return Hs(n,"beforeSelectionChange",n,i),n.cm&&Hs(n.cm,"beforeSelectionChange",n.cm,i),i.ranges!=t.ranges?ht(i.ranges,i.ranges.length-1):t}function St(t,e,n){var i=t.history.done,r=Er(i);r&&r.ranges?Lt(t,i[i.length-1]=e,n):Tt(t,e,n)}function Tt(t,e,n){Lt(t,e,n),dr(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Lt(t,e,n){(Ar(t,"beforeSelectionChange")||t.cm&&Ar(t.cm,"beforeSelectionChange"))&&(e=kt(t,e,n)),At(t,Nt(t,e,n&&n.bias||(zo(e.primary().head,t.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!t.cm||qn(t.cm)}function At(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Lr(t.cm)),kr(t,"cursorActivity",t))}function Mt(t){At(t,Nt(t,t.sel,null,!1),Ws)}function Nt(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Et(t,s.anchor,a&&a.anchor,n,i),c=Et(t,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new dt(l,c))}return r?ht(r,e.primIndex):e}function Dt(t,e,n,i,r){var o=Qi(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Hs(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Ht(t,u,-i,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=zo(u,n))&&(i<0?c<0:0<c))return Dt(t,u,e,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Ht(t,d,i,d.line==e.line?o:null)),d?Dt(t,d,e,i,r):null}}return e}function Et(t,e,n,i,r){var o=i||1,s=Dt(t,e,n,o,r)||!r&&Dt(t,e,n,o,!0)||Dt(t,e,n,-o,r)||!r&&Dt(t,e,n,-o,!0);return s||(t.cantEdit=!0,qo(t.first,0))}function Ht(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?gt(t,qo(e.line-1)):null:0<n&&e.ch==(i||Qi(t,e.line)).text.length?e.line<t.first+t.size-1?qo(e.line+1,0):null:new qo(e.line,e.ch+n)}function jt(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ot(t,e){for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(!1!==e||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Ft(t,a.head,r),l||Wt(t,a,o)}}return i}function Ft(t,e,n){var i=fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(Rr("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(Rr("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Wt(r,t,e){function p(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),s.appendChild(Rr("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?m-t:n)+"px; height: "+(i-e)+"px"))}function n(n,l,c){function u(t,e){return he(r,qo(n,t),"div",i,e)}var d,h,i=Qi(o,n),f=i.text.length;return to(rr(i),l||0,null==c?f:c,function(t,e,n){var i,r,o,s=u(t,"left");if(t==e)r=o=(i=s).left;else{if(i=u(e-1,"right"),"rtl"==n){var a=s;s=i,i=a}r=s.left,o=i.right}null==l&&0==t&&(r=g),3<i.top-s.top&&(p(r,s.top,null,s.bottom),r=g,s.bottom<i.top&&p(r,s.bottom,null,i.top)),null==c&&e==f&&(o=m),(!d||s.top<d.top||s.top==d.top&&s.left<d.left)&&(d=s),(!h||i.bottom>h.bottom||i.bottom==h.bottom&&i.right>h.right)&&(h=i),r<g+1&&(r=g),p(r,i.top,o-r,i.bottom)}),{start:d,end:h}}var i=r.display,o=r.doc,s=document.createDocumentFragment(),a=Ut(r.display),g=a.left,m=Math.max(i.sizerWidth,Xt(r)-i.sizer.offsetLeft)-a.right,l=t.from(),c=t.to();if(l.line==c.line)n(l.line,l.ch,c.ch);else{var u=Qi(o,l.line),d=Qi(o,c.line),h=yi(u)==yi(d),f=n(l.line,l.ch,h?u.text.length+1:null).end,v=n(c.line,h?0:null,c.ch).start;h&&(f.top<v.top-2?(p(f.right,f.top,null,f.bottom),p(g,v.top,v.left,v.bottom)):p(f.right,f.top,v.left-f.right,f.bottom)),f.bottom<v.top&&p(g,f.bottom,null,v.top)}e.appendChild(s)}function qt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",0<t.options.cursorBlinkRate?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function zt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,qr(Pt,t))}function Pt(l){var c=l.doc;if(c.frontier<c.first&&(c.frontier=c.first),!(c.frontier>=l.display.viewTo)){var u=+new Date+l.options.workTime,d=ls(c.mode,Rt(l,c.frontier)),h=[];c.iter(c.frontier,Math.min(c.first+c.size,l.display.viewTo+500),function(t){if(c.frontier>=l.display.viewFrom){var e=t.styles,n=t.text.length>l.options.maxHighlightLength,i=ji(l,t,n?ls(c.mode,d):d,!0);t.styles=i.styles;var r=t.styleClasses,o=i.classes;o?t.styleClasses=o:r&&(t.styleClasses=null);for(var s=!e||e.length!=t.styles.length||r!=o&&(!r||!o||r.bgClass!=o.bgClass||r.textClass!=o.textClass),a=0;!s&&a<e.length;++a)s=e[a]!=t.styles[a];s&&h.push(c.frontier),t.stateAfter=n?d:ls(c.mode,d)}else t.text.length<=l.options.maxHighlightLength&&Fi(l,t.text,d),t.stateAfter=c.frontier%5==0?ls(c.mode,d):null;if(++c.frontier,+new Date>u)return zt(l,l.options.workDelay),!0}),h.length&&Me(l,function(){for(var t=0;t<h.length;t++)Fe(l,h[t],"text")})}}function $t(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;s<a;--a){if(a<=o.first)return o.first;var l=Qi(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=Ps(l.text,null,t.options.tabSize);(null==r||c<i)&&(r=a-1,i=c)}return r}function Rt(n,i,t){var r=n.doc,o=n.display;if(!r.mode.startState)return!0;var s=$t(n,i,t),a=s>r.first&&Qi(r,s-1).stateAfter;return a=a?ls(r.mode,a):cs(r.mode),r.iter(s,i,function(t){Fi(n,t.text,a);var e=s==i-1||s%5==0||s>=o.viewFrom&&s<o.viewTo;t.stateAfter=e?ls(r.mode,a):null,++s}),t&&(r.frontier=s),a}function It(t){return t.lineSpace.offsetTop}function Bt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ut(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Br(t.measure,Rr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Gt(t){return Os-t.display.nativeBarWidth}function Xt(t){return t.display.scroller.clientWidth-Gt(t)-t.display.barWidth}function Vt(t){return t.display.scroller.clientHeight-Gt(t)-t.display.barHeight}function Kt(t,e,n){var i=t.options.lineWrapping,r=i&&Xt(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];2<Math.abs(l.bottom-c.bottom)&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Yt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(i=0;i<t.rest.length;i++)if(er(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Qt(t,e){var n=er(e=yi(e)),i=t.display.externalMeasured=new He(t.doc,e,n);i.lineN=n;var r=i.built=qi(t,i);return i.text=r.pre,Br(t.display.lineMeasure,r.pre),i}function Zt(t,e,n,i){return ee(t,te(t,e),n,i)}function Jt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[qe(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=er(e),i=Jt(t,n);i&&!i.text?i=null:i&&i.changes&&(O(t,i,n,H(t)),t.curOp.forceUpdate=!0),i||(i=Qt(t,e));var r=Yt(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ee(t,e,n,i,r){e.before&&(n=-1);var o,s=n+(i||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kt(t,e.view,e.rect),e.hasHeights=!0),(o=ie(t,e,n,i)).bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function ne(t,e,n){for(var i,r,o,s,a=0;a<t.length;a+=3){var l=t[a],c=t[a+1];if(e<l?(r=0,o=1,s="left"):e<c?o=(r=e-l)+1:(a==t.length-3||e==c&&t[a+3]>e)&&(r=(o=c-l)-1,c<=e&&(s="right")),null!=r){if(i=t[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)i=t[2+(a-=3)],s="left";if("right"==n&&r==c-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)i=t[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function ie(t,e,n,i){var r,o=ne(e.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&$r(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&$r(e.line.text.charAt(o.coverStart+l));)++l;if(bo&&_o<9&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(bo&&t.options.lineWrapping){r=(d=Bs(s,a,l).getClientRects()).length?d["right"==i?d.length-1:0]:Bo}else r=Bs(s,a,l).getBoundingClientRect()||Bo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}bo&&_o<11&&(r=re(t.display.measure,r))}else{var d;0<a&&(c=i="right"),r=t.options.lineWrapping&&1<(d=s.getClientRects()).length?d["right"==i?d.length-1:0]:s.getBoundingClientRect()}if(bo&&_o<9&&!a&&(!r||!r.left&&!r.right)){var h=s.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+be(t.display),top:h.top,bottom:h.bottom}:Bo}var f=r.top-e.rect.top,p=r.bottom-e.rect.top,g=(f+p)/2,m=e.view.measure.heights;for(u=0;u<m.length-1&&!(g<m[u]);u++);var v=u?m[u-1]:0,y=m[u],b={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function re(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Jr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function oe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function se(t){t.display.externalMeasure=null,Ir(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)oe(t.display.view[e])}function ae(t){se(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ce(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ue(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Si(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=ir(e);if("local"==i?s+=It(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:ce());var l=a.left+("window"==i?0:le());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function de(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=le(),r-=ce();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function he(t,e,n,i,r){return i||(i=Qi(t.doc,e.line)),ue(t,i,Zt(t,i,e.ch,r),n)}function fe(i,t,r,o,s,a){function l(t,e){var n=ee(i,s,t,e?"right":"left",a);return e?n.left=n.right:n.right=n.left,ue(i,o,n,r)}function e(t,e){var n=c[e],i=n.level%2;return t==eo(n)&&e&&n.level<c[e-1].level?(t=no(n=c[--e])-(n.level%2?0:1),i=!0):t==no(n)&&e<c.length-1&&n.level<c[e+1].level&&(t=eo(n=c[++e])-n.level%2,i=!1),i&&t==n.to&&t>n.from?l(t-1):l(t,i)}o=o||Qi(i.doc,t.line),s||(s=te(i,o));var c=rr(o),n=t.ch;if(!c)return l(n);var u=e(n,co(c,n));return null!=Zs&&(u.other=e(n,Zs)),u}function pe(t,e){var n=0;e=gt(t.doc,e);t.options.lineWrapping||(n=be(t.display)*e.ch);var i=Qi(t.doc,e.line),r=ir(i)+It(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function ge(t,e,n,i){var r=qo(t,e);return r.xRel=i,n&&(r.outside=!0),r}function me(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return ge(i.first,0,!0,-1);var r=nr(i,n),o=i.first+i.size-1;if(o<r)return ge(i.first+i.size-1,Qi(i,o).text.length,!0,1);e<0&&(e=0);for(var s=Qi(i,r);;){var a=ve(t,s,r,e,n),l=mi(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&0<a.xRel))return a;r=er(s=c.to.line)}}function ve(n,i,r,t,e){function o(t){var e=fe(n,qo(r,t),"line",i,c);return a=!0,s>e.bottom?e.left-l:s<e.top?e.left+l:(a=!1,e.left)}var s=e-ir(i),a=!1,l=2*n.display.wrapper.clientWidth,c=te(n,i),u=rr(i),d=i.text.length,h=io(i),f=ro(i),p=o(h),g=a,m=o(f),v=a;if(m<t)return ge(r,f,v,1);for(;;){if(u?f==h||f==ho(i,h,1):f-h<=1){var y=t<p||t-p<=m-t?h:f,b=y==h?g:v,_=t-(y==h?p:m);if(v&&!u&&!/\s/.test(i.text.charAt(y))&&0<_&&y<i.text.length&&1<c.view.measure.heights.length){var x=ee(n,c,y,"right");s<=x.bottom&&s>=x.top&&Math.abs(t-x.right)<_&&(b=!1,y++,_=t-x.right)}for(;$r(i.text.charAt(y));)++y;return ge(r,y,b,_<-1?-1:1<_?1:0)}var w=Math.ceil(d/2),C=h+w;if(u){C=h;for(var k=0;k<w;++k)C=ho(i,C,1)}var S=o(C);t<S?(f=C,m=S,(v=a)&&(m+=1e3),d=w):(h=C,p=S,g=a,d-=w)}}function ye(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==$o){$o=Rr("pre");for(var e=0;e<49;++e)$o.appendChild(document.createTextNode("x")),$o.appendChild(Rr("br"));$o.appendChild(document.createTextNode("x"))}Br(t.measure,$o);var n=$o.offsetHeight/50;return 3<n&&(t.cachedTextHeight=n),Ir(t.measure),n||1}function be(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Rr("span","xxxxxxxxxx"),n=Rr("pre",[e]);Br(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return 2<r&&(t.cachedCharWidth=r),r||10}function _e(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Go},Uo?Uo.ops.push(t.curOp):t.curOp.ownsGroup=Uo={ops:[t.curOp],delayedCallbacks:[]}}function xe(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function we(t){var e=t.curOp.ownsGroup;if(e)try{xe(e)}finally{Uo=null;for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;Ce(e)}}function Ce(t){for(var e=t.ops,n=0;n<e.length;n++)ke(e[n]);for(n=0;n<e.length;n++)Se(e[n]);for(n=0;n<e.length;n++)Te(e[n]);for(n=0;n<e.length;n++)Le(e[n]);for(n=0;n<e.length;n++)Ae(e[n])}function ke(t){var e=t.cm,n=e.display;T(e),t.updateMaxLine&&o(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Se(t){t.updatedDisplay=t.mustUpdate&&L(t.cm,t.update)}function Te(t){var e=t.cm,n=e.display;t.updatedDisplay&&D(e),t.barMeasure=s(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Zt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Gt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Xt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection(t.focus))}function Le(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&on(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==Ur()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.updatedDisplay&&N(e,t.barMeasure),t.selectionChanged&&qt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Y(t.cm)}function Ae(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&A(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,_(e)),t.scrollToPos){var r=jn(e,gt(i,t.scrollToPos.from),gt(i,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Hn(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Hs(o[a],"hide");if(s)for(a=0;a<s.length;++a)s[a].lines.length&&Hs(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Hs(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Me(t,e){if(t.curOp)return e();_e(t);try{return e()}finally{we(t)}}function Ne(t,e){return function(){if(t.curOp)return e.apply(t,arguments);_e(t);try{return e.apply(t,arguments)}finally{we(t)}}}function De(t){return function(){if(this.curOp)return t.apply(this,arguments);_e(this);try{return t.apply(this,arguments)}finally{we(this)}}}function Ee(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);_e(t);try{return e.apply(this,arguments)}finally{we(t)}}}function He(t,e,n){this.line=e,this.rest=bi(e),this.size=this.rest?er(Er(this.rest))-n+1:1,this.node=this.text=null,this.hidden=wi(t,e)}function je(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new He(t.doc,Qi(t.doc,o),o);i=o+s.size,r.push(s)}return r}function Oe(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Wo&&_i(t.doc,e)<r.viewTo&&We(t);else if(n<=r.viewFrom)Wo&&xi(t.doc,n+i)>r.viewFrom?We(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)We(t);else if(e<=r.viewFrom){(o=ze(t,n,n+i,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):We(t)}else if(n>=r.viewTo){var o;(o=ze(t,e,e,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):We(t)}else{var s=ze(t,e,e,-1),a=ze(t,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(je(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):We(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function Fe(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[qe(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Hr(s,n)&&s.push(n)}}}function We(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function qe(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function ze(t,e,n,i){var r,o=qe(t,e),s=t.display.view;if(!Wo||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=0,l=t.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=e){if(0<i){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,n+=r}for(;_i(t.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function Pe(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=je(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=je(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(qe(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(je(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,qe(t,n)))),i.viewTo=n}function $e(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function Re(r){function o(){a.activeTouch&&(i=setTimeout(function(){a.activeTouch=null},1e3),(l=a.activeTouch).end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function s(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return 400<n*n+i*i}var a=r.display;Ns(a.scroller,"mousedown",Ne(r,Xe)),Ns(a.scroller,"dblclick",bo&&_o<11?Ne(r,function(t){if(!Tr(r,t)){var e=Ge(r,t);if(e&&!Ze(r,t)&&!Ue(r.display,t)){Ls(t);var n=r.findWordAt(e);_t(r.doc,n.anchor,n.head)}}}):function(t){Tr(r,t)||Ls(t)}),Oo||Ns(a.scroller,"contextmenu",function(t){bn(r,t)});var i,l={end:0};Ns(a.scroller,"touchstart",function(t){if(!Tr(r,t)&&!n(t)){clearTimeout(i);var e=+new Date;a.activeTouch={start:e,moved:!1,prev:e-l.end<=300?l:null},1==t.touches.length&&(a.activeTouch.left=t.touches[0].pageX,a.activeTouch.top=t.touches[0].pageY)}}),Ns(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),Ns(a.scroller,"touchend",function(t){var e=a.activeTouch;if(e&&!Ue(a,t)&&null!=e.left&&!e.moved&&new Date-e.start<300){var n,i=r.coordsChar(a.activeTouch,"page");n=!e.prev||s(e,e.prev)?new dt(i,i):!e.prev.prev||s(e,e.prev.prev)?r.findWordAt(i):new dt(qo(i.line,0),gt(r.doc,qo(i.line+1,0))),r.setSelection(n.anchor,n.head),r.focus(),Ls(t)}o()}),Ns(a.scroller,"touchcancel",o),Ns(a.scroller,"scroll",function(){a.scroller.clientHeight&&(rn(r,a.scroller.scrollTop),on(r,a.scroller.scrollLeft,!0),Hs(r,"scroll",r))}),Ns(a.scroller,"mousewheel",function(t){sn(r,t)}),Ns(a.scroller,"DOMMouseScroll",function(t){sn(r,t)}),Ns(a.wrapper,"scroll",function(){a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(t){Tr(r,t)||Ms(t)},over:function(t){Tr(r,t)||(en(r,t),Ms(t))},start:function(t){tn(r,t)},drop:Ne(r,Je),leave:function(t){Tr(r,t)||nn(r)}};var t=a.input.getField();Ns(t,"keyup",function(t){pn.call(r,t)}),Ns(t,"keydown",Ne(r,hn)),Ns(t,"keypress",Ne(r,gn)),Ns(t,"focus",qr(vn,r)),Ns(t,"blur",qr(yn,r))}function Ie(t,e,n){if(!e!=!(n&&n!=c.Init)){var i=t.display.dragFunctions,r=e?Ns:Es;r(t.display.scroller,"dragstart",i.start),r(t.display.scroller,"dragenter",i.enter),r(t.display.scroller,"dragover",i.over),r(t.display.scroller,"dragleave",i.leave),r(t.display.scroller,"drop",i.drop)}}function Be(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ue(t,e){for(var n=xr(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Ge(t,e,n,i){var r=t.display;if(!n&&"true"==xr(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=me(t,o,s);if(i&&1==c.xRel&&(l=Qi(t.doc,c.line).text).length==c.ch){var u=Ps(l,l.length,t.options.tabSize)-l.length;c=qo(c.line,Math.max(0,Math.round((o-Ut(t.display).left)/be(t.display))-u))}return c}function Xe(t){var e=this,n=e.display;if(!(Tr(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=t.shiftKey,Ue(n,t))xo||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100));else if(!Ze(e,t)){var i=Ge(e,t);switch(window.focus(),wr(t)){case 1:e.state.selectingText?e.state.selectingText(t):i?Ve(e,t,i):xr(t)==n.scroller&&Ls(t);break;case 2:xo&&(e.state.lastMiddleDown=+new Date),i&&_t(e.doc,i),setTimeout(function(){n.input.focus()},20),Ls(t);break;case 3:Oo?bn(e,t):mn(e)}}}function Ve(t,e,n){bo?setTimeout(qr(Y,t),0):t.curOp.focus=Ur();var i,r=+new Date;Io&&Io.time>r-400&&0==zo(Io.pos,n)?i="triple":Ro&&Ro.time>r-400&&0==zo(Ro.pos,n)?(i="double",Io={time:r,pos:n}):(i="single",Ro={time:r,pos:n});var o,s=t.doc.sel,a=No?e.metaKey:e.ctrlKey;t.options.dragDrop&&na&&!t.isReadOnly()&&"single"==i&&-1<(o=s.contains(n))&&(zo((o=s.ranges[o]).from(),n)<0||0<n.xRel)&&(0<zo(o.to(),n)||n.xRel<0)?Ke(t,e,n,a):Ye(t,e,n,i,a)}function Ke(e,n,i,r){var o=e.display,s=+new Date,a=Ne(e,function(t){xo&&(o.scroller.draggable=!1),e.state.draggingText=!1,Es(document,"mouseup",a),Es(o.scroller,"drop",a),Math.abs(n.clientX-t.clientX)+Math.abs(n.clientY-t.clientY)<10&&(Ls(t),!r&&+new Date-200<s&&_t(e.doc,i),xo||bo&&9==_o?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});xo&&(o.scroller.draggable=!0),(e.state.draggingText=a).copy=No?n.altKey:n.ctrlKey,o.scroller.dragDrop&&o.scroller.dragDrop(),Ns(document,"mouseup",a),Ns(o.scroller,"drop",a)}function Ye(g,t,m,v,e){function o(t){if(0!=zo(w,t))if(w=t,"rect"==v){for(var e=[],n=g.options.tabSize,i=Ps(Qi(y,m.line).text,m.ch,n),r=Ps(Qi(y,t.line).text,t.ch,n),o=Math.min(i,r),s=Math.max(i,r),a=Math.min(m.line,t.line),l=Math.min(g.lastLine(),Math.max(m.line,t.line));a<=l;a++){var c=Qi(y,a).text,u=$s(c,o,n);o==s?e.push(new dt(qo(a,u),qo(a,u))):c.length>u&&e.push(new dt(qo(a,u),qo(a,$s(c,s,n))))}e.length||e.push(new dt(m,m)),Tt(y,ht(x.ranges.slice(0,_).concat(e),_),{origin:"*mouse",scroll:!1}),g.scrollIntoView(t)}else{var d=b,h=d.anchor,f=t;if("single"!=v){if("double"==v)var p=g.findWordAt(t);else p=new dt(qo(t.line,0),gt(y,qo(t.line+1,0)));0<zo(p.anchor,h)?(f=p.head,h=K(d.from(),p.anchor)):(f=p.anchor,h=V(d.to(),p.head))}(e=x.ranges.slice(0))[_]=new dt(gt(y,h),f),Tt(y,ht(e,_),qs)}}function s(t){var e=++u,n=Ge(g,t,!0,"rect"==v);if(n)if(0!=zo(n,w)){g.curOp.focus=Ur(),o(n);var i=C(a,y);(n.line>=i.to||n.line<i.from)&&setTimeout(Ne(g,function(){u==e&&s(t)}),150)}else{var r=t.clientY<c.top?-20:t.clientY>c.bottom?20:0;r&&setTimeout(Ne(g,function(){u==e&&(a.scroller.scrollTop+=r,s(t))}),50)}}function n(t){g.state.selectingText=!1,u=Infinity,Ls(t),a.input.focus(),Es(document,"mousemove",d),Es(document,"mouseup",h),y.history.lastSelOrigin=null}var a=g.display,y=g.doc;Ls(t);var b,_,x=y.sel,i=x.ranges;if(e&&!t.shiftKey?(_=y.sel.contains(m),b=-1<_?i[_]:new dt(m,m)):(b=y.sel.primary(),_=y.sel.primIndex),Do?t.shiftKey&&t.metaKey:t.altKey)v="rect",e||(b=new dt(m,m)),m=Ge(g,t,!0,!0),_=-1;else if("double"==v){var r=g.findWordAt(m);b=g.display.shift||y.extend?bt(y,b,r.anchor,r.head):r}else if("triple"==v){var l=new dt(qo(m.line,0),gt(y,qo(m.line+1,0)));b=g.display.shift||y.extend?bt(y,b,l.anchor,l.head):l}else b=bt(y,b,m);e?-1==_?(_=i.length,Tt(y,ht(i.concat([b]),_),{scroll:!1,origin:"*mouse"})):1<i.length&&i[_].empty()&&"single"==v&&!t.shiftKey?(Tt(y,ht(i.slice(0,_).concat(i.slice(_+1)),0),{scroll:!1,origin:"*mouse"}),x=y.sel):wt(y,_,b,qs):(Tt(y,new ut([b],_=0),qs),x=y.sel);var w=m,c=a.wrapper.getBoundingClientRect(),u=0,d=Ne(g,function(t){wr(t)?s(t):n(t)}),h=Ne(g,n);g.state.selectingText=h,Ns(document,"mousemove",d),Ns(document,"mouseup",h)}function Qe(t,e,n,i){try{var r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ls(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Ar(t,n))return _r(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=nr(t.doc,o),d=t.options.gutters[l];return Hs(t,n,t,u,d,e),_r(e)}}}function Ze(t,e){return Qe(t,e,"gutterClick",!0)}function Je(t){var r=this;if(nn(r),!Tr(r,t)&&!Ue(r.display,t)){Ls(t),bo&&(Xo=+new Date);var o=Ge(r,t,!0),e=t.dataTransfer.files;if(o&&!r.isReadOnly())if(e&&e.length&&window.FileReader&&window.File)for(var s=e.length,a=Array(s),l=0,n=function(t,n){if(!r.options.allowDropFileTypes||-1!=Hr(r.options.allowDropFileTypes,t.type)){var i=new FileReader;i.onload=Ne(r,function(){var t=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),a[n]=t,++l==s){var e={from:o=gt(r.doc,o),to:o,text:r.doc.splitLines(a.join(r.doc.lineSeparator())),origin:"paste"};Tn(r.doc,e),St(r.doc,ft(o,Jo(e)))}}),i.readAsText(t)}},i=0;i<s;++i)n(e[i],i);else{if(r.state.draggingText&&-1<r.doc.sel.contains(o))return r.state.draggingText(t),void setTimeout(function(){r.display.input.focus()},20);try{if(a=t.dataTransfer.getData("Text")){if(r.state.draggingText&&!r.state.draggingText.copy)var c=r.listSelections();if(Lt(r.doc,ft(o,o)),c)for(i=0;i<c.length;++i)En(r.doc,"",c[i].anchor,c[i].head,"drag");r.replaceSelection(a,"around","paste"),r.display.input.focus()}}catch(t){}}}}function tn(t,e){if(bo&&(!t.state.draggingText||+new Date-Xo<100))Ms(e);else if(!Tr(t,e)&&!Ue(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!So)){
var n=Rr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ko&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),ko&&n.parentNode.removeChild(n)}}function en(t,e){var n=Ge(t,e);if(n){var i=document.createDocumentFragment();Ft(t,n,i),t.display.dragCursor||(t.display.dragCursor=Rr("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Br(t.display.dragCursor,i)}}function nn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,mo||M(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),mo&&M(t),zt(t,100))}function on(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,_(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function sn(t,e){var n=Yo(e),i=n.x,r=n.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&No&&xo)t:for(var c=e.target,u=o.view;c!=s;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){t.display.currentWheelTarget=c;break t}if(i&&!mo&&!ko&&null!=Ko)return r&&l&&rn(t,Math.max(0,Math.min(s.scrollTop+r*Ko,s.scrollHeight-s.clientHeight))),on(t,Math.max(0,Math.min(s.scrollLeft+i*Ko,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ls(e),void(o.wheelStartX=null);if(r&&null!=Ko){var h=r*Ko,f=t.doc.scrollTop,p=f+o.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):p=Math.min(t.doc.height,p+h+50),M(t,{top:f,bottom:p})}Vo<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ko=(Ko*Vo+n)/(Vo+1),++Vo)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function an(t,e,n){if("string"==typeof e&&!(e=us[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Fs}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function ln(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=hs(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&hs(e,t.options.extraKeys,n,t)||hs(e,t.options.keyMap,n,t)}function cn(t,e,n,i){var r=t.state.keySeq;if(r){if(fs(e))return"handled";Qo.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=ln(t,e,i);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&kr(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(Ls(n),qt(t)),r&&!o&&/\'$/.test(e)?(Ls(n),!0):!!o}function un(e,t){var n=ps(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return an(e,t,!0)})||cn(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return an(e,t)}):cn(e,n,t,function(t){return an(e,t)}))}function dn(e,t,n){return cn(e,"'"+n+"'",t,function(t){return an(e,t,!0)})}function hn(t){var e=this;if(e.curOp.focus=Ur(),!Tr(e,t)){bo&&_o<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=un(e,t);ko&&(Zo=i?n:null,!i&&88==n&&!oa&&(No?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||fn(e)}}function fn(t){function e(t){18!=t.keyCode&&t.altKey||(Js(n,"CodeMirror-crosshair"),Es(document,"keyup",e),Es(document,"mouseover",e))}var n=t.display.lineDiv;ta(n,"CodeMirror-crosshair"),Ns(document,"keyup",e),Ns(document,"mouseover",e)}function pn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Tr(this,t)}function gn(t){var e=this;if(!(Ue(e.display,t)||Tr(e,t)||t.ctrlKey&&!t.altKey||No&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(ko&&n==Zo)return Zo=null,void Ls(t);if(!ko||t.which&&!(t.which<10)||!un(e,t))dn(e,t,String.fromCharCode(null==i?n:i))||e.display.input.onKeyPress(t)}}function mn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,yn(t))},100)}function vn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Hs(t,"focus",t),t.state.focused=!0,ta(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),xo&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),qt(t))}function yn(t){t.state.delayingBlurEvent||(t.state.focused&&(Hs(t,"blur",t),t.state.focused=!1,Js(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function bn(t,e){Ue(t.display,e)||_n(t,e)||Tr(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function _n(t,e){return!!Ar(t,"gutterContextMenu")&&Qe(t,e,"gutterContextMenu",!1)}function xn(t,e){if(zo(t,e.from)<0)return t;if(zo(t,e.to)<=0)return Jo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Jo(e).ch-e.to.ch),qo(n,i)}function wn(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new dt(xn(r.anchor,e),xn(r.head,e)))}return ht(n,t.sel.primIndex)}function Cn(t,e,n){return t.line==e.line?qo(n.line,t.ch-e.ch+n.ch):qo(n.line+(t.line-e.line),t.ch)}function kn(t,e,n){for(var i=[],r=qo(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Cn(a.from,r,o),c=Cn(Jo(a),r,o);if(r=a.to,o=c,"around"==n){var u=t.sel.ranges[s],d=zo(u.head,u.anchor)<0;i[s]=new dt(d?c:l,d?l:c)}else i[s]=new dt(l,l)}return new ut(i,t.sel.primIndex)}function Sn(r,t,e){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return e&&(n.update=function(t,e,n,i){t&&(this.from=gt(r,t)),e&&(this.to=gt(r,e)),n&&(this.text=n),i!==undefined&&(this.origin=i)}),Hs(r,"beforeChange",r,n),r.cm&&Hs(r.cm,"beforeChange",r.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Tn(t,e,n){if(t.cm){if(!t.cm.curOp)return Ne(t.cm,Tn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Ar(t,"beforeChange")||t.cm&&Ar(t.cm,"beforeChange"))||(e=Sn(t,e,!0))){var i=Fo&&!n&&li(t,e.from,e.to);if(i)for(var r=i.length-1;0<=r;--r)Ln(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text});else Ln(t,e)}}function Ln(t,n){if(1!=n.text.length||""!=n.text[0]||0!=zo(n.from,n.to)){var e=wn(t,n);cr(t,n,e,t.cm?t.cm.curOp.id:NaN),Nn(t,n,e,oi(t,n));var i=[];Ki(t,function(t,e){e||-1!=Hr(i,t.history)||(br(t.history,n),i.push(t.history)),Nn(t,n,null,oi(t,n))})}}function An(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=s.pop()).ranges;){if(hr(i,a),n&&!i.equals(t.sel))return void Tt(t,i,{clearRedo:!1});o=i}var c=[];hr(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var u=Ar(t,"beforeChange")||t.cm&&Ar(t.cm,"beforeChange");for(l=i.changes.length-1;0<=l;--l){var d=i.changes[l];if(d.origin=e,u&&!Sn(t,d,!1))return void(s.length=0);c.push(sr(t,d));var h=l?wn(t,d):Er(s);Nn(t,d,h,ai(t,d)),!l&&t.cm&&t.cm.scrollIntoView({from:d.from,to:Jo(d)});var f=[];Ki(t,function(t,e){e||-1!=Hr(f,t.history)||(br(t.history,d),f.push(t.history)),Nn(t,d,null,ai(t,d))})}}}}function Mn(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(jr(t.sel.ranges,function(t){return new dt(qo(t.anchor.line+e,t.anchor.ch),qo(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Oe(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)Fe(t.cm,i,"gutter")}}function Nn(t,e,n,i){if(t.cm&&!t.cm.curOp)return Ne(t.cm,Nn)(t,e,n,i);if(e.to.line<t.first)Mn(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Mn(t,r),e={from:qo(t.first,0),to:qo(e.to.line+r,e.to.ch),text:[Er(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:qo(o,Qi(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Zi(t,e.from,e.to),n||(n=wn(t,e)),t.cm?Dn(t.cm,e,i):Gi(t,e,i),Lt(t,n,Ws)}}function Dn(t,e,n){var i=t.doc,r=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=er(yi(Qi(i,o.line))),i.iter(l,s.line+1,function(t){if(t==r.maxLine)return a=!0})),-1<i.sel.contains(e.from,e.to)&&Lr(t),Gi(i,e,n,f(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,function(t){var e=p(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),zt(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?Oe(t):o.line!=s.line||1!=e.text.length||Ui(t.doc,e)?Oe(t,o.line,s.line+1,c):Fe(t,o.line,"text");var u=Ar(t,"changes"),d=Ar(t,"change");if(d||u){var h={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};d&&kr(t,"change",t,h),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}function En(t,e,n,i,r){if(i||(i=n),zo(i,n)<0){var o=i;i=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),Tn(t,{from:n,to:i,text:e,origin:r})}function Hn(t,e){if(!Tr(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Lo){var o=Rr("div","\u200b",null,"position: absolute; top: "+(e.top-n.viewOffset-It(t.display))+"px; height: "+(e.bottom-e.top+Gt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function jn(t,e,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,s=fe(t,e),a=n&&n!=e?fe(t,n):s,l=Fn(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(rn(t,l.scrollTop),1<Math.abs(t.doc.scrollTop-c)&&(o=!0)),null!=l.scrollLeft&&(on(t,l.scrollLeft),1<Math.abs(t.doc.scrollLeft-u)&&(o=!0)),!o)break}return s}function On(t,e,n,i,r){var o=Fn(t,e,n,i,r);null!=o.scrollTop&&rn(t,o.scrollTop),null!=o.scrollLeft&&on(t,o.scrollLeft)}function Fn(t,e,n,i,r){var o=t.display,s=ye(t.display);n<0&&(n=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Vt(t),c={};l<r-n&&(r=n+l);var u=t.doc.height+Bt(o),d=n<s,h=u-s<r;if(n<a)c.scrollTop=d?0:n;else if(a+l<r){var f=Math.min(n,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Xt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),m=g<i-e;return m&&(i=e+g),e<10?c.scrollLeft=0:e<p?c.scrollLeft=Math.max(0,e-(m?0:10)):g+p-3<i&&(c.scrollLeft=i+(m?0:10)-g),c}function Wn(t,e,n){null==e&&null==n||zn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function qn(t){zn(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?qo(e.line,e.ch-1):e,i=qo(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function zn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=pe(t,e.from),i=pe(t,e.to),r=Fn(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function Pn(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Rt(t,e):n="prev");var s=t.options.tabSize,a=Qi(o,e),l=Ps(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==Fs||150<c)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?Ps(Qi(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(t.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)h+=s,d+="\t";if(h<c&&(d+=Dr(c-h)),d!=u)return En(o,d,qo(e,0),qo(e,u.length),"+input"),!(a.stateAfter=null);for(f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==e&&p.head.ch<u.length){wt(o,f,new dt(h=qo(e,u.length),h));break}}}function $n(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Qi(t,pt(t,e)):r=er(e),null==r?null:(i(o,r)&&t.cm&&Fe(t.cm,r,n),o)}function Rn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&zo(o.from,Er(i).to)<=0;){var s=i.pop();if(zo(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Me(e,function(){for(var t=i.length-1;0<=t;t--)En(e.doc,"",i[t].from,i[t].to,"+delete");qn(e)})}function In(e,t,n,i,r){function o(){var t=a+n;return!(t<e.first||t>=e.first+e.size)&&(u=Qi(e,a=t))}function s(t){var e=(r?ho:fo)(u,l,n,!0);if(null==e){if(t||!o())return!1;l=r?(n<0?ro:io)(u):n<0?u.text.length:0}else l=e;return!0}var a=t.line,l=t.ch,c=n,u=Qi(e,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,h="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||s(!p);p=!1){var g=u.text.charAt(l)||"\n",m=zr(g,f)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||m||(m="s"),d&&d!=m){n<0&&(n=1,s());break}if(m&&(d=m),0<n&&!s(!p))break}var v=Et(e,qo(a,l),t,c,!0);return zo(t,v)||(v.hitSide=!0),v}function Bn(t,e,n,i){var r,o=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(a-(n<0?1.5:.5)*ye(t.display))}else"line"==i&&(r=0<n?e.bottom+3:e.top-3);for(;;){var l=me(t,s,r);if(!l.outside)break;if(n<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function Un(t,e,i,n){c.defaults[t]=e,i&&(es[t]=n?function(t,e,n){n!=ns&&i(t,e,n)}:i)}function Gn(t){for(var e,n,i,r,o=t.split(/-(?!$)/),s=(t=o[o.length-1],0);s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Xn(t){return"string"==typeof t?ds[t]:t}function Vn(e,n,i,t,r){if(t&&t.shared)return Kn(e,n,i,t,r);if(e.cm&&!e.cm.curOp)return Ne(e.cm,Vn)(e,n,i,t,r);var o=new vs(e,r),s=zo(n,i);if(t&&Wr(t,o,!1),0<s||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Rr("span",[o.replacedWith],"CodeMirror-widget"),t.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),t.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vi(e,n.line,n,i,o)||n.line!=i.line&&vi(e,i.line,n,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Wo=!0}o.addToHistory&&cr(e,{from:n,to:i,origin:"markText"},e.sel,NaN);var a,l=n.line,c=e.cm;if(e.iter(l,i.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&yi(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=n.line&&tr(t,0),ni(t,new Jn(o,l==n.line?n.ch:null,l==i.line?i.ch:null)),++l}),o.collapsed&&e.iter(n.line,i.line+1,function(t){wi(e,t)&&tr(t,0)}),o.clearOnEnter&&Ns(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Fo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ms,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Oe(c,n.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=n.line;u<=i.line;u++)Fe(c,u,"text");o.atomic&&Mt(c.doc),kr(c,"markerAdded",c,o)}return o}function Kn(t,n,i,r,o){(r=Wr(r)).shared=!1;var s=[Vn(t,n,i,r,o)],a=s[0],l=r.widgetNode;return Ki(t,function(t){l&&(r.widgetNode=l.cloneNode(!0)),s.push(Vn(t,gt(t,n),gt(t,i),r,o));for(var e=0;e<t.linked.length;++e)if(t.linked[e].isParent)return;a=Er(s)}),new ys(s,a)}function Yn(t){return t.findMarks(qo(t.first,0),t.clipPos(qo(t.lastLine())),function(t){return t.parent})}function Qn(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(zo(o,s)){var a=Vn(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Zn(t){for(var e=0;e<t.length;e++){var n=t[e],i=[n.primary.doc];Ki(n.primary.doc,function(t){i.push(t)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Hr(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function Jn(t,e,n){this.marker=t,this.from=e,this.to=n}function ti(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function ei(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function ni(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ii(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Jn(s,o.from,a?null:o.to))}}return i}function ri(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Jn(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return i}function oi(t,e){if(e.full)return null;var n=vt(t,e.from.line)&&Qi(t,e.from.line).markedSpans,i=vt(t,e.to.line)&&Qi(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==zo(e.from,e.to),a=ii(n,r,s),l=ri(i,o,s),c=1==e.text.length,u=Er(e.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){if(null==(h=a[d]).to)(f=ti(l,h.marker))?c&&(h.to=null==f.to?null:f.to+u):h.to=r}if(l)for(d=0;d<l.length;++d){var h,f;if(null!=(h=l[d]).to&&(h.to+=u),null==h.from)(f=ti(a,h.marker))||(h.from=u,c&&(a||(a=[])).push(h));else h.from+=u,c&&(a||(a=[])).push(h)}a&&(a=si(a)),l&&l!=a&&(l=si(l));var p=[a];if(!c){var g,m=e.text.length-2;if(0<m&&a)for(d=0;d<a.length;++d)null==a[d].to&&(g||(g=[])).push(new Jn(a[d].marker,null,null));for(d=0;d<m;++d)p.push(g);p.push(l)}return p}function si(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function ai(t,e){var n=gr(t,e),i=oi(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function li(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=Hr(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(zo(c.to,a.from)<0||0<zo(c.from,a.to))){var u=[l,1],d=zo(c.from,a.from),h=zo(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(0<h||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function ci(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function ui(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function di(t){return t.inclusiveLeft?-1:0}function hi(t){return t.inclusiveRight?1:0}function fi(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=zo(i.from,r.from)||di(t)-di(e);if(o)return-o;var s=zo(i.to,r.to)||hi(t)-hi(e);return s||e.id-t.id}function pi(t,e){var n,i=Wo&&t.markedSpans;if(i)for(var r,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||fi(n,r.marker)<0)&&(n=r.marker);return n}function gi(t){return pi(t,!0)}function mi(t){return pi(t,!1)}function vi(t,e,n,i,r){var o=Qi(t,e),s=Wo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=zo(c.from,n)||di(l.marker)-di(r),d=zo(c.to,i)||hi(l.marker)-hi(r);if(!(0<=u&&d<=0||u<=0&&0<=d)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?0<=zo(c.to,n):0<zo(c.to,n))||0<=u&&(l.marker.inclusiveRight&&r.inclusiveLeft?zo(c.from,i)<=0:zo(c.from,i)<0)))return!0}}}function yi(t){for(var e;e=gi(t);)t=e.find(-1,!0).line;return t}function bi(t){for(var e,n;e=mi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function _i(t,e){var n=Qi(t,e),i=yi(n);return n==i?e:er(i)}function xi(t,e){if(e>t.lastLine())return e;var n,i=Qi(t,e);if(!wi(t,i))return e;for(;n=mi(i);)i=n.find(1,!0).line;return er(i)+1}function wi(t,e){var n=Wo&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ci(t,e,i))return!0}}function Ci(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return Ci(t,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ci(t,e,r))return!0}function ki(t,e,n){ir(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Wn(t,null,n)}function Si(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Vs(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Br(e.display.measure,Rr("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Ti(i,t,e,n){var r=new bs(i,e,n),o=i.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),$n(i,t,"widget",function(t){var e=t.widgets||(t.widgets=[]);if(null==r.insertAt?e.push(r):e.splice(Math.min(e.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!wi(i,t)){var n=ir(t)<i.scrollTop;tr(t,t.height+Si(r)),n&&Wn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Li(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ci(t),ui(t,n);var r=i?i(t):1;r!=t.height&&tr(t,r)}function Ai(t){t.parent=null,ci(t)}function Mi(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Ni(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=c.innerMode(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Di(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=c.innerMode(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Ei(t,e,n,i){function r(t){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:t?ls(s.mode,u):u}}var o,s=t.doc,a=s.mode;e=gt(s,e);var l,c=Qi(s,e.line),u=Rt(t,e.line,n),d=new gs(c.text,t.options.tabSize);for(i&&(l=[]);(i||d.pos<e.ch)&&!d.eol();)d.start=d.pos,o=Di(a,d,u),i&&l.push(r(!0));return i?l:r()}function Hi(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,d=new gs(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&Mi(Ni(n,i),o);!d.eol();){if(d.pos>t.options.maxHighlightLength?(a=!1,s&&Fi(t,e,i,d.pos),d.pos=e.length,l=null):l=Mi(Di(n,d,i,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e4),u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e4);r(p,u),c=p}}function ji(t,e,n,i){var o=[t.state.modeGen],r={};Hi(t,e.text,t.doc.mode,n,function(t,e){o.push(t,e)},r,i);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;Hi(t,e.text,a.mode,!0,function(t,e){for(var n=l;c<t;){var i=o[l];t<i&&o.splice(l,1,t,o[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)o.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;n<l;n+=2){var r=o[n+1];o[n+1]=(r?r+" ":"")+"cm-overlay "+e}},r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Oi(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=Rt(t,er(e)),r=ji(t,e,e.text.length>t.options.maxHighlightLength?ls(t.doc.mode,i):i);e.stateAfter=i,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Fi(t,e,n,i){var r=t.doc.mode,o=new gs(e,t.options.tabSize);for(o.start=o.pos=i||0,""==e&&Ni(r,n);!o.eol();)Di(r,o,n),o.start=o.pos}function Wi(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?ws:xs;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function qi(t,e){var n=Rr("span",null,null,xo?"padding-right: .1px":null),i={pre:Rr("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(bo||xo)&&t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;i.pos=0,i.addToken=Pi,Zr(t.display.measure)&&(o=rr(s))&&(i.addToken=Ri(i.addToken,o)),i.map=[],Bi(s,i,Oi(t,s,e!=t.display.externalMeasured&&er(s))),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Xr(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Xr(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qr(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(xo){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Hs(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=Xr(i.pre.className,i.textClass||"")),i}function zi(t){var e=Rr("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Pi(t,e,n,i,r,o,s){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,$i):e,l=t.cm.state.specialChars,c=!1;if(l.test(e)){m=document.createDocumentFragment();for(var u=0;;){l.lastIndex=u;var d=l.exec(e),h=d?d.index-u:e.length-u;if(h){var f=document.createTextNode(a.slice(u,u+h));bo&&_o<9?m.appendChild(Rr("span",[f])):m.appendChild(f),t.map.push(t.pos,t.pos+h,f),t.col+=h,t.pos+=h}if(!d)break;if(u+=h+1,"\t"==d[0]){var p=t.cm.options.tabSize,g=p-t.col%p;(f=m.appendChild(Rr("span",Dr(g),"cm-tab"))).setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=g}else if("\r"==d[0]||"\n"==d[0]){(f=m.appendChild(Rr("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",d[0]),t.col+=1}else{(f=t.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),bo&&_o<9?m.appendChild(Rr("span",[f])):m.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}}else{t.col+=e.length;var m=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,m),bo&&_o<9&&(c=!0),t.pos+=e.length}if(n||i||r||c||s){var v=n||"";i&&(v+=i),r&&(v+=r);var y=Rr("span",[m],v,s);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(m)}}function $i(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"\xa0";return e+=" "}function Ri(d,h){return function(t,e,n,i,r,o,s){n=n?n+" cm-force-border":"cm-force-border";for(var a=t.pos,l=a+e.length;;){for(var c=0;c<h.length;c++){var u=h[c];if(u.to>a&&u.from<=a)break}if(u.to>=l)return d(t,e,n,i,r,o,s);d(t,e.slice(0,u.to-a),n,i,null,o,s),i=null,e=e.slice(u.to-a),a=u.to}}}function Ii(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e}function Bi(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,d,h,f=r.length,p=0,g=(S=1,""),m=0;;){if(m==p){l=c=u=d=a="",h=null,m=Infinity;for(var v,y=[],b=0;b<i.length;++b){var _=i[b],x=_.marker;"bookmark"==x.type&&_.from==p&&x.widgetNode?y.push(x):_.from<=p&&(null==_.to||_.to>p||x.collapsed&&_.to==p&&_.from==p)?(null!=_.to&&_.to!=p&&m>_.to&&(m=_.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&_.from==p&&(u+=" "+x.startStyle),x.endStyle&&_.to==m&&(v||(v=[])).push(x.endStyle,_.to),x.title&&!d&&(d=x.title),x.collapsed&&(!h||fi(h.marker,x)<0)&&(h=_)):_.from>p&&m>_.from&&(m=_.from)}if(v)for(b=0;b<v.length;b+=2)v[b+1]==m&&(c+=" "+v[b]);if(!h||h.from==p)for(b=0;b<y.length;++b)Ii(e,0,y[b]);if(h&&(h.from||0)==p){if(Ii(e,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(f<=p)break;for(var w=Math.min(f,m);;){if(g){var C=p+g.length;if(!h){var k=w<C?g.slice(0,w-p):g;e.addToken(e,k,s?s+l:l,u,p+k.length==m?c:"",d,a)}if(w<=C){g=g.slice(w-p),p=w;break}p=C,u=""}g=r.slice(o,o=n[S++]),s=Wi(n[S++],e.cm.options)}}else for(var S=1;S<n.length;S+=2)e.addToken(e,r.slice(o,o=n[S]),Wi(n[S+1],e.cm.options))}function Ui(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Er(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Gi(t,i,e,r){function o(t){return e?e[t]:null}function n(t,e,n){Li(t,e,n,r),kr(t,"change",t,i)}function s(t,e){for(var n=t,i=[];n<e;++n)i.push(new _s(c[n],o(n),r));return i}var a=i.from,l=i.to,c=i.text,u=Qi(t,a.line),d=Qi(t,l.line),h=Er(c),f=o(c.length-1),p=l.line-a.line;if(i.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Ui(t,i)){var g=s(0,c.length-1);n(d,d.text,f),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(u==d){if(1==c.length)n(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else(g=s(1,c.length-1)).push(new _s(h+u.text.slice(l.ch),f,r)),n(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,g)}else if(1==c.length)n(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),o(0)),t.remove(a.line+1,p);else{n(u,u.text.slice(0,a.ch)+c[0],o(0)),n(d,h+d.text.slice(l.ch),f);g=s(1,c.length-1);1<p&&t.remove(a.line+1,p-1),t.insert(a.line+1,g)}kr(t,"change",t,i)}function Xi(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Vi(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}function Ki(t,s,a){function l(t,e,n){if(t.linked)for(var i=0;i<t.linked.length;++i){var r=t.linked[i];if(r.doc!=e){var o=n&&r.sharedHist;a&&!o||(s(r.doc,o),l(r.doc,t,o))}}}l(t,null,!0)}function Yi(t,e){if(e.cm)throw new Error("This document is already in use.");i((t.doc=e).cm=t),n(t),t.options.lineWrapping||o(t),t.options.mode=e.modeOption,Oe(t)}function Qi(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function Zi(t,n,i){var r=[],o=n.line;return t.iter(n.line,i.line+1,function(t){var e=t.text;o==i.line&&(e=e.slice(0,i.ch)),o==n.line&&(e=e.slice(n.ch)),r.push(e),++o}),r}function Ji(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function tr(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function er(t){if(null==t.parent)return null;for(var e=t.parent,n=Hr(e.lines,t),i=e.parent;i;i=(e=i).parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function nr(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(i=0;i<t.lines.length;++i){var s=t.lines[i].height;if(e<s)break;e-=s}return n+i}function ir(t){for(var e=0,n=(t=yi(t)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;e+=s.height}return e}function rr(t){var e=t.order;return null==e&&(e=t.order=la(t.text)),e}function or(t){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function sr(t,e){var n={from:X(e.from),to:Jo(e),text:Zi(t,e.from,e.to)};return fr(t,n,e.from.line,e.to.line+1),Ki(t,function(t){fr(t,n,e.from.line,e.to.line+1)},!0),n}function ar(t){for(;t.length;){if(!Er(t).ranges)break;t.pop()}}function lr(t,e){return e?(ar(t.done),
Er(t.done)):t.done.length&&!Er(t.done).ranges?Er(t.done):1<t.done.length&&!t.done[t.done.length-2].ranges?(t.done.pop(),Er(t.done)):void 0}function cr(t,e,n,i){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=lr(r,r.lastOp==i))){var a=Er(o.changes);0==zo(e.from,e.to)&&0==zo(e.from,a.to)?a.to=Jo(e):o.changes.push(sr(t,e))}else{var l=Er(r.done);for(l&&l.ranges||hr(t.sel,r.done),o={changes:[sr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,a||Hs(t,"historyAdded")}function ur(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function dr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||ur(t,o,Er(r.done),e))?r.done[r.done.length-1]=e:hr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&ar(r.undone)}function hr(t,e){var n=Er(e);n&&n.ranges&&n.equals(t)||e.push(t)}function fr(e,n,t,i){var r=n["spans_"+e.id],o=0;e.iter(Math.max(e.first,t),Math.min(e.first+e.size,i),function(t){t.markedSpans&&((r||(r=n["spans_"+e.id]={}))[o]=t.markedSpans),++o})}function pr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function gr(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(pr(n[i]));return r}function mr(t,e,n){for(var i=0,r=[];i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?ut.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&-1<Hr(e,Number(c[1]))&&(Er(a)[d]=u[d],delete u[d])}}}return r}function vr(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function yr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)vr(o.ranges[a].anchor,e,n,i),vr(o.ranges[a].head,e,n,i)}else{for(a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=qo(l.from.line+i,l.from.ch),l.to=qo(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function br(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;yr(t.done,n,i,r),yr(t.undone,n,i,r)}function _r(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function xr(t){return t.target||t.srcElement}function wr(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),No&&t.ctrlKey&&1==e&&(e=3),e}function Cr(t,e,n){var i=t._handlers&&t._handlers[e];return n?i&&0<i.length?i.slice():Ds:i||Ds}function kr(t,e){function n(t){return function(){t.apply(null,o)}}var i=Cr(t,e,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);Uo?r=Uo.delayedCallbacks:js?r=js:(r=js=[],setTimeout(Sr,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function Sr(){var t=js;js=null;for(var e=0;e<t.length;++e)t[e]()}function Tr(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Hs(t,n||e.type,t,e),_r(e)||e.codemirrorIgnore}function Lr(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==Hr(n,e[i])&&n.push(e[i])}function Ar(t,e){return 0<Cr(t,e).length}function Mr(t){t.prototype.on=function(t,e){Ns(this,t,e)},t.prototype.off=function(t,e){Es(this,t,e)}}function Nr(){this.id=null}function Dr(t){for(;Rs.length<=t;)Rs.push(Er(Rs)+" ");return Rs[t]}function Er(t){return t[t.length-1]}function Hr(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function jr(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Or(){}function Fr(t,e){var n;return Object.create?n=Object.create(t):(Or.prototype=t,n=new Or),e&&Wr(e,n),n}function Wr(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function qr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function zr(t,e){return e?!!(-1<e.source.indexOf("\\w")&&Gs(t))||e.test(t):Gs(t)}function Pr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function $r(t){return 768<=t.charCodeAt(0)&&Xs.test(t)}function Rr(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function Ir(t){for(var e=t.childNodes.length;0<e;--e)t.removeChild(t.firstChild);return t}function Br(t,e){return Ir(t).appendChild(e)}function Ur(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Gr(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Xr(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!Gr(n[i]).test(e)&&(e+=" "+n[i]);return e}function Vr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&t(i)}}function Kr(){ea||(Yr(),ea=!0)}function Yr(){var t;Ns(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Vr(Be)},100))}),Ns(window,"blur",function(){Vr(yn)})}function Qr(t){if(null==Ks){var e=Rr("span","\u200b");Br(t,Rr("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ks=e.offsetWidth<=1&&2<e.offsetHeight&&!(bo&&_o<8))}var n=Ks?Rr("span","\u200b"):Rr("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Zr(t){if(null!=Ys)return Ys;var e=Br(t,document.createTextNode("A\u062eA")),n=Bs(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Bs(e,1,2).getBoundingClientRect();return Ys=i.right-n.right<3}function Jr(t){if(null!=sa)return sa;var e=Br(t,Rr("span","x")),n=e.getBoundingClientRect(),i=Bs(e,0,1).getBoundingClientRect();return sa=1<Math.abs(n.left-i.left)}function to(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function eo(t){return t.level%2?t.to:t.from}function no(t){return t.level%2?t.from:t.to}function io(t){var e=rr(t);return e?eo(e[0]):0}function ro(t){var e=rr(t);return e?no(Er(e)):t.text.length}function oo(t,e){var n=Qi(t.doc,e),i=yi(n);i!=n&&(e=er(i));var r=rr(i),o=r?r[0].level%2?ro(i):io(i):0;return qo(e,o)}function so(t,e){for(var n,i=Qi(t.doc,e);n=mi(i);)i=n.find(1,!0).line,e=null;var r=rr(i),o=r?r[0].level%2?io(i):ro(i):i.text.length;return qo(null==e?er(i):e,o)}function ao(t,e){var n=oo(t,e.line),i=Qi(t.doc,n.line),r=rr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return qo(n.line,s?0:o)}return n}function lo(t,e,n){var i=t[0].level;return e==i||n!=i&&e<n}function co(t,e){Zs=null;for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return i;if(r.from==e||r.to==e){if(null!=n)return lo(t,r.level,t[n].level)?(r.from!=r.to&&(Zs=n),i):(r.from!=r.to&&(Zs=i),n);n=i}}return n}function uo(t,e,n,i){if(!i)return e+n;for(;0<(e+=n)&&$r(t.text.charAt(e)););return e}function ho(t,e,n,i){var r=rr(t);if(!r)return fo(t,e,n,i);for(var o=co(r,e),s=r[o],a=uo(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return co(r,a)==o?a:0<n==(s=r[o+=n]).level%2?s.to:s.from;if(!(s=r[o+=n]))return null;a=0<n==s.level%2?uo(t,s.to,-1,i):uo(t,s.from,1,i)}}function fo(t,e,n,i){var r=e+n;if(i)for(;0<r&&$r(t.text.charAt(r));)r+=n;return r<0||r>t.text.length?null:r}var po=navigator.userAgent,go=navigator.platform,mo=/gecko\/\d/i.test(po),vo=/MSIE \d/.test(po),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=vo||yo,_o=bo&&(vo?document.documentMode||6:yo[1]),xo=/WebKit\//.test(po),wo=xo&&/Qt\/\d+\.\d+/.test(po),Co=/Chrome\//.test(po),ko=/Opera\//.test(po),So=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Lo=/PhantomJS/.test(po),Ao=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Mo=Ao||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),No=Ao||/Mac/.test(go),Do=/\bCrOS\b/.test(po),Eo=/win/i.test(go),Ho=ko&&po.match(/Version\/(\d*\.\d*)/);Ho&&(Ho=Number(Ho[1])),Ho&&15<=Ho&&(xo=!(ko=!1));var jo=No&&(wo||ko&&(null==Ho||Ho<12.11)),Oo=mo||bo&&9<=_o,Fo=!1,Wo=!1;g.prototype=Wr({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<t.clientHeight&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=No&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Nr,this.disableVert=new Nr},enableZeroWidthBar:function(e,n){function i(){var t=e.getBoundingClientRect();document.elementFromPoint(t.left+1,t.bottom-1)!=e?e.style.pointerEvents="none":n.set(1e3,i)}e.style.pointerEvents="auto",n.set(1e3,i)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),m.prototype=Wr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),c.scrollbarModel={"native":g,"null":m},S.prototype.signal=function(t,e){Ar(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Hs.apply(null,this.events[t])};var qo=c.Pos=function(t,e){if(!(this instanceof qo))return new qo(t,e);this.line=t,this.ch=e},zo=c.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Po=null;nt.prototype=Wr({init:function(e){function t(t){if(!Tr(i,t)){if(i.somethingSelected())Po={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Po.text.join("\n"),Is(o));else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);Po={lineWise:!0,text:e.text},"cut"==t.type?i.setSelections(e.ranges,null,Ws):(n.prevInput="",o.value=e.text.join("\n"),Is(o))}"cut"==t.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=it(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Ao&&(o.style.width="0px"),Ns(o,"input",function(){bo&&9<=_o&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Ns(o,"paste",function(t){Tr(i,t)||Z(t,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Ns(o,"cut",t),Ns(o,"copy",t),Ns(e.scroller,"paste",function(t){Ue(e,t)||Tr(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Ns(e.lineSpace,"selectstart",function(t){Ue(e,t)||Ls(t)}),Ns(o,"compositionstart",function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Ns(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,i=Ot(t);if(t.options.moveInputWithCursor){var r=fe(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(t){var e=this.cm.display;Br(e.cursorDiv,t.cursors),Br(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary(),s=(e=oa&&(100<o.to().line-o.from().line||1e3<(n=i.getSelection()).length))?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Is(this.textarea),bo&&9<=_o&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",bo&&9<=_o&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mo||Ur()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ra(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=e.value;if(i==n&&!t.somethingSelected())return!1;if(bo&&9<=_o&&this.hasSelection===i||No&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);o<s&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return Me(t,function(){Q(t,i.slice(o),n.length-o,null,a.composing?"*compose":null),1e3<i.length||-1<i.indexOf("\n")?e.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&9<=_o&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function n(){if(null!=s.selectionStart){var t=r.somethingSelected(),e="\u200b"+(t?s.value:"");s.value="\u21da",s.value=e,i.prevInput=t?"":"\u200b",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function e(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=u,s.style.cssText=c,bo&&_o<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!bo||bo&&_o<9)&&n();var t=0,e=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&0<s.selectionEnd&&"\u200b"==i.prevInput?Ne(r,us.selectAll)(r):t++<10?o.detectingSelectAll=setTimeout(e,500):o.input.reset()};o.detectingSelectAll=setTimeout(e,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Ge(r,t),l=o.scroller.scrollTop;if(a&&!ko){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&Ne(r,Tt)(r.doc,ft(a),Ws);var c=s.style.cssText,u=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var d=i.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xo)var h=window.scrollY;if(o.input.focus(),xo&&window.scrollTo(null,h),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),bo&&9<=_o&&n(),Oo){Ms(t);var f=function(){Es(window,"mouseup",f),setTimeout(e,20)};Ns(window,"mouseup",f)}else setTimeout(e,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Or,needsContentAttribute:!1},nt.prototype),rt.prototype=Wr({init:function(t){function e(t){if(!Tr(o,t)){if(o.somethingSelected())Po={lineWise:!1,text:o.getSelections()},"cut"==t.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var e=tt(o);Po={lineWise:!0,text:e.text},"cut"==t.type&&o.operation(function(){o.setSelections(e.ranges,0,Ws),o.replaceSelection("",null,"cut")})}if(t.clipboardData&&!Ao)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Po.text.join("\n"));else{var n=it(),i=n.firstChild;o.display.lineSpace.insertBefore(n,o.display.lineSpace.firstChild),i.value=Po.text.join("\n");var r=document.activeElement;Is(i),setTimeout(function(){o.display.lineSpace.removeChild(n),r.focus()},50)}}}var r=this,o=r.cm,n=r.div=t.lineDiv;et(n),Ns(n,"paste",function(t){Tr(o,t)||Z(t,o)}),Ns(n,"compositionstart",function(t){var e=t.data;if(r.composing={sel:o.doc.sel,data:e,startData:e},e){var n=o.doc.sel.primary(),i=o.getLine(n.head.line).indexOf(e,Math.max(0,n.head.ch-e.length));-1<i&&i<=n.head.ch&&(r.composing.sel=ft(qo(n.head.line,i),qo(n.head.line,i+e.length)))}}),Ns(n,"compositionupdate",function(t){r.composing.data=t.data}),Ns(n,"compositionend",function(t){var e=r.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||r.applyComposition(e),r.composing==e&&(r.composing=null)},50))}),Ns(n,"touchstart",function(){r.forceCompositionEnd()}),Ns(n,"input",function(){r.composing||!o.isReadOnly()&&r.pollContent()||Me(r.cm,function(){Oe(o)})}),Ns(n,"copy",e),Ns(n,"cut",e)},prepareSelection:function(){var t=Ot(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=at(this.cm,t.anchorNode,t.anchorOffset),i=at(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!i||i.bad||0!=zo(K(n,i),e.from())||0!=zo(V(n,i),e.to())){var r=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(r||o){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Bs(r.node,r.offset,o.offset,o.node)}catch(d){}u&&(!mo&&this.cm.state.focused?(t.collapse(r.node,r.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&&null==t.anchorNode?t.addRange(a):mo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Br(this.cm.display.cursorDiv,t.cursors),Br(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Vs(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Me(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=at(e,t.anchorNode,t.anchorOffset),i=at(e,t.focusNode,t.focusOffset);n&&i&&Me(e,function(){Tt(e.doc,ft(n,i),Ws),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t,e=this.cm,n=e.display,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(r.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(r.line==n.viewFrom||0==(t=qe(e,r.line)))var s=er(n.view[0].line),a=n.view[0].node;else s=er(n.view[t].line),a=n.view[t-1].node.nextSibling;var l=qe(e,o.line);if(l==n.view.length-1)var c=n.viewTo-1,u=n.lineDiv.lastChild;else c=er(n.view[l+1].line)-1,u=n.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ct(e,a,u,s,c)),h=Zi(e.doc,qo(s,0),qo(c,Qi(e.doc,c).text.length));1<d.length&&1<h.length;)if(Er(d)==Er(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),s++}for(var f=0,p=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=Er(d),b=Er(h),_=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));p<_&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;d[d.length-1]=y.slice(0,y.length-p),d[0]=d[0].slice(f);var x=qo(s,f),w=qo(c,h.length?Er(h).length-p:0);return 1<d.length||d[0]||zo(x,w)?(En(e.doc,d,x,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Ne(this.cm,Oe)(this.cm):t.data&&t.data!=t.startData&&Ne(this.cm,Q)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Ne(this.cm,Q)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Or,resetPosition:Or,needsContentAttribute:!0},rt.prototype),c.inputStyles={textarea:nt,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=zo(n.anchor,i.anchor)||0!=zo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new dt(X(this.ranges[e].anchor),X(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(0<=zo(e,i.from())&&zo(t,i.to())<=0)return n}return-1}},dt.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return V(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var $o,Ro,Io,Bo={left:0,right:0,top:0,bottom:0},Uo=null,Go=0,Xo=0,Vo=0,Ko=null;bo?Ko=-.53:mo?Ko=15:Co?Ko=-.7:So&&(Ko=-1/3);var Yo=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};c.wheelEventPixels=function(t){var e=Yo(t);return e.x*=Ko,e.y*=Ko,e};var Qo=new Nr,Zo=null,Jo=c.changeEnd=function(t){return t.text?qo(t.from.line+t.text.length-1,Er(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};c.prototype={constructor:c,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,i=n[t];n[t]==e&&"mode"!=t||(n[t]=e,es.hasOwnProperty(t)&&Ne(this,es[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Xn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:De(function(t,e){var n=t.token?t:c.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:e&&e.opaque}),this.state.modeGen++,Oe(this)}),removeOverlay:De(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void Oe(this)}}),indentLine:De(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Pn(this,t,e,n)}),indentSelection:De(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Pn(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&qn(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Pn(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&0<c[i].from().ch&&wt(this.doc,i,new dt(o,c[i].to()),Ws)}}}),getTokenAt:function(t,e){return Ei(this,t,e)},getLineTokens:function(t,e){return Ei(this,qo(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,n=Oi(this,Qi(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(t){var e=this.doc.mode;return e.innerMode?c.innerMode(e,this.getTokenAt(t).state).mode:e},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!as.hasOwnProperty(e))return n;var i=as[e],r=this.getModeAt(t);if("string"==typeof r[e])i[r[e]]&&n.push(i[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=i[r[e][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==Hr(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(t,e){var n=this.doc;return Rt(this,(t=pt(n,null==t?n.first+n.size-1:t))+1,e)},cursorCoords:function(t,e){var n=this.doc.sel.primary();return fe(this,null==t?n.head:"object"==typeof t?gt(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return he(this,gt(this.doc,t),e||"page")},coordsChar:function(t,e){return me(this,(t=de(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=de(this,{top:t,left:0},e||"page").top,nr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,i=!1;if("number"==typeof t){var r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:r<t&&(t=r,i=!0),n=Qi(this.doc,t)}else n=t;return ue(this,n,{top:0,left:0},e||"page").top+(i?this.doc.height-ir(n):0)},defaultTextHeight:function(){return ye(this.display)},defaultCharWidth:function(){return be(this.display)},setGutterMarker:De(function(t,n,i){return $n(this.doc,t,"gutter",function(t){var e=t.gutterMarkers||(t.gutterMarkers={});return!(e[n]=i)&&Pr(e)&&(t.gutterMarkers=null),!0})}),clearGutter:De(function(e){var n=this,t=n.doc,i=t.first;t.iter(function(t){t.gutterMarkers&&t.gutterMarkers[e]&&(t.gutterMarkers[e]=null,Fe(n,i,"gutter"),Pr(t.gutterMarkers)&&(t.gutterMarkers=null)),++i})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(!(t=Qi(this.doc,t)))return null}else{if(null==(e=er(t)))return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display,s=(t=fe(this,gt(this.doc,t))).bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&On(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:De(hn),triggerOnKeyPress:De(gn),triggerOnKeyUp:pn,execCommand:function(t){if(us.hasOwnProperty(t))return us[t].call(null,this)},triggerElectric:De(function(t){J(this,t)}),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=0,s=gt(this.doc,t);o<e&&!(s=In(this.doc,s,r,n,i)).hitSide;++o);return s},moveH:De(function(e,n){var i=this;i.extendSelectionsBy(function(t){return i.display.shift||i.doc.extend||t.empty()?In(i.doc,t.head,e,n,i.options.rtlMoveVisually):e<0?t.from():t.to()},zs)}),deleteH:De(function(n,i){var t=this.doc.sel,r=this.doc;t.somethingSelected()?r.replaceSelection("",null,"+delete"):Rn(this,function(t){var e=In(r,t.head,n,i,!1);return n<0?{from:e,to:t.head}:{from:t.head,to:e}})}),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=0,a=gt(this.doc,t);s<e;++s){var l=fe(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Bn(this,l,r,n)).hitSide)break}return a},moveV:De(function(i,r){var o=this,s=this.doc,a=[],l=!o.display.shift&&!s.extend&&s.sel.somethingSelected();if(s.extendSelectionsBy(function(t){if(l)return i<0?t.from():t.to();var e=fe(o,t.head,"div");null!=t.goalColumn&&(e.left=t.goalColumn),a.push(e.left);var n=Bn(o,e,i,r);return"page"==r&&t==s.sel.primary()&&Wn(o,null,he(o,n,"div").top-e.top),n},zs),a.length)for(var t=0;t<s.sel.ranges.length;t++)s.sel.ranges[t].goalColumn=a[t]}),findWordAt:function(t){var e=Qi(this.doc,t.line).text,n=t.ch,i=t.ch;if(e){var r=this.getHelper(t,"wordChars");(t.xRel<0||i==e.length)&&n?--n:++i;for(var o=e.charAt(n),s=zr(o,r)?function(t){return zr(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!zr(t)};0<n&&s(e.charAt(n-1));)--n;for(;i<e.length&&s(e.charAt(i));)++i}return new dt(qo(t.line,n),qo(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ta(this.display.cursorDiv,"CodeMirror-overwrite"):Js(this.display.cursorDiv,"CodeMirror-overwrite"),Hs(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ur()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:De(function(t,e){null==t&&null==e||zn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Gt(this)-this.display.barHeight,width:t.scrollWidth-Gt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:Xt(this)}},scrollIntoView:De(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:qo(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)zn(this),this.curOp.scrollToPos=t;else{var n=Fn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:De(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var i=this;null!=t&&(i.display.wrapper.style.width=n(t)),null!=e&&(i.display.wrapper.style.height=n(e)),i.options.lineWrapping&&se(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(t){
if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Fe(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Hs(i,"refresh",this)}),operation:function(t){return Me(this,t)},refresh:De(function(){var t=this.display.cachedTextHeight;Oe(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),a(this),(null==t||.5<Math.abs(t-ye(this.display)))&&i(this),Hs(this,"refresh",this)}),swapDoc:De(function(t){var e=this.doc;return e.cm=null,Yi(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,kr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mr(c);var ts=c.defaults={},es=c.optionHandlers={},ns=c.Init={toString:function(){return"CodeMirror.Init"}};Un("value","",function(t,e){t.setValue(e)},!0),Un("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Un("indentUnit",2,n,!0),Un("indentWithTabs",!1),Un("smartIndent",!0),Un("tabSize",4,function(t){e(t),ae(t),Oe(t)},!0),Un("lineSeparator",null,function(t,i){if(t.doc.lineSep=i){var r=[],o=t.doc.first;t.doc.iter(function(t){for(var e=0;;){var n=t.text.indexOf(i,e);if(-1==n)break;e=n+i.length,r.push(qo(o,n))}o++});for(var e=r.length-1;0<=e;e--)En(t.doc,i,r[e],qo(r[e].line,r[e].ch+i.length))}}),Un("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=c.Init&&t.refresh()}),Un("specialCharPlaceholder",zi,function(t){t.refresh()},!0),Un("electricChars",!0),Un("inputStyle",Mo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Un("rtlMoveVisually",!Eo),Un("wholeLineUpdateBefore",!0),Un("theme","default",function(t){u(t),r(t)},!0),Un("keyMap","default",function(t,e,n){var i=Xn(e),r=n!=c.Init&&Xn(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)}),Un("extraKeys",null),Un("lineWrapping",!1,t,!0),Un("gutters",[],function(t){h(t.options),r(t)},!0),Un("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?k(t.display)+"px":"0",t.refresh()},!0),Un("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Un("scrollbarStyle","native",function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Un("lineNumbers",!1,function(t){h(t.options),r(t)},!0),Un("firstLineNumber",1,r,!0),Un("lineNumberFormatter",function(t){return t},r,!0),Un("showCursorWhenSelecting",!1,jt,!0),Un("resetSelectionOnContextMenu",!0),Un("lineWiseCopyCut",!0),Un("readOnly",!1,function(t,e){"nocursor"==e?(yn(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Un("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Un("dragDrop",!0,Ie),Un("allowDropFileTypes",null),Un("cursorBlinkRate",530),Un("cursorScrollMargin",0),Un("cursorHeight",1,jt,!0),Un("singleCursorHeightPerLine",!0,jt,!0),Un("workTime",100),Un("workDelay",100),Un("flattenSpans",!0,e,!0),Un("addModeClass",!1,e,!0),Un("pollInterval",100),Un("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Un("historyEventDelay",1250),Un("viewportMargin",10,function(t){t.refresh()},!0),Un("maxHighlightLength",1e4,e,!0),Un("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Un("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Un("autofocus",null);var is=c.modes={},rs=c.mimeModes={};c.defineMode=function(t,e){c.defaults.mode||"null"==t||(c.defaults.mode=t),2<arguments.length&&(e.dependencies=Array.prototype.slice.call(arguments,2)),is[t]=e},c.defineMIME=function(t,e){rs[t]=e},c.resolveMode=function(t){if("string"==typeof t&&rs.hasOwnProperty(t))t=rs[t];else if(t&&"string"==typeof t.name&&rs.hasOwnProperty(t.name)){var e=rs[t.name];"string"==typeof e&&(e={name:e}),(t=Fr(e,t)).name=e.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return c.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},c.getMode=function(t,e){e=c.resolveMode(e);var n=is[e.name];if(!n)return c.getMode(t,"text/plain");var i=n(t,e);if(os.hasOwnProperty(e.name)){var r=os[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)i[o]=e.modeProps[o];return i},c.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),c.defineMIME("text/plain","null");var os=c.modeExtensions={};c.extendMode=function(t,e){Wr(e,os.hasOwnProperty(t)?os[t]:os[t]={})},c.defineExtension=function(t,e){c.prototype[t]=e},c.defineDocExtension=function(t,e){ks.prototype[t]=e},c.defineOption=Un;var ss=[];c.defineInitHook=function(t){ss.push(t)};var as=c.helpers={};c.registerHelper=function(t,e,n){as.hasOwnProperty(t)||(as[t]=c[t]={_global:[]}),as[t][e]=n},c.registerGlobalHelper=function(t,e,n,i){c.registerHelper(t,e,i),as[t]._global.push({pred:n,val:i})};var ls=c.copyState=function(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},cs=c.startState=function(t,e,n){return!t.startState||t.startState(e,n)};c.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var us=c.commands={selectAll:function(t){t.setSelection(qo(t.firstLine(),0),qo(t.lastLine()),Ws)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Ws)},killLine:function(n){Rn(n,function(t){if(t.empty()){var e=Qi(n.doc,t.head.line).text.length;return t.head.ch==e&&t.head.line<n.lastLine()?{from:t.head,to:qo(t.head.line+1,0)}:{from:t.head,to:qo(t.head.line,e)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Rn(e,function(t){return{from:qo(t.from().line,0),to:gt(e.doc,qo(t.to().line+1,0))}})},delLineLeft:function(t){Rn(t,function(t){return{from:qo(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(n){Rn(n,function(t){var e=n.charCoords(t.head,"div").top+5;return{from:n.coordsChar({left:0,top:e},"div"),to:t.from()}})},delWrappedLineRight:function(i){Rn(i,function(t){var e=i.charCoords(t.head,"div").top+5,n=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:e},"div");return{from:t.from(),to:n}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(qo(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(qo(t.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return so(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){n.extendSelectionsBy(function(t){var e=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:e},"div")},zs)},goLineLeft:function(n){n.extendSelectionsBy(function(t){var e=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:0,top:e},"div")},zs)},goLineLeftSmart:function(i){i.extendSelectionsBy(function(t){var e=i.charCoords(t.head,"div").top+5,n=i.coordsChar({left:0,top:e},"div");return n.ch<i.getLine(n.line).search(/\S/)?ao(i,t.head):n},zs)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Ps(t.getLine(o.line),o.ch,i);e.push(Dr(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(s){Me(s,function(){for(var t=s.listSelections(),e=[],n=0;n<t.length;n++){var i=t[n].head,r=Qi(s.doc,i.line).text;if(r)if(i.ch==r.length&&(i=new qo(i.line,i.ch-1)),0<i.ch)i=new qo(i.line,i.ch+1),s.replaceRange(r.charAt(i.ch-1)+r.charAt(i.ch-2),qo(i.line,i.ch-2),i,"+transpose");else if(i.line>s.doc.first){var o=Qi(s.doc,i.line-1).text;o&&s.replaceRange(r.charAt(0)+s.doc.lineSeparator()+o.charAt(o.length-1),qo(i.line-1,o.length-1),qo(i.line,1),"+transpose")}e.push(new dt(i,i))}s.setSelections(e)})},newlineAndIndent:function(i){Me(i,function(){for(var t=i.listSelections().length,e=0;e<t;e++){var n=i.listSelections()[e];i.replaceRange(i.doc.lineSeparator(),n.anchor,n.head,"+input"),i.indentLine(n.from().line+1,null,!0)}qn(i)})},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},ds=c.keyMap={};ds.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ds.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ds.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ds.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ds["default"]=No?ds.macDefault:ds.pcDefault,c.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=jr(n.split(" "),Gn),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t};var hs=c.lookupKey=function(t,e,n,i){var r=(e=Xn(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return hs(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=hs(t,e.fallthrough[o],n,i);if(s)return s}}},fs=c.isModifierKey=function(t){var e="string"==typeof t?t:aa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},ps=c.keyName=function(t,e){if(ko&&34==t.keyCode&&t["char"])return!1;var n=aa[t.keyCode],i=n;return null!=i&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(i="Alt-"+i),(jo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(jo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!e&&t.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};c.fromTextArea=function(e,t){function n(){e.value=a.getValue()}if((t=t?Wr(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=Ur();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Ns(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var r=e.form,o=r.submit;try{var s=r.submit=function(){n(),r.submit=o,r.submit(),r.submit=s}}catch(l){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Es(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var a=c(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return a};var gs=c.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};gs.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(-1<e)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ps(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ps(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ps(this.string,null,this.tabSize)-(this.lineStart?Ps(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&0<i.index?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ms=0,vs=c.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ms};Mr(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&_e(t),Ar(this,"clear")){var n=this.find();n&&kr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ti(s.markedSpans,this);t&&!this.collapsed?Fe(t,er(s),"text"):t&&(null!=a.to&&(r=er(s)),null!=a.from&&(i=er(s))),s.markedSpans=ei(s.markedSpans,a),null==a.from&&this.collapsed&&!wi(this.doc,s)&&t&&tr(s,ye(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=yi(this.lines[o]),c=p(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Oe(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Mt(t.doc)),t&&kr(t,"markerCleared",t,this),e&&we(t),this.parent&&this.parent.clear()}},vs.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=ti(o.markedSpans,this);if(null!=s.from&&(n=qo(e?o:er(o),s.from),-1==t))return n;if(null!=s.to&&(i=qo(e?o:er(o),s.to),1==t))return i}return n&&{from:n,to:i}},vs.prototype.changed=function(){var o=this.find(-1,!0),s=this,a=this.doc.cm;o&&a&&Me(a,function(){var t=o.line,e=er(o.line),n=Jt(a,e);if(n&&(oe(n),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!wi(s.doc,t)&&null!=s.height){var i=s.height;s.height=null;var r=Si(s)-i;r&&tr(t,t.height+r)}})},vs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Hr(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vs.prototype.detachLine=function(t){if(this.lines.splice(Hr(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};ms=0;var ys=c.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Mr(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();kr(this,"clear")}},ys.prototype.find=function(t,e){return this.primary.find(t,e)};var bs=c.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Mr(bs),bs.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=er(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Si(this);tr(n,Math.max(0,n.height-o)),t&&Me(t,function(){ki(t,n,-o),Fe(t,i,"widget")})}},bs.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var i=Si(this)-t;i&&(tr(n,n.height+i),e&&Me(e,function(){e.curOp.forceUpdate=!0,ki(e,n,i)}))};var _s=c.Line=function(t,e,n){this.text=t,ui(this,e),this.height=n?n(this):1};Mr(_s),_s.prototype.lineNo=function(){return er(this)};var xs={},ws={};Xi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Ai(r),kr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},Vi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(1<this.children.length||!(this.children[0]instanceof Xi))){var a=[];this.collapse(a),this.children=[new Xi(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&50<r.lines.length){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Xi(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new Vi(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=Hr(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var i=new Vi(t.children);(i.parent=t).children=[i,e],t=i}e.parent=t.parent}while(10<t.children.length);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Cs=0,ks=c.Doc=function(t,e,n,i){if(!(this instanceof ks))return new ks(t,e,n,i);null==n&&(n=0),Vi.call(this,[new Xi([new _s("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=qo(n,0);this.sel=ft(r),this.history=new or(null),this.id=++Cs,this.modeOption=e,this.lineSep=i,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Gi(this,{from:r,to:r,text:t}),Tt(this,ft(r),Ws)};ks.prototype=Fr(Vi.prototype,{constructor:ks,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Ji(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Ee(function(t){var e=qo(this.first,0),n=this.first+this.size-1;Tn(this,{from:e,to:qo(n,Qi(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,ft(e))}),replaceRange:function(t,e,n,i){En(this,t,e=gt(this,e),n=n?gt(this,n):e,i)},getRange:function(t,e,n){var i=Zi(this,gt(this,t),gt(this,e));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(vt(this,t))return Qi(this,t)},getLineNumber:function(t){return er(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Qi(this,t)),yi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return gt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ee(function(t,e,n){Ct(this,gt(this,"number"==typeof t?qo(t,e||0):t),null,n)}),setSelection:Ee(function(t,e,n){Ct(this,gt(this,t),gt(this,e||t),n)}),extendSelection:Ee(function(t,e,n){_t(this,gt(this,t),e&&gt(this,e),n)}),extendSelections:Ee(function(t,e){xt(this,yt(this,t),e)}),extendSelectionsBy:Ee(function(t,e){xt(this,yt(this,jr(this.sel.ranges,t)),e)}),setSelections:Ee(function(t,e,n){if(t.length){for(var i=0,r=[];i<t.length;i++)r[i]=new dt(gt(this,t[i].anchor),gt(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,ht(r,e),n)}}),addSelection:Ee(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new dt(gt(this,t),gt(this,e||t))),Tt(this,ht(i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=Zi(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Zi(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Ee(function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}var a=e&&"end"!=e&&kn(this,i,e);for(o=i.length-1;0<=o;o--)Tn(this,i[o]);a?St(this,a):this.cm&&qn(this.cm)}),undo:Ee(function(){An(this,"undo")}),redo:Ee(function(){An(this,"redo")}),undoSelection:Ee(function(){An(this,"undo",!0)}),redoSelection:Ee(function(){An(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:mr(this.history.done),undone:mr(this.history.undone)}},setHistory:function(t){var e=this.history=new or(this.history.maxGeneration);e.done=mr(t.done.slice(0),null,!0),e.undone=mr(t.undone.slice(0),null,!0)},addLineClass:Ee(function(t,n,i){return $n(this,t,"gutter"==n?"gutter":"class",function(t){var e="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[e]){if(Gr(i).test(t[e]))return!1;t[e]+=" "+i}else t[e]=i;return!0})}),removeLineClass:Ee(function(t,o,s){return $n(this,t,"gutter"==o?"gutter":"class",function(t){var e="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",n=t[e];if(!n)return!1;if(null==s)t[e]=null;else{var i=n.match(Gr(s));if(!i)return!1;var r=i.index+i[0].length;t[e]=n.slice(0,i.index)+(i.index&&r!=n.length?" ":"")+n.slice(r)||null}return!0})}),addLineWidget:Ee(function(t,e,n){return Ti(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Vn(this,gt(this,t),gt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Vn(this,t=gt(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Qi(this,(t=gt(this,t)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(r,o,s){r=gt(this,r),o=gt(this,o);var a=[],l=r.line;return this.iter(r.line,o.line+1,function(t){var e=t.markedSpans;if(e)for(var n=0;n<e.length;n++){var i=e[n];null!=i.to&&l==r.line&&r.ch>=i.to||null==i.from&&l!=r.line||null!=i.from&&l==o.line&&i.from>=o.ch||s&&!s(i.marker)||a.push(i.marker.parent||i.marker)}++l}),a},getAllMarks:function(){var i=[];return this.iter(function(t){var e=t.markedSpans;if(e)for(var n=0;n<e.length;++n)null!=e[n].from&&i.push(e[n].marker)}),i},posFromIndex:function(n){var i,r=this.first,o=this.lineSeparator().length;return this.iter(function(t){var e=t.text.length+o;if(n<e)return i=n,!0;n-=e,++r}),gt(this,qo(r,i))},indexFromPos:function(t){var e=(t=gt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new ks(Ji(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new ks(Ji(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Qn(i,Yn(this)),i},unlinkDoc:function(t){if(t instanceof c&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Zn(Yn(this));break}}if(t.history==this.history){var n=[t.id];Ki(t,function(t){n.push(t.id)},!0),t.history=new or(null),t.history.done=mr(this.history.done,n),t.history.undone=mr(this.history.undone,n)}},iterLinkedDocs:function(t){Ki(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ia(t)},lineSeparator:function(){return this.lineSep||"\n"}}),ks.prototype.eachLine=ks.prototype.iter;var Ss="iter insert remove copy getEditor constructor".split(" ");for(var Ts in ks.prototype)ks.prototype.hasOwnProperty(Ts)&&Hr(Ss,Ts)<0&&(c.prototype[Ts]=function(t){return function(){return t.apply(this.doc,arguments)}}(ks.prototype[Ts]));Mr(ks);var Ls=c.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},As=c.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ms=c.e_stop=function(t){Ls(t),As(t)},Ns=c.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});(i[e]||(i[e]=[])).push(n)}},Ds=[],Es=c.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var i=Cr(t,e,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Hs=c.signal=function(t,e){var n=Cr(t,e,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},js=null,Os=30,Fs=c.Pass={toString:function(){return"CodeMirror.Pass"}},Ws={scroll:!1},qs={origin:"*mouse"},zs={origin:"+move"};Nr.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Ps=c.countColumn=function(t,e,n,i,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||e<=a)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}},$s=c.findColumn=function(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||e<=r+s)return i+Math.min(s,e-r);if(r+=o-i,i=o+1,e<=(r+=n-r%n))return i}},Rs=[""],Is=function(t){t.select()};Ao?Is=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:bo&&(Is=function(t){try{t.select()}catch(e){}});var Bs,Us=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Gs=c.isWordChar=function(t){return/\w/.test(t)||"\x80"<t&&(t.toUpperCase()!=t.toLowerCase()||Us.test(t))
},Xs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Bs=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var Vs=c.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)};bo&&_o<11&&(Ur=function(){try{return document.activeElement}catch(t){return document.body}});var Ks,Ys,Qs,Zs,Js=c.rmClass=function(t,e){var n=t.className,i=Gr(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}},ta=c.addClass=function(t,e){var n=t.className;Gr(e).test(n)||(t.className+=(n?" ":"")+e)},ea=!1,na=function(){if(bo&&_o<9)return!1;var t=Rr("div");return"draggable"in t||"dragDrop"in t}(),ia=c.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ra=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},oa="oncopy"in(Qs=Rr("div"))||(Qs.setAttribute("oncopy","return;"),"function"==typeof Qs.oncopy),sa=null,aa=c.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)aa[t+48]=aa[t+96]=String(t);for(t=65;t<=90;t++)aa[t]=String.fromCharCode(t);for(t=1;t<=12;t++)aa[t+111]=aa[t+63235]="F"+t}();var la=function(){function y(t){return t<=247?e.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function b(t,e,n){this.level=t,this.from=e,this.to=n}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,x=/[stwN]/,w=/[LRr]/,C=/[Lb1n]/,k=/[1n]/,S="L";return function(t){if(!_.test(t))return!1;for(var e=t.length,n=[],i=0;i<e;++i)n.push(c=y(t.charCodeAt(i)));i=0;for(var r=S;i<e;++i){"m"==(c=n[i])?n[i]=r:r=c}i=0;for(var o=S;i<e;++i){"1"==(c=n[i])&&"r"==o?n[i]="n":w.test(c)&&"r"==(o=c)&&(n[i]="R")}for(i=1,r=n[0];i<e-1;++i){"+"==(c=n[i])&&"1"==r&&"1"==n[i+1]?n[i]="1":","!=c||r!=n[i+1]||"1"!=r&&"n"!=r||(n[i]=r),r=c}for(i=0;i<e;++i){if(","==(c=n[i]))n[i]="N";else if("%"==c){for(var s=i+1;s<e&&"%"==n[s];++s);for(var a=i&&"!"==n[i-1]||s<e&&"1"==n[s]?"1":"N",l=i;l<s;++l)n[l]=a;i=s-1}}for(i=0,o=S;i<e;++i){var c=n[i];"L"==o&&"1"==c?n[i]="L":w.test(c)&&(o=c)}for(i=0;i<e;++i)if(x.test(n[i])){for(s=i+1;s<e&&x.test(n[s]);++s);var u="L"==(i?n[i-1]:S),d="L"==(s<e?n[s]:S);for(a=u||d?"L":"R",l=i;l<s;++l)n[l]=a;i=s-1}var h,f=[];for(i=0;i<e;)if(C.test(n[i])){var p=i;for(++i;i<e&&C.test(n[i]);++i);f.push(new b(0,p,i))}else{var g=i,m=f.length;for(++i;i<e&&"L"!=n[i];++i);for(l=g;l<i;)if(k.test(n[l])){g<l&&f.splice(m,0,new b(1,g,l));var v=l;for(++l;l<i&&k.test(n[l]);++l);f.splice(m,0,new b(2,v,l)),g=l}else++l;g<i&&f.splice(m,0,new b(1,g,i))}return 1==f[0].level&&(h=t.match(/^\s+/))&&(f[0].from=h[0].length,f.unshift(new b(0,0,h[0].length))),1==Er(f).level&&(h=t.match(/\s+$/))&&(Er(f).to-=h[0].length,f.push(new b(0,e-h[0].length,e))),2==f[0].level&&f.unshift(new b(1,f[0].to,f[0].to)),f[0].level!=Er(f).level&&f.push(new b(f[0].level,e,e)),f}}();return c.version="5.16.0",c}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(y){"use strict";y.defineMode("sql",function(r,t){function o(t,e){var n=t.next();if(m[n]){var i=m[n](t,e);if(!1!==i)return i}if(1==g.hexNumber&&("0"==n&&t.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&t.match(/^'[0-9a-fA-F]+'/)))return"number";if(1==g.binaryNumber&&(("b"==n||"B"==n)&&t.match(/^'[01]+'/)||"0"==n&&t.match(/^b[01]+/)))return"number";if(47<n.charCodeAt(0)&&n.charCodeAt(0)<58)return t.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),1==g.decimallessFloat&&t.eat("."),"number";if("?"==n&&(t.eatSpace()||t.eol()||t.eat(";")))return"variable-3";if("'"==n||'"'==n&&g.doubleQuote)return e.tokenize=s(n),e.tokenize(t,e);if((1==g.nCharCast&&("n"==n||"N"==n)||1==g.charsetCast&&"_"==n&&t.match(/[a-z][a-z0-9]*/i))&&("'"==t.peek()||'"'==t.peek()))return"keyword";if(/^[\(\),\;\[\]]/.test(n))return null;if(g.commentSlashSlash&&"/"==n&&t.eat("/"))return t.skipToEnd(),"comment";if(g.commentHash&&"#"==n||"-"==n&&t.eat("-")&&(!g.commentSpaceRequired||t.eat(" ")))return t.skipToEnd(),"comment";if("/"==n&&t.eat("*"))return e.tokenize=a,e.tokenize(t,e);if("."!=n){if(p.test(n))return t.eatWhile(p),null;if("{"==n&&(t.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||t.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";t.eatWhile(/^[_\w\d]/);var r=t.current().toLowerCase();return v.hasOwnProperty(r)&&(t.match(/^( )+'[^']*'/)||t.match(/^( )+"[^"]*"/))?"number":d.hasOwnProperty(r)?"atom":h.hasOwnProperty(r)?"builtin":f.hasOwnProperty(r)?"keyword":u.hasOwnProperty(r)?"string-2":null}return 1==g.zerolessFloat&&t.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":1==g.ODBCdotTable&&t.match(/^[a-zA-Z_]+/)?"variable-2":void 0}function s(r){return function(t,e){for(var n,i=!1;null!=(n=t.next());){if(n==r&&!i){e.tokenize=o;break}i=!i&&"\\"==n}return"string"}}function a(t,e){for(;;){if(!t.skipTo("*")){t.skipToEnd();break}if(t.next(),t.eat("/")){e.tokenize=o;break}}return"comment"}function l(t,e,n){e.context={prev:e.context,indent:t.indentation(),col:t.column(),type:n}}function c(t){t.indent=t.context.indent,t.context=t.context.prev}var u=t.client||{},d=t.atoms||{"false":!0,"true":!0,"null":!0},h=t.builtin||{},f=t.keywords||{},p=t.operatorChars||/^[*+\-%<>!=&|~^]/,g=t.support||{},m=t.hooks||{},v=t.dateSQL||{date:!0,time:!0,timestamp:!0};return{startState:function(){return{tokenize:o,context:null}},token:function(t,e){if(t.sol()&&e.context&&null==e.context.align&&(e.context.align=!1),t.eatSpace())return null;var n=e.tokenize(t,e);if("comment"==n)return n;e.context&&null==e.context.align&&(e.context.align=!0);var i=t.current();return"("==i?l(t,e,")"):"["==i?l(t,e,"]"):e.context&&e.context.type==i&&c(e),n},indent:function(t,e){var n=t.context;if(!n)return y.Pass;var i=e.charAt(0)==n.type;return n.align?n.col+(i?0:1):n.indent+(i?0:r.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:g.commentSlashSlash?"//":g.commentHash?"#":null}}),function(){function t(t){for(var e;null!=(e=t.next());)if("`"==e&&!t.eat("`"))return"variable-2";return t.backUp(t.current().length-1),t.eatWhile(/\w/)?"variable-2":null}function e(t){return t.eat("@")&&(t.match(/^session\./),t.match(/^local\./),t.match(/^global\./)),t.eat("'")?(t.match(/^.*'/),"variable-2"):t.eat('"')?(t.match(/^.*"/),"variable-2"):t.eat("`")?(t.match(/^.*`/),"variable-2"):t.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function n(t){return t.eat("N")?"atom":t.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function i(t){for(var e={},n=t.split(" "),i=0;i<n.length;++i)e[n[i]]=!0;return e}var r="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";y.defineMIME("text/x-sql",{name:"sql",keywords:i(r+"begin"),builtin:i("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:i("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:i("date time timestamp"),support:i("ODBCdotTable doubleQuote binaryNumber hexNumber")}),y.defineMIME("text/x-mssql",{name:"sql",client:i("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:i(r+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare"),builtin:i("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:i("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:i("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":e}}),y.defineMIME("text/x-mysql",{name:"sql",client:i("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:i(r+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:i("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:i("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:i("date time timestamp"),support:i("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":e,"`":t,"\\":n}}),y.defineMIME("text/x-mariadb",{name:"sql",client:i("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:i(r+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:i("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:i("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:i("date time timestamp"),support:i("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":e,"`":t,"\\":n}}),y.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:i("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:i("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:i("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:i("commentSlashSlash decimallessFloat"),hooks:{}}),y.defineMIME("text/x-plsql",{name:"sql",client:i("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:i("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:i("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:i("date time timestamp"),support:i("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),y.defineMIME("text/x-hive",{name:"sql",keywords:i("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:i("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:i("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:i("date timestamp"),support:i("ODBCdotTable doubleQuote binaryNumber hexNumber")}),y.defineMIME("text/x-pgsql",{name:"sql",client:i("source"),keywords:i(r+"a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get global go goto grant granted greatest grouping groups handler header hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat"),builtin:i("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:i("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:i("date time timestamp"),support:i("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),y.defineMIME("text/x-gql",{name:"sql",keywords:i("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:i("false true"),builtin:i("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/
})}()}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(S){"use strict";function r(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function i(t,e){return 0<S.cmpPos(e.from,t.from)&&t.to.ch-t.from.ch!=e.to.ch-e.from.ch}function o(t,e,n){var i=t.options.hintOptions,r={};for(var o in d)r[o]=d[o];if(i)for(var o in i)i[o]!==undefined&&(r[o]=i[o]);if(n)for(var o in n)n[o]!==undefined&&(r[o]=n[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(t,e)),r}function T(t){return"string"==typeof t?t:t.text}function L(t,i){function e(t,e){var n;n="string"!=typeof e?function(t){return e(t,i)}:r.hasOwnProperty(e)?r[e]:e,o[t]=n}var r={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(1-i.menuSize(),!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},n=t.options.customKeys,o=n?{}:r;if(n)for(var s in n)n.hasOwnProperty(s)&&e(s,n[s]);var a=t.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&e(s,a[s]);return o}function A(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function s(r,t){this.completion=r,this.data=t,this.picked=!1;var n=this,o=r.cm,s=this.hints=document.createElement("ul");s.className="CodeMirror-hints",this.selectedHint=t.selectedHint||0;for(var e=t.list,i=0;i<e.length;++i){var a=s.appendChild(document.createElement("li")),l=e[i],c=M+(i!=this.selectedHint?"":" "+N);null!=l.className&&(c=l.className+" "+c),a.className=c,l.render?l.render(a,t,l):a.appendChild(document.createTextNode(l.displayText||T(l))),a.hintId=i}var u=o.cursorCoords(r.options.alignWithWord?t.from:null),d=u.left,h=u.bottom,f=!0;s.style.left=d+"px",s.style.top=h+"px";var p=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),g=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(r.options.container||document.body).appendChild(s);var m=s.getBoundingClientRect(),v=m.bottom-g,y=s.scrollHeight>s.clientHeight+1;if(0<v){var b=m.bottom-m.top;if(0<u.top-(u.bottom-m.top)-b)s.style.top=(h=u.top-b)+"px",f=!1;else if(g<b){s.style.height=g-5+"px",s.style.top=(h=u.bottom-m.top)+"px";var _=o.getCursor();t.from.ch!=_.ch&&(u=o.cursorCoords(_),s.style.left=(d=u.left)+"px",m=s.getBoundingClientRect())}}var x,w=m.right-p;if(0<w&&(m.right-m.left>p&&(s.style.width=p-5+"px",w-=m.right-m.left-p),s.style.left=(d=u.left-w)+"px"),y)for(var C=s.firstChild;C;C=C.nextSibling)C.style.paddingRight=o.display.nativeBarWidth+"px";(o.addKeyMap(this.keyMap=L(r,{moveFocus:function(t,e){n.changeActive(n.selectedHint+t,e)},setFocus:function(t){n.changeActive(t)},menuSize:function(){return n.screenAmount()},length:e.length,close:function(){r.close()},pick:function(){n.pick()},data:t})),r.options.closeOnUnfocus)&&(o.on("blur",this.onBlur=function(){x=setTimeout(function(){r.close()},100)}),o.on("focus",this.onFocus=function(){clearTimeout(x)}));var k=o.getScrollInfo();return o.on("scroll",this.onScroll=function(){var t=o.getScrollInfo(),e=o.getWrapperElement().getBoundingClientRect(),n=h+k.top-t.top,i=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(f||(i+=s.offsetHeight),i<=e.top||i>=e.bottom)return r.close();s.style.top=n+"px",s.style.left=d+k.left-t.left+"px"}),S.on(s,"dblclick",function(t){var e=A(s,t.target||t.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),n.pick())}),S.on(s,"click",function(t){var e=A(s,t.target||t.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),r.options.completeOnSingleClick&&n.pick())}),S.on(s,"mousedown",function(){setTimeout(function(){o.focus()},20)}),S.signal(t,"select",e[0],s.firstChild),!0}function a(t,e){if(!t.somethingSelected())return e;for(var n=[],i=0;i<e.length;i++)e[i].supportsSelection&&n.push(e[i]);return n}function l(t,e,n,i){if(t.async)t(e,i,n);else{var r=t(e,n);r&&r.then?r.then(i):i(r)}}function t(t,e){var n,s=t.getHelpers(e,"hint");if(s.length){var i=function(t,n,i){function r(e){if(e==o.length)return n(null);l(o[e],t,i,function(t){t&&0<t.list.length?n(t):r(e+1)})}var o=a(t,s);r(0)};return i.async=!0,i.supportsSelection=!0,i}return(n=t.getHelper(t.getCursor(),"hintWords"))?function(t){return S.hint.fromList(t,{words:n})}:S.hint.anyword?function(t,e){return S.hint.anyword(t,e)}:function(){}}var M="CodeMirror-hint",N="CodeMirror-hint-active";S.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var i={hint:e};if(n)for(var r in n)i[r]=n[r];return t.showHint(i)},S.defineExtension("showHint",function(t){t=o(this,this.getCursor("start"),t);var e=this.listSelections();if(!(1<e.length)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var n=0;n<e.length;n++)if(e[n].head.line!=e[n].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var i=this.state.completionActive=new r(this,t);i.options.hint&&(S.signal(this,"startCompletion",this),i.update(!0))}});var c=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},u=window.cancelAnimationFrame||clearTimeout;r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&S.signal(this.data,"close"),this.widget&&this.widget.close(),S.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,e){var n=t.list[e];n.hint?n.hint(this.cm,t,n):this.cm.replaceRange(T(n),n.from||t.from,n.to||t.to,"complete"),S.signal(t,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(u(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=c(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var n=this,i=++this.tick;l(this.options.hint,this.cm,this.options,function(t){n.tick==i&&n.finishUpdate(t,e)})}},finishUpdate:function(t,e){this.data&&S.signal(this.data,"update");var n=this.widget&&this.widget.picked||e&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&i(this.data,t)||(this.data=t)&&t.list.length&&(n&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),S.signal(t,"shown")))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,e){if(t>=this.data.list.length?t=e?this.data.list.length-1:0:t<0&&(t=e?0:this.data.list.length-1),this.selectedHint!=t){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+N,""),(n=this.hints.childNodes[this.selectedHint=t]).className+=" "+N,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),S.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},S.registerHelper("hint","auto",{resolve:t}),S.registerHelper("hint","fromList",function(t,e){var n=t.getCursor(),i=t.getTokenAt(n),r=S.Pos(n.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var o=i.string,s=S.Pos(n.line,i.start);else o="",s=r;for(var a=[],l=0;l<e.words.length;l++){var c=e.words[l];c.slice(0,o.length)==o&&a.push(c)}if(a.length)return{list:a,from:s,to:r}}),S.commands.autocomplete=S.showHint;var d={hint:S.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};S.defineOption("hintOptions",null)}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../../mode/sql/sql")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/sql/sql"],t):t(CodeMirror)}(function(n){"use strict";function a(t){return"[object Array]"==Object.prototype.toString.call(t)}function u(t){var e=t.doc.modeOption;return"sql"===e&&(e="text/x-sql"),n.resolveMode(e).keywords}function o(t){return"string"==typeof t?t:t.text}function s(t,e){return a(e)&&(e={columns:e}),e.text||(e.text=t),e}function d(t){var e={};if(a(t))for(var n=t.length-1;0<=n;n--){var i=t[n];e[o(i).toUpperCase()]=s(o(i),i)}else if(t)for(var r in t)e[r.toUpperCase()]=s(r,t[r]);return e}function p(t){return x[t.toUpperCase()]}function g(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function l(t,e){var n=t.length,i=o(e).substr(0,n);return t.toUpperCase()===i.toUpperCase()}function m(t,e,n,i){if(a(n))for(var r=0;r<n.length;r++)l(e,n[r])&&t.push(i(n[r]));else for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];l(e,s=s&&!0!==s?s.displayText?{text:s.text,displayText:s.displayText}:s.text:o)&&t.push(i(s))}}function v(t){return"."==t.charAt(0)&&(t=t.substr(1)),t.replace(/`/g,"")}function y(t){for(var e=o(t).split("."),n=0;n<e.length;n++)e[n]="`"+e[n]+"`";var i=e.join(".");return"string"==typeof t?i:((t=g(t)).text=i,t)}function h(t,e,n,i){for(var r=!1,o=[],s=e.start,a=!0;a;)a="."==e.string.charAt(0),r=r||"`"==e.string.charAt(0),s=e.start,o.unshift(v(e.string)),"."==(e=i.getTokenAt(k(t.line,e.start))).string&&(a=!0,e=i.getTokenAt(k(t.line,e.start)));var l=o.join(".");m(n,l,x,function(t){return r?y(t):t}),m(n,l,w,function(t){return r?y(t):t}),l=o.pop();var c=o.join("."),u=!1,d=c;if(!p(c)){var h=c;(c=_(c,i))!==h&&(u=!0)}var f=p(c);return f&&f.columns&&(f=f.columns),f&&m(n,l,f,function(t){var e=c;return 1==u&&(e=d),"string"==typeof t?t=e+"."+t:(t=g(t)).text=e+"."+t.text,r?y(t):t}),s}function b(t,e){if(t)for(var n=/[,;]/g,i=t.split(" "),r=0;r<i.length;r++)e(i[r]?i[r].replace(n,""):"")}function _(t,e){for(var n=e.doc,i=n.getValue(),r=t.toUpperCase(),o="",s="",a=[],l={start:k(0,0),end:k(e.lastLine(),e.getLineHandle(e.lastLine()).length)},c=i.indexOf(C.QUERY_DIV);-1!=c;)a.push(n.posFromIndex(c)),c=i.indexOf(C.QUERY_DIV,c+1);a.unshift(k(0,0)),a.push(k(e.lastLine(),e.getLineHandle(e.lastLine()).text.length));for(var u=null,d=e.getCursor(),h=0;h<a.length;h++){if((null==u||0<S(d,u))&&S(d,a[h])<=0){l={start:u,end:a[h]};break}u=a[h]}var f=n.getRange(l.start,l.end,!1);for(h=0;h<f.length;h++){if(b(f[h],function(t){var e=t.toUpperCase();e===r&&p(o)&&(s=o),e!==C.ALIAS_KEYWORD&&(o=t)}),s)break}return s}var x,w,f,C={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},k=n.Pos,S=n.cmpPos;n.registerHelper("hint","sql",function(t,e){x=d(e&&e.tables);var n=e&&e.defaultTable,i=e&&e.disableKeywords;w=n&&p(n),f=u(t),n&&!w&&(w=_(n,t)),(w=w||[]).columns&&(w=w.columns);var r,o,s,a=t.getCursor(),l=[],c=t.getTokenAt(a);return c.end>a.ch&&(c.end=a.ch,c.string=c.string.slice(0,a.ch-c.start)),c.string.match(/^[.`\w@]\w*$/)?(s=c.string,r=c.start,o=c.end):(r=o=a.ch,s=""),"."==s.charAt(0)||"`"==s.charAt(0)?r=h(a,c,l,t):(m(l,s,x,function(t){return t}),m(l,s,w,function(t){return t}),i||m(l,s,f,function(t){return t.toUpperCase()})),{list:l,from:k(a.line,r),to:k(a.line,o)}})}),$(function(){$(document).foundation(),jQuery.expr[":"].icontains=jQuery.expr.createPseudo(function(e){return function(t){return 0<=jQuery(t).text().toUpperCase().indexOf(e.toUpperCase())}}),$("body").on("change",".per_page_pagination_select",function(){$(this).parents("form").submit()}),$("body").on("keyup","#rails_db_tables_input",function(){value=$(this).val(),$("#rails_db_tables a").show(),$("#rails_db_tables a:not(:icontains('"+value+"'))").hide()}),$("body").on("click",".expand, .collapse",function(){return expand_collapse(),save_expand_collapse(),!1})}),$(window).bind("popstate",function(t){if("undefined"!=typeof history.pushState){var e=t.originalEvent.state;e&&(window.location=e.path)}});